{"release": "38331-g00", "ies": {"BH-LogicalChannelIdentity": [73], "BH-RLC-ChannelConfig": [74], "BT-Name": [86, 214], "BT-NameList": [86, 214], "BT-NameListConfig": [86], "BWP": [5, 10, 12, 16, 20, 61, 70, 85, 122, 130, 177, 284], "BWP-Id": [61, 70], "BandCombination": [219, 220], "BandCombinationList": [219, 220], "CSI-RS-Index": [197], "CSI-RS-ResourceConfigMobility": [176, 178], "CSI-ReportConfig": [124], "CellGroupConfig": [3, 61, 64, 68, 79, 84, 130], "CellIdentity": [214], "CellListEUTRA": [275], "CellListNR": [196, 275], "CellsToAddMod": [65, 167, 181], "CellsToAddModList": [65, 167, 181], "CommonLocationInfo": [196], "ConditionalReconfiguration": [84, 91], "ConnEstFailReport": [49, 52, 61, 106, 130, 131, 283], "CounterCheck": [99, 100], "CounterCheckResponse": [100], "DCP-Config": [314], "DLDedicatedMessageSegment": [267, 268], "DLInformationTransfer": [61, 225, 226, 230], "DLInformationTransferMRDC": [61, 230], "DRB-ToAddMod": [80], "DRB-ToAddModList": [80], "DataInactivityTimer": [115], "DedicatedSIBRequest": [16, 17], "EventTriggerConfig": [214], "FailureInfoDAPS": [264], "FailureInfoRLC-Bearer": [264], "FailureInformation": [237, 239, 242, 243, 245, 248, 249, 252, 253, 254, 263, 264], "FreqBandList": [220], "GapConfig": [106, 163, 171], "HRNN": [29], "Hysteresis": [341, 342], "LocationInfo": [52, 85, 122, 131, 196, 214, 244, 245, 249], "LocationMeasurementIndication": [202], "LogMeasReport": [49, 61, 106, 130, 207, 208, 211, 214, 283], "LogMeasResultBT": [196], "LogMeasResultWLAN": [196], "LoggedEventTriggerConfig": [214], "LoggedMeasurementConfiguration": [206, 207], "LogicalChannelConfig": [67, 74, 314], "LogicalChannelIdentity": [73, 74], "MCGFailureInformation": [237, 239, 252, 253, 254], "MIB": [5, 7, 9, 12, 19, 35, 65, 196], "MasterInformationBlockSidelink": [295, 296, 300, 322, 323, 324], "MaxBW-Preference": [259], "MaxMIMO-LayerPreference": [259], "MeasConfig": [31, 61, 72, 88, 94, 96, 104, 113, 123, 161, 163, 164, 165, 166, 167, 168, 169, 170, 176, 181, 196, 197, 207, 208, 211, 214, 245, 275, 307, 328, 329, 330, 331, 332, 333, 334, 335, 337, 340, 344], "MeasId": [49, 94, 113, 130, 275, 276, 283, 328, 329, 330, 331, 333, 334, 335, 337, 340, 344], "MeasIdToAddMod": [328, 330], "MeasIdToAddModList": [328, 330], "MeasIdToRemoveList": [328, 329], "MeasObjectId": [331, 332], "MeasObjectNR": [172, 177, 196, 244, 245, 254], "MeasObjectToAddMod": [328, 332], "MeasObjectToAddModList": [328, 332], "MeasObjectToRemoveList": [328, 331], "MeasResultSCG-Failure": [244, 245], "MeasResults": [344], "MeasurementReport": [156, 196, 237, 239, 344], "MeasurementReportSidelink": [344], "MobilityFromNRCommand": [155, 156, 159], "MobilityHistoryReport": [49, 130, 279, 283], "NPN-Identity": [9, 20], "NPN-IdentityInfo": [9, 20], "NPN-IdentityInfoList": [9], "NR-NS-PmaxList": [20, 21, 23], "OverheatingAssistance": [259], "PDCP-Config": [314], "PLMN-Identity": [9, 20, 49, 130], "PLMN-IdentityInfo": [9, 20], "PLMN-IdentityInfoList": [9], "PUCCH-CSI-Resource": [124], "PUCCH-Config": [124], "Paging": [10, 41, 42, 43], "PagingCycle": [10], "PagingRecord": [42, 43], "Q-OffsetRange": [188, 189], "QFI": [80], "QuantityConfig": [177, 328, 335], "QuantityConfigNR": [177], "RA-Report": [283, 284], "RA-ReportList": [284], "RAT-Type": [157, 158, 220], "RLC-BearerConfig": [67, 307, 311], "RLC-Config": [314], "RLF-Report": [49, 61, 85, 105, 106, 107, 122, 130, 283], "RRCReconfiguration": [5, 38, 59, 61, 65, 84, 85, 96, 122, 130, 152, 161, 176, 230, 238, 266, 268, 286, 291, 295, 296, 300, 302, 303, 307, 308, 310, 311, 312, 313, 314, 317, 318, 324, 326, 328], "RRCReconfigurationComplete": [61, 130, 238, 308, 311, 314, 318], "RRCReconfigurationCompleteSidelink": [308, 311, 314, 318], "RRCReconfigurationFailureSidelink": [291, 308, 317], "RRCReconfigurationSidelink": [291, 307, 308, 310, 311, 313, 314, 317, 326, 328], "RRCReestablishment": [49, 103, 104, 105, 106], "RRCReestablishmentComplete": [106], "RRCReestablishmentRequest": [49, 104, 105], "RRCReject": [146, 147, 303], "RRCRelease": [113, 123, 230, 275, 303], "RRCResume": [49, 61, 113, 128, 129, 130, 137, 147, 161, 266, 268], "RRCResumeComplete": [61, 130], "RRCResumeRequest": [49, 113, 128, 129, 147], "RRCResumeRequest1": [49, 113, 128, 129, 147], "RRCSetup": [45, 47, 48, 49, 102, 147], "RRCSetupComplete": [45, 49], "RRCSetupRequest": [47, 48, 49, 147], "RRCSystemInfoRequest": [14, 15], "RadioBearerConfig": [31, 62, 76, 80, 81, 307], "ReconfigurationWithSync": [113], "ReleasePreference": [259], "ReportCGI": [181, 196], "ReportConfigId": [333, 334], "ReportConfigInterRAT": [196], "ReportConfigToAddMod": [328, 334], "ReportConfigToAddModList": [328, 334], "ReportConfigToRemoveList": [328, 333], "ReportInterval": [344], "S-NSSAI": [49], "SCGFailureInformation": [242, 243, 245, 248, 249], "SCGFailureInformationEUTRA": [248, 249], "SDAP-Config": [314], "SI-SchedulingInfo": [5, 13], "SIB1": [5, 7, 9, 10, 12, 13, 14, 16, 19, 20, 29, 30, 31, 32, 33, 35, 38, 46, 47, 49, 52, 61, 69, 70, 88, 104, 127, 128, 129, 130, 131, 134, 140, 141, 153, 176, 181, 196, 275, 276, 284, 286, 290, 291, 292, 295, 296, 297, 300, 302, 303, 307, 310, 311, 313, 314, 324], "SIB10": [29], "SIB11": [7, 30, 275, 276], "SIB12": [31, 38, 46, 61, 127, 176, 286, 290, 291, 295, 296, 300, 302, 303, 307, 310, 311, 313, 314, 324], "SIB13": [32, 292, 297], "SIB14": [33, 292, 297], "SIB2": [21, 275], "SIB3": [22], "SIB4": [7, 23, 275], "SIB5": [7, 24], "SIB6": [9, 10, 25], "SIB7": [9, 10, 26], "SIB8": [9, 10, 27], "SIB9": [28], "SIBpos": [34], "SL-PreconfigurationNR": [295, 296, 300, 302, 324], "SL-ResourcePool": [196], "SL-ResourcePoolID": [196], "SL-ResourcePoolID-EUTRA": [196], "SLRB-Config": [306, 307], "SPS-Config": [61], "SRS-Config": [124], "SRS-Resource": [124], "SSB-Index": [197, 214], "SchedulingInfo": [5, 9, 10, 13, 14, 16, 20], "SchedulingRequestResourceConfig": [124], "SearchSpace": [12], "SecurityConfig": [81], "SecurityModeCommand": [57], "SecurityModeComplete": [57], "SecurityModeFailure": [57], "Sensor-LocationInfo": [214], "Sensor-NameList": [86, 214], "Sensor-NameListConfig": [86], "ServingCellConfig": [94], "ServingCellConfigCommon": [94], "ShortMAC-I": [105], "SidelinkPreconfigNR": [307, 310, 311, 312, 313, 314], "SidelinkUEInformationEUTRA": [292], "SidelinkUEInformationNR": [61, 290, 291], "SpCellConfig": [70], "SubcarrierSpacing": [85, 122, 163, 284], "SystemInformation": [5, 10, 13, 32, 33, 38, 61, 176, 181, 196, 286, 292, 297], "T312": [62, 65, 69, 70, 103, 121, 122, 181, 243, 245], "T316": [65, 103, 113, 122, 252, 254, 255], "TAG": [68], "TAG-Id": [68], "TimeToTrigger": [329, 330, 331, 333, 334, 335, 340], "UAC-BarringInfoSet": [141], "UAC-BarringPerCat": [141], "UAC-BarringPerCatList": [141], "UAC-BarringPerPLMN": [141], "UE-CapabilityRAT-Container": [219], "UE-CapabilityRAT-Request": [219], "UE-CapabilityRequestFilterNR": [220], "UE-MRDC-Capability": [219, 220], "UE-NR-Capability": [219, 220], "UEAssistanceInformation": [61, 258, 259, 260], "UEAssistanceInformationEUTRA": [260], "UECapabilityEnquiry": [217, 220], "UECapabilityInformation": [219, 270], "UEInformationRequest": [282, 283], "UEInformationResponse": [283], "ULDedicatedMessageSegment": [271, 272], "ULInformationTransfer": [61, 196, 233, 234, 235, 239, 254, 264], "ULInformationTransferMRDC": [61, 196, 239, 254, 264], "VarConditionalConfig": [61, 92, 93, 94, 104, 113, 123], "VarConnEstFailReport": [49, 52, 61, 106, 130, 131, 283], "VarLogMeasReport": [49, 61, 106, 130, 207, 208, 211, 214, 283], "VarMeasConfig": [61, 72, 94, 104, 113, 123, 161, 163, 164, 165, 166, 167, 168, 169, 170, 176, 181, 196, 197, 329, 330, 331, 332, 333, 334, 335, 337, 340, 344], "VarMeasConfigSL": [329, 330, 331, 332, 333, 334, 335, 337, 340, 344], "VarMeasIdleConfig": [113, 275, 276], "VarMeasIdleReport": [49, 130, 275, 283], "VarMeasReport": [72, 161, 164, 165, 166, 167, 168, 169, 170, 181, 196, 329, 330, 331, 333, 334, 335, 340, 344], "VarMeasReportList": [72, 161, 164, 165, 166, 167, 168, 169, 170, 181, 196, 329, 330, 331, 333, 334, 335, 340, 344], "VarMeasReportListSL": [329, 330, 331, 333, 334, 335, 340, 344], "VarMobilityHistoryReport": [49, 130, 279, 283], "VarRA-Report": [283, 284], "VarRLF-Report": [49, 61, 85, 105, 106, 107, 122, 130, 283], "VarResumeMAC-Input": [129], "VarShortMAC-Input": [105], "WLAN-Name": [86, 214], "WLAN-NameList": [86, 214], "a1-Threshold": [182], "a2-Threshold": [183], "a3-Offset": [184], "a4-Threshold": [185], "a5-Threshold1": [186], "a5-Threshold2": [186, 198], "a6-Offset": [187], "absThreshCSI-RS-Consolidation": [178, 197], "absThreshSS-BlocksConsolidation": [178, 197], "absoluteFrequencyPointA": [85, 122, 284], "absoluteTimeInfo": [207, 283], "absoluteTimeStamp": [283], "accessType": [43], "additionalPmax": [20, 21, 23], "additionalSpectrumEmission": [20, 21, 23], "affectedCarrierFreqComb": [259], "affectedCarrierFreqCombList": [259], "affectedCarrierFreqList": [259], "allowedMeasBandwidth": [275], "allowedServingCells": [122], "amf-Identifier": [49], "anyCellSelectionDetected": [214], "appliedFreqBandListFilter": [220], "areaConfiguration": [207, 214], "areaScope": [9], "assuming": [177], "attemptCondReconfig": [104], "b1-ThresholdEUTRA": [188], "b1-ThresholdUTRA-FDD": [188], "b2-Threshold1": [189], "b2-Threshold2EUTRA": [189], "b2-Threshold2UTRA-FDD": [189], "bap-Address": [89], "bap-Config": [61], "bh-LogicalChannelIdentity": [74], "bh-RLC-ChannelToAddModList": [64, 74], "bh-RLC-ChannelToReleaseList": [64, 73], "blackCellsToAddModList": [167, 181], "blackCellsToAddModListEUTRAN": [181], "blackCellsToRemoveList": [167], "bluetooth": [259], "bt-LocationInfo": [52, 85, 122, 131, 244, 245, 249], "c-RNTI": [85, 105, 122], "ca-BandwidthClassDL-EUTRA": [220], "ca-BandwidthClassUL-EUTRA": [220], "candidateServingFreqListNR": [258, 259], "capabilityRequestFilter": [219, 220], "capabilityRequestFilterCommon": [220], "carrier": [12, 19, 20, 23, 38, 61, 85, 86, 122, 130, 161, 163, 196, 220, 257, 258, 259, 275, 279, 284], "carrierBandwidth": [20], "carrierFreq": [196, 275], "carrierFreqEUTRA": [275], "carrierFreqNR": [275], "cbr": [196], "cbr-PSCCH-ResultsEUTRA": [196], "cbr-PSSCH-ResultsEUTRA": [196], "cell": [5, 9, 12, 14, 15, 19, 20, 35, 46, 48, 49, 51, 52, 59, 61, 62, 64, 65, 66, 67, 68, 69, 70, 72, 73, 74, 80, 85, 94, 95, 103, 104, 105, 106, 108, 113, 114, 122, 123, 124, 127, 129, 130, 131, 132, 134, 138, 140, 153, 155, 157, 159, 161, 167, 171, 172, 176, 177, 178, 181, 182, 183, 184, 185, 186, 187, 188, 189, 196, 197, 198, 214, 244, 245, 249, 254, 258, 259, 264, 275, 279, 283, 284, 287, 295, 296, 300, 301, 302, 303], "cellAccessRelatedInfo": [20], "cellBarred": [19], "cellForWhichToReportCGI": [181, 196], "cellGroup": [264], "cellGroupId": [264], "cellId": [9, 20, 113, 196, 284], "cellIdentity": [9, 20, 113, 196], "cellIndividualOffset": [184, 185, 186, 187, 188, 189], "cellReselectionPriorities": [49, 113, 114, 123, 130], "cellReservedForOperatorUse": [196], "cellsForWhichToReportSFTD": [181], "cellsToAddModList": [167, 181], "cellsToRemoveList": [167], "cellsTriggeredList": [72, 181, 196], "cgi-Info": [196], "channelOccupancy": [196], "channelOccupancyThreshold": [196], "cipheringAlgorithm": [57, 81, 106], "cipheringDisabled": [80], "cli-EventTriggered": [176, 181, 196], "cli-Periodical": [176, 181, 196], "cli-RSSI": [196], "cli-RSSI-Result": [196], "cli-TriggeredList": [181, 196], "cnType": [113], "common": [5, 10, 12, 16, 20, 39, 52, 61, 85, 88, 122, 131, 196, 244, 245, 249, 322], "commonLocationInfo": [52, 85, 122, 131, 196, 244, 245, 249], "condConfigId": [92, 93, 94], "condConfigToAddModList": [93], "condConfigToRemoveList": [91, 92], "condEventId": [94], "condExecutionCond": [93, 94], "condRRCReconfig": [93, 94, 95, 104], "condTriggerConfig": [61, 94, 104, 113, 123, 176], "conditionalReconfiguration": [59, 60, 61, 103, 104], "connEstFailCount": [52], "connEstFailInfoAvailable": [49, 61, 106, 130], "connEstFailOffset": [52], "connEstFailOffsetValidity": [52], "connEstFailReport": [283], "connEstFailReportReq": [283], "connEstFailureControl": [52], "connectionFailureType": [85, 122], "contentionDetected": [122], "count-Downlink": [100], "count-Uplink": [100], "csi-RS": [122, 163, 176], "csi-RS-Index": [122], "csi-RSRP": [163, 176], "csi-rs": [85, 122, 176, 178, 196, 244, 245, 254], "csi-rsRLMConfigBitmap": [85, 122], "daps-SourceRelease": [61], "dapsConfig": [65, 67, 69, 70, 76, 78, 80, 85, 120, 122], "dataCodingScheme": [26, 27], "dcp-Config": [78, 80, 129, 130], "dedicatedNAS-Message": [49, 61, 130, 226, 234], "dedicatedNAS-MessageList": [61], "dedicatedSIB1-Delivery": [61], "dedicatedSystemInformationDelivery": [61], "defaultPagingCycle": [10], "defaultUL-BAProutingID": [89], "defaultUL-BH-RLC-Channel": [89], "delayBudgetReport": [86, 103, 128, 258, 259], "delayBudgetReporting": [86, 103, 128, 258], "delayBudgetReportingConfig": [86, 103, 128], "delayBudgetReportingProhibitTimer": [258], "deprioritisationReq": [113], "deprioritisationTimer": [113], "directFrameNumber": [324], "disabled": [39, 80, 86], "discardOnPDCP": [78], "dl-DCCH-MessageEUTRA": [230], "dl-DCCH-MessageNR": [230], "dlRSRPAboveThreshold": [122], "dmrs-Type": [19], "dmrs-TypeA-Position": [19], "downlinkConfigCommon": [20], "drb": [76, 79, 80, 88, 100], "drb-ContinueROHC": [80], "drb-CountInfoList": [100], "drb-CountMSB-InfoList": [100], "drb-Id": [79, 80, 100], "drb-Identity": [79, 80, 100], "drb-ToAddModList": [76, 80, 88], "drb-ToReleaseList": [76, 79, 80], "drx-Preference": [86, 103, 128, 258, 259], "drx-PreferenceConfig": [86, 103, 128], "drx-PreferenceProhibitTimer": [258], "drx-SFTD-NeighMeas": [165, 176, 181], "duration": [172, 181], "enabled": [39, 80, 219, 271], "endSymbol": [163], "eps-BearerIdentity": [79, 80], "establishmentCause": [48, 105], "eutra": [3, 61, 113, 130, 157, 158, 188, 189, 200, 202, 219, 220, 275], "eutra-FineTimingDetection": [200, 202], "eutra-Q-OffsetRange": [188, 189], "eutra-RSTD": [200, 202], "eutra-SCG": [3, 61, 130], "eutra-SCG-Response": [61, 130], "eventA1": [181, 198], "eventA2": [181, 198], "eventA3": [181, 196, 198], "eventA4": [196, 198], "eventA5": [181, 196, 198], "eventA6": [198], "eventB1": [181, 196], "eventB1-UTRA-FDD": [181], "eventB2": [181, 196], "eventB2-UTRA-FDD": [181], "eventId": [181], "eventL1": [214], "eventTriggered": [176, 181, 196, 197, 198, 214], "eventType": [214], "explicit": [2, 59, 121, 161], "failedPCellId": [85, 122], "failureReportSCG": [249], "failureReportSCG-EUTRA": [249], "failureType": [243, 245, 249, 253, 254, 264], "fallback": [49, 102, 113, 126, 220], "featureSetCombination": [219, 220], "featureSetCombinations": [219, 220], "featureSets": [219, 220], "firstActiveDownlinkBWP-Id": [61, 70], "firstActiveUplinkBWP-Id": [70], "format": [5, 7, 9, 10, 12, 13, 20, 22, 24, 27, 30, 32, 33, 38, 41, 45, 47, 48, 49, 52, 59, 61, 65, 84, 85, 86, 88, 89, 96, 104, 106, 113, 114, 122, 123, 128, 130, 131, 159, 161, 164, 165, 166, 167, 168, 169, 170, 176, 181, 196, 197, 202, 205, 207, 210, 211, 214, 217, 218, 219, 224, 225, 226, 228, 230, 232, 233, 234, 235, 237, 238, 239, 241, 242, 243, 244, 245, 247, 248, 249, 251, 252, 253, 254, 257, 258, 259, 260, 262, 263, 264, 270, 278, 279, 281, 282, 283, 284, 286, 289, 290, 291, 292, 294, 295, 296, 297, 300, 302, 303, 307, 311, 312, 314, 317, 320, 322, 323, 324, 326, 329, 330, 331, 333, 334, 335], "four": [39], "frameBoundaryOffsetResult": [196], "freqBand": [196], "freqBandIndicator": [196], "freqBandIndicatorPriority": [196], "frequencyBandList": [20, 21, 23, 196, 220], "frequencyBandListFilter": [220], "frequencyBandListSUL": [21, 23], "frequencyInfoDL": [65], "fullConfig": [61, 130, 158], "fullI-RNTI": [43, 129], "gapFR1": [171], "gapFR2": [171], "gapOffset": [171], "gapSharingFR1": [174], "gapSharingFR2": [174], "gapSharingUE": [174], "gapUE": [171], "gnss-Sync": [296], "gnss-TOD-msec": [196], "guami-Type": [49], "hysteresis": [182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 341, 342], "i1-Threshold": [190, 196], "iab-NodeIndication": [49], "iab-Support": [20], "idc-Assistance": [86, 103, 128, 258, 259], "idc-AssistanceConfig": [86, 103, 128], "idleMeasAvailable": [49, 130], "idleModeMeasurementReq": [130, 283], "idleModeMeasurements": [49, 130, 275], "ims-EmergencySupport": [20], "inCoverage": [296, 300, 324], "includeBT-Meas": [196], "includeBeamMeasurements": [197, 275], "includeCommonLocationInfo": [196], "includeSensor-Meas": [196], "includeWLAN-Meas": [196], "integrityProtAlgorithm": [57, 81, 106], "integrityProtection": [80], "interFreqCarrierFreqList": [23], "interferenceDirection": [259], "intraFreqReselection": [19, 20, 35], "keySetChangeIndicator": [39, 81], "keyToUse": [39, 78, 80, 81], "length": [5, 13, 257], "locationAndBandwidth": [85, 122, 284], "locationCoordinate": [196, 214], "locationError": [196], "locationInfo": [52, 122, 131, 196, 214, 244, 245, 249], "locationSource": [196], "locationTimestamp": [196], "logMeasAvailable": [49, 61, 106, 130, 283], "logMeasAvailableBT": [49, 61, 106, 130, 283], "logMeasAvailableWLAN": [49, 61, 106, 130, 283], "logMeasInfoList": [283], "logMeasReport": [283], "logMeasReportReq": [283], "loggingDuration": [207], "loggingInterval": [207, 214], "logicalChannel": [66, 67, 264], "logicalChannelIdentity": [66, 67, 264], "mac-CellGroupConfig": [64, 68], "mac-LogicalChannelConfig": [67, 74], "mappedQoS-FlowsToAdd": [80], "masterCellGroup": [49, 60, 61, 88, 104, 129, 130], "masterKeyUpdate": [39, 61, 78, 80, 81, 85], "maxBW-Preference": [86, 103, 128, 258, 259], "maxBW-PreferenceConfig": [86, 103, 128], "maxBW-PreferenceProhibitTimer": [258], "maxBandwidthRequestedDL": [220], "maxBandwidthRequestedUL": [220], "maxCC-Preference": [86, 103, 128, 258, 259], "maxCC-PreferenceConfig": [86, 103, 128], "maxCC-PreferenceProhibitTimer": [258], "maxCarriersRequestedDL": [220], "maxCarriersRequestedUL": [220], "maxMIMO-LayerPreference": [86, 103, 128, 258, 259], "maxMIMO-LayerPreferenceConfig": [86, 103, 128], "maxMIMO-LayerPreferenceProhibitTimer": [258], "maxNrofRS-IndexesToReport": [176, 196, 197], "maxReportCLI": [196], "maxReportCells": [196], "measCellListEUTRA": [275], "measCellListNR": [275], "measConfig": [59, 61, 87, 130, 161, 163, 176, 249, 254], "measDuration": [173], "measGapConfig": [106, 163, 171], "measGapSharingConfig": [163, 174], "measId": [61, 72, 94, 104, 113, 123, 163, 164, 165, 166, 167, 168, 169, 170, 176, 181, 196, 198, 244, 245, 254, 275], "measIdList": [61, 72, 94, 104, 113, 123, 164, 165, 166, 167, 168, 169, 170, 176, 181, 196], "measIdToAddModList": [163, 165], "measIdToRemoveList": [163, 164], "measIdleCarrierListEUTRA": [113, 275], "measIdleCarrierListNR": [113, 275], "measIdleConfig": [113, 275], "measIdleConfigSIB": [275], "measIdleDuration": [113], "measObject": [61, 85, 104, 113, 123, 161, 163, 165, 166, 167, 176, 178, 181, 182, 183, 184, 185, 186, 187, 188, 189, 196, 197], "measObjectCLI": [176], "measObjectEUTRA": [176, 188, 189], "measObjectEUTRA-SL": [176], "measObjectId": [61, 104, 113, 123, 161, 166, 167, 196], "measObjectList": [61, 104, 113, 123, 166, 167], "measObjectNR": [85, 181, 182, 183, 184, 185, 186, 187, 196], "measObjectToAddModList": [163, 167], "measObjectToRemoveList": [163, 166], "measObjectUTRA-FDD": [188, 189], "measRSSI-ReportConfig": [176, 181, 196], "measReportIdleEUTRA": [130, 275], "measReportIdleNR": [130, 275, 283], "measResult": [52, 85, 122, 130, 131, 196, 214, 244, 245, 249, 254, 283], "measResultBestNeighCell": [196], "measResultCLI": [196], "measResultCellListSFTD-NR": [196], "measResultFailedCell": [52, 131], "measResultFreqList": [245, 249, 254], "measResultFreqListEUTRA": [254], "measResultFreqListMRDC": [249], "measResultIdleEUTRA": [130, 283], "measResultIdleNR": [130, 283], "measResultLastServCell": [85, 122], "measResultList": [85, 122], "measResultListEUTRA": [85, 122], "measResultListNR": [85, 122], "measResultNeighCells": [52, 85, 122, 131, 196, 214], "measResultPerMOList": [244], "measResultSCG": [245, 249, 254], "measResultSCG-EUTRA": [254], "measResultSCG-Failure": [245, 249, 254], "measResultSCG-FailureMRDC": [249], "measResultSFTD-EUTRA": [196], "measResultSFTD-NR": [196], "measResultServFreqListEUTRA-SCG": [196], "measResultServFreqListNR-SCG": [196], "measResultServingCell": [196, 244, 245, 254], "measResultServingMOList": [196], "measResults": [196], "measResultsListSL": [196], "measurementIndication": [202], "measurementSlots": [163], "message": [2, 3, 5, 9, 10, 13, 14, 15, 16, 17, 20, 25, 26, 27, 31, 38, 39, 42, 43, 45, 47, 48, 49, 57, 61, 65, 78, 79, 84, 85, 88, 92, 99, 100, 103, 104, 105, 106, 113, 122, 123, 128, 129, 130, 137, 152, 153, 155, 156, 157, 159, 161, 164, 166, 168, 176, 196, 202, 206, 207, 219, 220, 225, 226, 228, 229, 230, 233, 234, 235, 237, 238, 239, 241, 242, 243, 245, 248, 249, 252, 253, 254, 258, 259, 263, 264, 266, 267, 268, 270, 271, 272, 275, 282, 283, 286, 290, 291, 295, 296, 300, 302, 303, 307, 308, 311, 314, 315, 316, 317, 322, 323, 324, 326, 329, 331, 333, 344], "messageIdentifier": [25, 26, 27], "mgta": [171], "minSchedulingOffsetPreference": [86, 103, 128, 258, 259], "minSchedulingOffsetPreferenceConfig": [86, 103, 128], "minSchedulingOffsetPreferenceProhibitTimer": [258], "mobilityHistoryAvail": [49, 130], "mobilityHistoryReport": [283], "mobilityHistoryReportReq": [283], "mobilityState": [49, 130], "mrdc-ReleaseAndAdd": [61], "mrdc-SecondaryCellGroup": [3, 61, 84, 129, 130], "mrdc-SecondaryCellGroupConfig": [61, 84, 130], "msg1-FDM": [85, 122, 284], "msg1-FrequencyStart": [85, 122, 284], "msg1-SubcarrierSpacing": [85, 122, 284], "multiBandInfoList": [196], "nas-Container": [81, 84], "nas-SecurityParamFromNR": [157, 158], "networkControlledSyncTx": [295], "newUE-Identity": [65], "nextHopChainingCount": [39, 81, 106, 129], "ng-5G-S-TMSI": [48, 49], "ng-5G-S-TMSI-Part1": [48], "ng-5G-S-TMSI-Part2": [49], "ng-5G-S-TMSI-Value": [49], "noSIB1": [196], "noSuitableCellFound": [107], "none": [324], "npn-IdentityInfoList": [49, 196], "npn-IdentityList": [20, 196], "nr-NS-PmaxList": [20], "nr-SCG": [3, 61, 130], "nr-SCG-Response": [61, 130], "nrofCSI-RS-ResourcesToAverage": [178], "nrofPRBs": [163], "nrofSS-BlocksToAverage": [178], "numberOfConnFail": [52, 131], "numberOfPreamblesSentOnCSI-RS": [122], "numberOfPreamblesSentOnSSB": [122], "numberOfReportsSent": [181, 196], "obtainLocation": [86], "occasions": [13], "offset": [13, 52, 86, 161, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 257, 258, 259, 341, 342, 346], "offsetMO": [184, 185, 186], "offsetToSI-Used": [13], "one": [2, 3, 5, 10, 12, 13, 16, 20, 21, 23, 38, 39, 42, 43, 47, 49, 60, 61, 64, 65, 79, 84, 86, 91, 92, 95, 100, 102, 103, 104, 105, 111, 112, 113, 122, 128, 129, 140, 144, 152, 156, 161, 163, 164, 165, 166, 167, 168, 169, 170, 176, 177, 181, 186, 189, 196, 220, 242, 251, 257, 258, 259, 274, 275, 283, 286, 300, 301, 303, 313, 314, 324, 326, 329, 331, 333, 337, 345], "other": [2, 3, 5, 9, 10, 19, 20, 22, 24, 30, 34, 35, 43, 49, 60, 61, 65, 67, 80, 84, 85, 86, 88, 89, 100, 102, 105, 112, 113, 114, 118, 122, 130, 134, 138, 143, 151, 152, 153, 155, 158, 161, 173, 176, 177, 181, 196, 197, 211, 220, 244, 245, 248, 249, 254, 279, 283, 308, 312, 346], "otherConfig": [61, 86], "outOfCoverage": [214], "overheatingAssistance": [86, 103, 128, 258], "overheatingAssistanceConfig": [86, 103, 128], "overheatingInd": [258], "overheatingIndicationProhibitTimer": [258], "own": [10, 20, 23, 61, 70, 88, 100, 259], "p-Max": [20, 21, 23], "paging": [5, 10, 12, 38, 41, 42, 65, 128, 147], "pagingSearchSpace": [12], "pci-List": [172], "pci-Range": [167], "pci-RangeIndex": [167], "pdcch-Config": [19, 196], "pdcch-ConfigSIB1": [19, 196], "pdcp-Config": [78, 80, 129, 130], "pdcp-Duplication": [254], "pdu-Session": [80, 88], "pendingRNA-Update": [123, 128, 134, 147], "perRAInfoList": [52, 85, 122, 131, 284], "period": [5, 10, 12, 13, 26, 27, 52, 61, 161, 164, 165, 166, 167, 168, 169, 170, 172, 176, 177, 181, 196, 197, 198, 214, 322, 326, 329, 330, 331, 333, 334, 335, 340, 344], "periodic": [5, 61, 161, 164, 165, 166, 167, 168, 169, 170, 172, 176, 181, 196, 197, 198, 214, 326, 329, 330, 331, 333, 334, 335, 340, 344], "periodical": [5, 161, 164, 165, 166, 167, 168, 169, 170, 176, 181, 196, 197, 198, 214, 326, 329, 330, 331, 333, 334, 335, 340, 344], "periodicity": [5, 172], "periodicityAndOffset": [172], "physCellId": [65, 105, 167, 178, 196], "plmn-Identity": [20, 49, 52, 61, 85, 106, 122, 130, 131, 141, 196, 207, 214, 283, 284], "plmn-IdentityIndex": [141], "plmn-IdentityInfoList": [196], "plmn-IdentityList": [20, 49, 52, 61, 85, 106, 122, 130, 131, 196, 207, 214, 283, 284], "poolsTriggeredList": [181, 196], "posSI-SchedulingInfoList": [5, 13], "preferredDRX-InactivityTimer": [259], "preferredDRX-LongCycle": [259], "preferredDRX-ShortCycle": [259], "preferredDRX-ShortCycleTimer": [259], "preferredK0": [259], "preferredK0-SCS-120kHz": [259], "preferredK0-SCS-15kHz": [259], "preferredK0-SCS-30kHz": [259], "preferredK0-SCS-60kHz": [259], "preferredK2": [259], "preferredK2-SCS-120kHz": [259], "preferredK2-SCS-15kHz": [259], "preferredK2-SCS-30kHz": [259], "preferredK2-SCS-60kHz": [259], "preferredRRC-State": [259], "previousPCellId": [85, 122], "primaryPath": [254], "priority": [49, 113, 114, 123, 130, 300], "purpose": [41, 45, 55, 59, 102, 111, 117, 118, 126, 140, 151, 155, 196, 200, 205, 210, 224, 228, 232, 237, 241, 247, 251, 257, 260, 262, 266, 270, 284, 289, 292, 294, 297, 299, 306, 344], "qualityThreshold": [275], "quantityConfig": [163, 170, 177], "quantityConfigIndex": [177], "quantityConfigNR-List": [177], "quantityConfigUTRA-FDD": [177], "ra-ReportReq": [283], "raPurpose": [284], "rach-ConfigDedicated": [85], "radioBearerConfig": [49, 59, 61, 88, 130], "radioBearerConfig2": [61, 88, 130], "ran-NotificationAreaInfo": [20, 130, 158], "ranac": [196], "range": [48, 144, 163, 167, 177], "rat-Type": [219, 220], "receivedFilters": [220], "reconfigurationWithSync": [60, 61, 64, 65, 85, 88, 94, 104, 122], "recoverPDCP": [80], "redirectedCarrierInfo": [113], "reducedBW-FR1-DL": [259], "reducedBW-FR1-UL": [259], "reducedBW-FR2-DL": [259], "reducedBW-FR2-UL": [259], "reducedCCsDL": [259], "reducedCCsUL": [259], "reducedMIMO-LayersFR1-DL": [259], "reducedMIMO-LayersFR1-UL": [259], "reducedMIMO-LayersFR2-DL": [259], "reducedMIMO-LayersFR2-UL": [259], "reducedMaxBW-FR1": [259], "reducedMaxBW-FR2": [259], "reducedMaxCCs": [259], "reducedMaxMIMO-LayersFR1": [259], "reducedMaxMIMO-LayersFR2": [259], "reestablishPDCP": [78, 80], "reestablishRLC": [67, 74], "reestablishmentCause": [105], "reestablishmentCellId": [105], "refFR2ServCellAsyncCA": [171], "refFreqCSI-RS": [196, 244, 245, 254], "refServCellIndicator": [171], "referenceSFN": [226], "referenceTimeInfo": [28, 226], "registeredAMF": [49], "relativeTimeStamp": [214], "release": [2, 5, 14, 38, 39, 43, 49, 51, 52, 53, 59, 61, 62, 64, 65, 66, 68, 69, 71, 73, 76, 77, 78, 79, 80, 84, 85, 86, 87, 88, 89, 96, 102, 103, 104, 106, 107, 108, 111, 112, 113, 115, 117, 118, 122, 123, 124, 126, 128, 130, 131, 132, 134, 137, 138, 147, 158, 159, 171, 174, 202, 208, 210, 211, 228, 229, 230, 235, 258, 259, 266, 270, 276, 284, 286, 289, 291, 292, 303, 306, 307, 308, 310, 311, 316, 320, 326, 337], "releasePreference": [86, 103, 128, 258, 259], "releasePreferenceConfig": [86, 103, 128], "releasePreferenceProhibitTimer": [258], "repetition": [5], "reportAddNeighMeas": [196], "reportAmount": [181, 196], "reportCGI": [163, 165, 176, 181], "reportConfig": [61, 104, 113, 123, 163, 165, 168, 169, 176, 178, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 196, 198, 244, 245, 254], "reportConfigEUTRA-SL": [181], "reportConfigId": [61, 104, 113, 123, 168, 169], "reportConfigInterRAT": [188, 189, 196], "reportConfigList": [61, 104, 113, 123, 168, 169], "reportConfigNR": [165, 181, 182, 183, 184, 185, 186, 187, 190, 191, 192, 196], "reportConfigNR-SL": [181, 191, 192], "reportConfigToAddModList": [163, 169], "reportConfigToRemoveList": [163, 168], "reportInterval": [196], "reportOnLeave": [181], "reportQuantities": [275], "reportQuantity": [176, 196, 197, 198, 275], "reportQuantityCLI": [196], "reportQuantityCell": [176, 196, 198], "reportQuantityRS-Indexes": [176, 196, 197, 275], "reportQuantityUTRA-FDD": [196, 198], "reportRSRP": [176, 196], "reportSFTD": [163, 165, 176, 181, 196], "reportSFTD-Meas": [176, 181, 196], "reportSFTD-NeighMeas": [176, 181, 196], "reportType": [61, 104, 113, 123, 163, 165, 176, 181, 196, 197, 198, 207, 214], "reportUplinkTxDirectCurrent": [61, 130], "requested-SI-List": [15], "reservedBits": [324], "resource": [2, 14, 31, 49, 61, 76, 80, 85, 88, 96, 111, 121, 122, 123, 155, 158, 161, 163, 167, 176, 178, 181, 191, 192, 196, 244, 245, 254, 284, 289, 290, 291, 292, 302, 303], "resources": [2, 49, 76, 80, 85, 88, 111, 122, 123, 155, 158, 161, 163, 176, 178, 181, 196, 284, 290, 291, 302, 303], "restoreMCG-SCells": [130], "restoreSCG": [130], "resultsCSI-RS-Cell": [196], "resultsCSI-RS-Indexes": [197], "resultsSSB": [196, 197, 214], "resultsSSB-Cell": [196], "resultsSSB-Indexes": [197, 214], "resumeCause": [43, 128, 134], "resumeIdentity": [129], "resumeMAC-I": [129], "rlc-BearerToAddModList": [64, 67], "rlc-BearerToReleaseList": [64, 66], "rlc-Config": [67, 74], "rlf-Cause": [122], "rlf-InfoAvailable": [49, 61, 106, 130], "rlf-Report": [283], "rlf-ReportReq": [283], "rlf-TimersAndConstants": [69, 70], "rmtc-Config": [181], "rmtc-Periodicity": [173], "rmtc-SubframeOffset": [173], "rrc-ConfiguredSidelinkGrant": [303], "rrc-MessageSegmentContainer": [272], "rrc-SegAllowed": [219, 271], "rrc-TransactionIdentifier": [2], "rsIndexResults": [197], "rsType": [176, 178, 196, 244, 245, 254], "rsrp": [122, 196, 197, 198], "rsrp-Result": [196], "rsrp-ThresholdCSI-RS": [122], "rsrp-ThresholdSSB": [122], "rsrq": [275], "rssi-ResourceId": [196], "rssi-Result": [196], "s-MeasureConfig": [163, 176], "s-NSSAI-List": [49], "s-NonIntraSearchP": [275], "s-NonIntraSearchQ": [275], "s1-Threshold": [191, 341], "s2-Threshold": [342], "sCellConfigCommon": [72], "sCellConfigDedicated": [72], "sCellIndex": [71, 72], "sCellState": [72], "sCellToAddModList": [64, 72], "sCellToReleaseList": [64, 71], "scg-Response": [61], "schedulingInfoList": [5, 13], "sdap-Config": [80], "searchSpaceOtherSystemInformation": [10, 13], "searchSpaceSIB1": [12, 61], "secondaryCellGroup": [59, 60, 61], "securityAlgorithmConfig": [81], "securityConfig": [78, 80], "segmentEndIndication": [272], "segmentNumber": [272], "selectedPLMN-Identity": [49, 130], "sensor-LocationInfo": [52, 85, 122, 131, 196, 244, 245, 249], "sensor-MeasurementInformation": [196], "sensor-MotionInformation": [196], "serialNumber": [25, 26, 27], "servCellId": [196, 214], "servCellIdentity": [214], "servedRadioBearer": [67], "servingCellConfigCommon": [20, 113], "servingCellMO": [161, 176, 196], "setup": [2, 38, 39, 59, 60, 61, 69, 84, 86, 88, 89, 102, 111, 112, 113, 122, 133, 147, 156, 171, 172, 173, 174, 176, 251], "sf5": [172], "sfn-Offset": [196], "sfn-OffsetResult": [196], "shortI-RNTI": [129], "shortMAC-I": [105], "si-BroadcastStatus": [14, 15, 16, 20], "si-Periodicity": [13], "si-RequestConfig": [14], "si-RequestConfigSUL": [14], "si-SchedulingInfo": [9, 10, 13, 14, 16, 20], "si-WindowLength": [13], "sk-Counter": [39, 61, 81, 130], "sl-AssistanceConfigEUTRA": [86], "sl-AssistanceConfigNR": [86], "sl-CBR-ResultsNR": [196], "sl-CastType": [291], "sl-ConfigCommonNR": [176, 290, 291, 300, 303], "sl-ConfigDedicatedEUTRA": [61], "sl-ConfigDedicatedNR": [38, 61, 96, 176, 286, 295, 296, 300, 303, 307, 310, 311, 313, 314], "sl-EventId": [340], "sl-EventTriggered": [340, 344], "sl-Failure": [291], "sl-FreqInfoList": [31, 46, 127, 290, 295, 296, 302, 303, 324], "sl-FreqInfoToAddModList": [96, 176, 295, 296, 300, 302, 303, 324], "sl-FreqInfoToReleaseList": [96], "sl-FrequencyTriggeredList": [340], "sl-Hysteresis": [341, 342], "sl-MAC-LogicalChannelConfig": [314], "sl-MAC-LogicalChannelConfigPC5": [314], "sl-MappedQoS-Flows": [308], "sl-MappedQoS-FlowsToAddList": [308], "sl-MeasConfig": [31, 96, 307, 328], "sl-MeasConfigCommon": [31], "sl-MeasConfigInfoToAddModList": [96], "sl-MeasConfigInfoToReleaseList": [96], "sl-MeasId": [328, 329, 330, 331, 333, 334, 335, 337, 340, 344], "sl-MeasIdList": [329, 330, 331, 333, 334, 335, 337, 340, 344], "sl-MeasIdToAddModList": [328, 330], "sl-MeasIdToRemoveList": [328, 329], "sl-MeasObject": [328, 331, 332, 337, 338, 341, 342], "sl-MeasObjectId": [331, 332], "sl-MeasObjectList": [331, 332], "sl-MeasObjectToAddModList": [328, 332], "sl-MeasObjectToRemoveList": [328, 331], "sl-MeasResult": [344], "sl-NbAsSync": [300], "sl-NumberOfReportsSent": [340, 344], "sl-OffsetDFN": [346], "sl-PDCP-Config": [314], "sl-PDCP-ConfigPC5": [314], "sl-Period": [340, 344], "sl-Periodical": [340, 344], "sl-PreconfigGeneral": [324], "sl-QoS-InfoList": [291], "sl-QuantityConfig": [328, 335], "sl-RLC-BearerConfigIndex": [311], "sl-RLC-BearerToReleaseList": [311], "sl-RLC-Config": [314], "sl-RLC-ConfigPC5": [314], "sl-RS-Type": [337], "sl-RadioBearerConfigList": [31], "sl-RadioBearerToAddModList": [96], "sl-RadioBearerToReleaseList": [96, 310], "sl-ReportAmount": [344], "sl-ReportConfig": [328, 333, 334, 338, 340, 341, 342, 344], "sl-ReportConfigId": [333, 334], "sl-ReportConfigToAddModList": [328, 334], "sl-ReportConfigToRemoveList": [328, 333], "sl-ReportInterval": [344], "sl-ReportOnLeave": [340], "sl-ReportQuantity": [337, 344], "sl-ReportType": [340, 344], "sl-ResultDMRS": [344], "sl-RxInterestedFreqList": [61, 290, 291], "sl-RxPool": [31, 96, 302], "sl-SDAP-Config": [314], "sl-SDAP-ConfigPC5": [314], "sl-SSB-TimeAllocation1": [296], "sl-SSB-TimeAllocation2": [296], "sl-ScheduledConfig": [96, 303], "sl-SyncConfigList": [296, 324], "sl-SyncPriority": [300], "sl-SyncRefMinHyst": [300], "sl-TDD-Config": [324], "sl-TimeToTrigger": [329, 330, 331, 333, 334, 335, 340], "sl-TxPoolExceptional": [31, 96, 176, 303], "sl-TxPoolScheduling": [96, 176], "sl-TxPoolSelectedNormal": [31, 46, 96, 127, 176, 303], "sl-TxResourceReqList": [61, 290, 291], "sl-TypeTxSync": [291], "sl-TypeTxSyncList": [291], "sl-UE-AssistanceInformationNR": [259], "sl-UE-SelectedConfig": [96, 303], "sl-V2X-ConfigDedicated": [61], "sl-V2X-SPS-Config": [61], "sl-ZoneConfig": [345], "sl-ZoneLength": [345], "sl-filterCoefficient": [300], "sl-poolReportIdentity": [196], "slotIndex": [324], "slrb-ConfigToAddModList": [307, 308], "slrb-ConfigToReleaseList": [307, 308, 310], "slrb-PC5-ConfigIndex": [307, 308, 310], "slrb-Uu-ConfigIndex": [310], "smtc": [163, 172], "smtc1": [163, 172], "smtc2": [163, 172], "smtc2-LP": [172], "sourceConfig": [124, 176, 178], "spCellConfig": [61, 64, 65, 70, 88, 103, 104], "spCellConfigCommon": [65], "spCellConfigDedicated": [70], "srb-Identity": [39, 77, 78, 88], "srb-ToAddModList": [76, 78, 88], "srb3": [76, 243, 245], "srb3-ToRelease": [76], "srs": [196, 220], "srs-RSRP": [196], "srs-RSRP-Result": [196], "srs-Resource": [196], "srs-ResourceId": [196], "srs-SwitchingTimeRequest": [220], "srs-SwitchingTimeRequested": [220], "srs-SwitchingTimesListEUTRA": [220], "srs-SwitchingTimesListNR": [220], "ssb": [12, 13, 19, 85, 122, 163, 172, 176, 196, 244, 245, 254, 275], "ssb-ConfigMobility": [176], "ssb-Index": [122], "ssb-MeasConfig": [275], "ssb-PositionsInBurst": [13], "ssb-RSRP": [163, 176], "ssb-SubcarrierOffset": [12, 19, 196], "ssbFrequency": [163, 172, 196, 244, 245, 254], "ssbRLMConfigBitmap": [85, 122], "ssbSubcarrierSpacing": [163], "start": [2, 10, 13, 27, 38, 47, 65, 103, 104, 113, 120, 123, 128, 144, 147, 163, 165, 171, 181, 196, 200, 201, 202, 207, 220, 235, 258, 283, 300, 307, 344], "startPRB": [163], "subCarrierSpacingCommon": [19], "subcarrierSpacing": [85, 122, 284], "supplementaryUplink": [20], "supportedBandCombinationList": [219, 220], "supportedBandCombinationListNEDC-Only": [220], "suspendConfig": [49, 113, 123, 130], "symbols": [13], "syncInfoReserved": [324], "syncTxThreshIC": [295], "syncTxThreshOoC": [295], "systemFrameNumber": [19], "systemInformation": [5, 9], "systemInformationAreaID": [5, 9], "t304": [65], "t310": [243, 245, 253], "t312": [243, 245], "t316": [69], "t320": [113], "t380": [113], "tag-Id": [68], "tag-ToAddModList": [68], "tag-ToReleaseList": [68], "targetRAT-Type": [157, 158], "tce-Id": [207, 283], "tdd-UL-DL-ConfigurationCommon": [13, 324], "three": [220, 312], "time": [3, 5, 13, 14, 38, 47, 49, 52, 53, 59, 61, 62, 65, 68, 69, 70, 85, 86, 88, 94, 103, 104, 106, 108, 113, 120, 121, 122, 123, 128, 130, 131, 141, 143, 144, 147, 157, 158, 161, 164, 165, 166, 167, 168, 169, 170, 176, 177, 181, 196, 201, 207, 211, 214, 226, 244, 245, 254, 258, 275, 279, 283, 290, 307, 317, 318, 329, 330, 331, 333, 334, 335, 340, 344, 346], "timeAlignmentTimer": [14, 47, 68, 104, 128], "timeAlignmentTimerCommon": [14, 47, 104, 128], "timeConnFailure": [85, 122], "timeInfo": [226], "timeInfoType": [226], "timeSinceFailure": [283], "timeSpent": [279, 283], "timeToTrigger": [94, 164, 165, 166, 167, 168, 169, 170, 181], "traceRecordingSessionRef": [207, 283], "traceReference": [207, 283], "trackingAreaCode": [20, 196], "two": [2, 5, 9, 38, 39, 42, 45, 56, 59, 60, 64, 67, 80, 88, 91, 98, 99, 102, 112, 113, 126, 149, 151, 152, 156, 161, 163, 165, 176, 178, 186, 189, 196, 200, 217, 218, 220, 225, 228, 229, 232, 237, 251, 257, 260, 262, 263, 264, 266, 267, 275, 281, 282, 289, 291, 292, 295, 303, 326], "tx-PoolMeasToAddModList": [167, 176, 181], "tx-PoolMeasToRemoveList": [167], "txParameters": [296], "type": [113, 155, 161, 219, 220, 243, 253, 259, 291, 314, 326], "type1": [259], "uac-ACBarringListType": [141], "uac-AccessCategory1-SelectionAssistanceInfo": [20], "uac-BarringFactor": [144], "uac-BarringForAccessIdentity": [144], "uac-BarringForCommon": [141], "uac-BarringInfo": [141], "uac-BarringInfoSetList": [141], "uac-BarringPerPLMN-List": [141], "uac-BarringTime": [144], "uac-ExplicitACBarringList": [141], "uac-ImplicitACBarringList": [141], "uac-barringInfoSetIndex": [141], "ue-CapabilityEnquiryExt": [220], "ue-CapabilityRAT-Container": [219], "ue-CapabilityRAT-ContainerList": [219], "ue-CapabilityRAT-RequestList": [219], "ue-Identity": [43, 48, 105], "ue-TimersAndConstants": [69, 70, 88], "ul-DCCH-MessageEUTRA": [239], "ul-DCCH-MessageNR": [239], "ul-DelayValueConfig": [163, 176, 181], "ul-PDCP-DelayValueResultList": [196], "uncertainty": [226], "uplink": [14, 20, 21, 61, 70, 80, 100, 122, 130, 196, 220, 243, 259], "uplinkConfig": [20], "uplinkConfigCommon": [20], "uplinkDirectCurrentBWP": [61, 130], "uplinkDirectCurrentBWP-SUL": [61, 130], "uplinkTxDirectCurrentList": [61, 130], "useAutonomousGaps": [165, 176], "useFullResumeID": [129], "useT312": [181], "useWhiteCellList": [181], "utra-FDD": [188, 189], "utra-FDD-Q-OffsetRange": [188, 189], "v2-Threshold": [192], "validityAreaList": [113, 275], "validityCellList": [275], "valueTag": [9], "velocityEstimate": [196], "victimSystemType": [259], "visitedCellId": [279, 283], "voiceFallbackIndication": [113, 159], "waitTime": [113, 123, 147], "warningAreaCoordinatesSegment": [27], "warningMessageSegment": [26, 27], "warningType": [25], "whiteCellsToAddModList": [167, 181], "whiteCellsToRemoveList": [167], "wlan": [52, 85, 122, 131, 196, 244, 245, 249, 259], "wlan-LocationInfo": [52, 85, 122, 131, 196, 244, 245, 249]}, "section_list": [{"id": "5.1", "name": "General", "headline": "5.1\tGeneral", "aoa": [], "desc": "5\t Procedures\n5.1\tGeneral"}, {"id": "5.1.1", "name": "Introduction", "headline": "5.1.1\tIntroduction", "aoa": [["-", -1, "5\t Procedures\n5.1\tGeneral\n5.1.1\tIntroduction", ""], ["", 0, "This clause covers the general requirements.", 0]], "desc": "5\t Procedures\n5.1\tGeneral\n5.1.1\tIntroduction"}, {"id": "5.1.2", "name": "General requirements", "headline": "5.1.2\tGeneral requirements", "aoa": [["-", -1, "5\t Procedures\n5.1\tGeneral\n5.1.2\tGeneral requirements", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tprocess the received messages in order of reception by RRC, i.e. the processing of a message shall be completed before starting the processing of a subsequent message;\nNOTE:\tNetwork may initiate a subsequent procedure prior to receiving the UE's response of a previously initiated procedure.", 1], ["", 1, "1>\twithin a sub-clause execute the steps according to the order specified in the procedural description;", 2], ["", 1, "1>\tconsider the term 'radio bearer' (RB) to cover SRBs and DRBs unless explicitly stated otherwise;", 3], ["", 1, "1>\tset the rrc-TransactionIdentifier in the response message, if included, to the same value as included in the message received from the network that triggered the response message;", 4], ["-", 1, "1>\tupon receiving a choice value set to setup:", 5], ["", 2, "2>\tapply the corresponding received configuration and start using the associated resources, unless explicitly specified otherwise;", 6], ["-", 1, "1>\tupon receiving a choice value set to release:", 7], ["", 2, "2>\tclear the corresponding configuration and stop using the associated resources;", 8], ["-", 1, "1>\tin case the size of a list is extended, upon receiving an extension field comprising the entries in addition to the ones carried by the original field (regardless of whether the network signals more entries in total); apply the following generic behaviour unless explicitly stated otherwise:", 9], ["", 2, "2>\tcreate a combined list by concatenating the additional entries included in the extension field to the original field while maintaining the order among both the original and the additional entries;", 10], ["", 2, "2>\tfor the combined list, created according to the previous, apply the same behaviour as defined for the original field.", 11]], "desc": "5\t Procedures\n5.1\tGeneral\n5.1.2\tGeneral requirements"}, {"id": "5.1.3", "name": "Requirements for UE in MR-DC", "headline": "5.1.3\tRequirements for UE in MR-DC", "aoa": [["-", -1, "5\t Procedures\n5.1\tGeneral\n5.1.3\tRequirements for UE in MR-DC", ""], ["", 0, "In this specification, the UE considers itself to be in:\n-\tEN-DC, if and only if it is configured with nr-SecondaryCellGroupConfig according to TS 36.331[10], and it is connected to EPC,\n-\tNGEN-DC, if and only if it is configured with nr-SecondaryCellGroupConfig according to TS 36.331[10], and it is connected to 5GC,\n-\tNE-DC, if and only if it is configured with mrdc-SecondaryCellGroup set to eutra-SCG,\n-\tNR-DC, if and only if it is configured with mrdc-SecondaryCellGroup set to nr-SCG,\n-\tMR-DC, if and only if it is in (NG)EN-DC, NE-DC or NR-DC.\nNOTE:\tThis use of these terms deviates from the definition in TS 37.340 [41] and other specifications. In TS 37.340, these terms include also the case where the UE is configured with E-UTRA or NR MCG only (i.e. no NR or E-UTRA SCG) but with one or more bearers terminated in a secondary node (i.e. using NR PDCP).", 0], ["", 0, "The UE in (NG)EN-DC only executes a sub-clause of clause 5 in this specification when the subclause:\n-\tis referred to from a subclause under execution, either in this specification or in TS 36.331 [10]; or\n-\tapplies to a message received on SRB3 (if SRB3 is established); or\n-\tapplies to field(s), IE(s), UE variable(s) or timer(s) in this specification that the UE is configured with.", 1], ["", 0, "When executing a subclause of clause 5 in this specification, the UE follows the requirements in clause <a href=\"#5.1.2\">5.1.2</a> and in all subclauses of this specification applicable to the messages (including processing time requirements), fields, IEs, timers and UE variables indicated in the subclause under execution.", 2]], "desc": "5\t Procedures\n5.1\tGeneral\n5.1.3\tRequirements for UE in MR-DC"}, {"id": "5.2", "name": "System information", "headline": "5.2\tSystem information", "aoa": [], "desc": "5\t Procedures\n5.2\tSystem information"}, {"id": "5.2.1", "name": "Introduction", "headline": "5.2.1\tIntroduction", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.1\tIntroduction", ""], ["", 0, "System Information (SI) is divided into the MIB and a number of SIBs and posSIBs where:\n-\tthe MIB is always transmitted on the BCH with a periodicity of 80 ms and repetitions made within 80 ms (TS 38.212 [17], clause 7.1) and it includes parameters that are needed to acquire SIB1 from the cell. The first transmission of the MIB is scheduled in subframes as defined in TS 38.213 [13], clause 4.1 and repetitions are scheduled according to the period of SSB;\n-\tthe SIB1 is transmitted on the DL-SCH with a periodicity of 160 ms and variable transmission repetition periodicity within 160 ms as specified in TS 38.213 [13], clause 13. The default transmission repetition periodicity of SIB1 is 20 ms but the actual transmission repetition periodicity is up to network implementation. For SSB and CORESET multiplexing pattern 1, SIB1 repetition transmission period is 20 ms. For SSB and CORESET multiplexing pattern 2/3, SIB1 transmission repetition period is the same as the SSB period (TS 38.213 [13], clause 13). SIB1 includes information regarding the availability and scheduling (e.g. mapping of SIBs to SI message, periodicity, SI-window size) of other SIBs with an indication whether one or more SIBs are only provided on-demand and, in that case, the configuration needed by the UE to perform the SI request. SIB1 is cell-specific SIB;\n-\tSIBs other than SIB1 and posSIBs are carried in SystemInformation (SI) messages, which are transmitted on the DL-SCH. Only SIBs or posSIBs having the same periodicity can be mapped to the same SI message. SIBs and posSIBs are mapped to the different SI messages. Each SI message is transmitted within periodically occurring time domain windows (referred to as SI-windows with same length for all SI messages). Each SI message is associated with an SI-window and the SI-windows of different SI messages do not overlap. That is, within one SI-window only the corresponding SI message is transmitted. An SI message may be transmitted a number of times within the SI-window. Any SIB or posSIB except SIB1 can be configured to be cell specific or area specific, using an indication in SIB1. The cell specific SIB is applicable only within a cell that provides the SIB while the area specific SIB is applicable within an area referred to as SI area, which consists of one or several cells and is identified by systemInformationAreaID;\n-\tThe mapping of SIBs to SI messages is configured in schedulingInfoList, while the mapping of posSIBs to SI messages is configured in posSI-SchedulingInfoList;\n-\tFor a UE in RRC_CONNECTED, the network can provide system information through dedicated signalling using the RRCReconfiguration message, e.g. if the UE has an active BWP with no common search space configured to monitor system information or paging.\n-\tFor PSCell and SCells, the network provides the required SI by dedicated signalling, i.e. within an RRCReconfiguration message. Nevertheless, the UE shall acquire MIB of the PSCell to get SFN timing of the SCG (which may be different from MCG). Upon change of relevant SI for SCell, the network releases and adds the concerned SCell. For PSCell, the required SI can only be changed with Reconfiguration with Sync.\nNOTE:\tThe physical layer imposes a limit to the maximum size a SIB can take. The maximum SIB1 or SI message size is 2976 bits.", 0]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.1\tIntroduction"}, {"id": "5.2.2", "name": "System information acquisition", "headline": "5.2.2\tSystem information acquisition", "aoa": [], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition"}, {"id": "5.2.2.1", "name": "General UE requirements", "headline": "5.2.2.1\tGeneral UE requirements", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.1\tGeneral UE requirements", ""], ["", 0, "Figure 5.2.2.1-1: System information acquisition", 0], ["", 0, "The UE applies the SI acquisition procedure to acquire the AS, NAS- and positioning assistance data information. The procedure applies to UEs in RRC_IDLE, in RRC_INACTIVE and in RRC_CONNECTED.", 1], ["", 0, "The UE in RRC_IDLE and RRC_INACTIVE shall ensure having a valid version of (at least) the MIB, SIB1 through SIB4, SIB5 (if the UE supports E-UTRA) and SIB11 (if the UE is configured for idle/inactive measurements).", 2]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.1\tGeneral UE requirements"}, {"id": "5.2.2.2", "name": "SIB validity and need to (re)-acquire SIB", "headline": "5.2.2.2\tSIB validity and need to (re)-acquire SIB", "aoa": [], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.2\tSIB validity and need to (re)-acquire SIB"}, {"id": "5.2.2.2.1", "name": "SIB validity", "headline": "5.2.2.2.1\tSIB validity", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.2\tSIB validity and need to (re)-acquire SIB\n5.2.2.2.1\tSIB validity", ""], ["", 0, "The UE shall apply the SI acquisition procedure as defined in clause 5.2.2.3 upon cell selection (e.g. upon power on), cell-reselection, return from out of coverage, after reconfiguration with sync completion, after entering the network from another RAT, upon receiving an indication that the system information has changed, upon receiving a PWS notification, upon receiving a positioning request from upper layers; and whenever the UE does not have a valid version of a stored SIB.", 0], ["", 0, "When the UE acquires a MIB or a SIB1 or an SI message in a serving cell as described in clause 5.2.2.3, and if the UE stores the acquired SIB, then the UE shall store the associated areaScope, if present, the first PLMN-Identity in the PLMN-IdentityInfoList for non-NPN-only cells, the first NPN-Identity (SNPN identity in case of SNPN, or PNI-NPN identity in case of PNI-NPN, see TS 23.501 [32]) in the NPN-IdentityInfoList for NPN-only cells, the cellIdentity, the systemInformationAreaID, if present, and the valueTag, if present, as indicated in the si-SchedulingInfo for the SIB. The UE may use a valid stored version of the SI except MIB, SIB1, SIB6, SIB7 or SIB8 e.g. after cell re-selection, upon return from out of coverage or after the reception of SI change indication. The value tag for posSIB is optionally provided in LPP signalling [49].\nNOTE:\tThe storage and management of the stored SIBs in addition to the SIBs valid for the current serving cell is left to UE implementation.", 1], ["-", 0, "The UE shall:", 2], ["", 1, "1>\tdelete any stored version of a SIB after 3 hours from the moment it was successfully confirmed as valid;", 3], ["-", 1, "1>\tfor each stored version of a SIB:", 4], ["-", 2, "2>\tif the areaScope is associated and its value for the stored version of the SIB is the same as the value received in the si-SchedulingInfo for that SIB from the serving cell:", 5], ["-", 3, "3>\tif the cell is non-NPN-only cell and the first PLMN-Identity included in the PLMN-IdentityInfoList, the systemInformationAreaID and the valueTag that are included in the si-SchedulingInfo for the SIB received from the serving cell are identical to the PLMN-Identity, the systemInformationAreaID and the valueTag associated with the stored version of that SIB:", 6], ["", 4, "4>\tconsider the stored SIB as valid for the cell;", 7], ["-", 3, "3>\tif the cell is an NPN-only cell and the first NPN-Identity included in the NPN-IdentityInfoList, the systemInformationAreaID and the valueTag that are included in the si-SchedulingInfo for the SIB received from the serving cell are identical to the NPN-Identity, the systemInformationAreaID and the valueTag associated with the stored version of that SIB:", 8], ["", 4, "4>\tconsider the stored SIB as valid for the cell;", 9], ["-", 2, "2>\tif the areaScope is not present for the stored version of the SIB and the areaScope value is not included in the si-SchedulingInfo for that SIB from the serving cell:", 10], ["-", 3, "3>\tif the cell is non-NPN-only cell and the first PLMN-Identity in the PLMN-IdentityInfoList, the cellIdentity and valueTag that are included in the si-SchedulingInfo for the SIB received from the serving cell are identical to the PLMN-Identity, the cellIdentity and the valueTag associated with the stored version of that SIB:", 11], ["", 4, "4>\tconsider the stored SIB as valid for the cell;", 12], ["-", 3, "3>\tif the cell is an NPN-only cell and the first NPN-Identity in the NPN-IdentityInfoList, the cellIdentity and valueTag that are included in the si-SchedulingInfo for the SIB received from the serving cell are identical to the NPN-Identity, the cellIdentity and the valueTag associated with the stored version of that SIB:", 13], ["", 4, "4>\tconsider the stored SIB as valid for the cell;", 14]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.2\tSIB validity and need to (re)-acquire SIB\n5.2.2.2.1\tSIB validity"}, {"id": "5.2.2.2.2", "name": "SI change indication and PWS notification", "headline": "5.2.2.2.2\tSI change indication and PWS notification", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.2\tSIB validity and need to (re)-acquire SIB\n5.2.2.2.2\tSI change indication and PWS notification", ""], ["", 0, "A modification period is used, i.e. updated SI message (other than SI message for ETWS, CMAS and positioning assistance data) is broadcasted in the modification period following the one where SI change indication is transmitted. The modification period boundaries are defined by SFN values for which SFN mod m = 0, where m is the number of radio frames comprising the modification period. The modification period is configured by system information. The UE receives indications about SI modifications and/or PWS notifications using Short Message transmitted with P-RNTI over DCI (see clause 6.5). Repetitions of SI change indication may occur within preceding modification period. SI change indication is not applicable for SI messages containing posSIBs.", 0], ["", 0, "UEs in RRC_IDLE or in RRC_INACTIVE shall monitor for SI change indication in its own paging occasion every DRX cycle. UEs in RRC_CONNECTED shall monitor for SI change indication in any paging occasion at least once per modification period if the UE is provided with common search space on the active BWP to monitor paging, as specified in TS 38.213 [13], clause 13.", 1], ["", 0, "ETWS or CMAS capable UEs in RRC_IDLE or in RRC_INACTIVE shall monitor for indications about PWS notification in its own paging occasion every DRX cycle. ETWS or CMAS capable UEs in RRC_CONNECTED shall monitor for indication about PWS notification in any paging occasion at least once every defaultPagingCycle if the UE is provided with common search space on the active BWP to monitor paging.", 2], ["", 0, "For Short Message reception in a paging occasion, the UE monitors the PDCCH monitoring occasion(s) for paging as specified in TS 38.304 [20] and TS 38.213 [13].", 3], ["-", 0, "If the UE receives a Short Message, the UE shall:", 4], ["-", 1, "1>\tif the UE is ETWS capable or CMAS capable, the etwsAndCmasIndication bit of Short Message is set, and the UE is provided with searchSpaceOtherSystemInformation on the active BWP or the initial BWP:", 5], ["", 2, "2> immediately re-acquire the SIB1;", 6], ["-", 2, "2>\tif the UE is ETWS capable and si-SchedulingInfo includes scheduling information for SIB6:", 7], ["", 3, "3>\tacquire SIB6, as specified in sub-clause 5.2.2.3.2, immediately;", 8], ["-", 2, "2>\tif the UE is ETWS capable and si-SchedulingInfo includes scheduling information for SIB7:", 9], ["", 3, "3>\tacquire SIB7, as specified in sub-clause 5.2.2.3.2, immediately;", 10], ["-", 2, "2>\tif the UE is CMAS capable and si-SchedulingInfo includes scheduling information for SIB8:", 11], ["", 3, "3>\tacquire SIB8, as specified in sub-clause 5.2.2.3.2, immediately;", 12], ["-", 1, "1> if the systemInfoModification bit of Short Message is set:", 13], ["", 2, "2>\tapply the SI acquisition procedure as defined in sub-clause 5.2.2.3 from the start of the next modification period.", 14], ["-", 1, "1>\tif the stopPagingMonitoring bit of Short Message is set:", 15], ["", 2, "2>\tstop monitoring PDCCH monitoring occasion(s) for paging in this Paging Occasion (PO).", 16], ["", 0, "Editor's Note: As the title of this clause is for SI change and PWS, introduction of stopPagingMonitoring in this clause should be discussed further.", 17]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.2\tSIB validity and need to (re)-acquire SIB\n5.2.2.2.2\tSI change indication and PWS notification"}, {"id": "5.2.2.3", "name": "Acquisition of System Information", "headline": "5.2.2.3\tAcquisition of System Information", "aoa": [], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.3\tAcquisition of System Information"}, {"id": "5.2.2.3.1", "name": "Acquisition of MIB and SIB1", "headline": "5.2.2.3.1\tAcquisition of MIB and SIB1", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.3\tAcquisition of System Information\n5.2.2.3.1\tAcquisition of MIB and SIB1", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tapply the specified BCCH configuration defined in 9.1.1.1;", 1], ["", 1, "1>\tif the UE is in RRC_IDLE or in RRC_INACTIVE; or", 2], ["-", 1, "1>\tif the UE is in RRC_CONNECTED while T311 is running:", 3], ["", 2, "2>\tacquire the MIB, which is scheduled as specified in TS 38.213 [13];", 4], ["-", 2, "2>\tif the UE is unable to acquire the MIB;", 5], ["", 3, "3>\tperform the actions as specified in clause <a href=\"#5.2.2.5\">5.2.2.5</a>;", 6], ["-", 2, "2>\telse:", 7], ["", 3, "3>\tperform the actions specified in clause 5.2.2.4.1.", 8], ["", 1, "1>\tif the UE is in RRC_CONNECTED with an active BWP with common search space configured by searchSpaceSIB1 and pagingSearchSpace and has received an indication about change of system information; or", 9], ["", 1, "1>\tif the UE is in RRC_CONNECTED with an active BWP with common search space configured by searchSpaceSIB1 and pagingSearchSpace and the UE has not stored a valid version of a SIB, in accordance with sub-clause 5.2.2.2.1, of one or several required SIB(s), in accordance with sub-clause 5.2.2.1, and, UE has not acquired SIB1 in current modification period; or", 10], ["", 1, "1>\tif the UE is in RRC_IDLE or in RRC_INACTIVE; or", 11], ["-", 1, "1>\tif the UE is in RRC_CONNECTED while T311 is running:", 12], ["-", 2, "2>\tif ssb-SubcarrierOffset indicates SIB1 is transmitted in the cell (TS 38.213 [13]) and if SIB1 acquisition is required for the UE:", 13], ["", 3, "3>\tacquire the SIB1, which is scheduled as specified in TS 38.213 [13];", 14], ["-", 3, "3>\tif the UE is unable to acquire the SIB1:", 15], ["", 4, "4>\tperform the actions as specified in clause <a href=\"#5.2.2.5\">5.2.2.5</a>;", 16], ["-", 3, "3>\telse:", 17], ["", 4, "4>\tupon acquiring SIB1, perform the actions specified in clause 5.2.2.4.2.", 18], ["-", 2, "2>\telse if SIB1 acquisition is required for the UE and ssb-SubcarrierOffset indicates that SIB1 is not scheduled in the cell:", 19], ["", 3, "3>\tperform the actions as specified in clause 5.2.2.5.\nNOTE:\tThe UE in RRC_CONNECTED is only required to acquire broadcasted SIB1 if the UE can acquire it without disrupting unicast data reception, i.e. the broadcast and unicast beams are quasi co-located.", 20]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.3\tAcquisition of System Information\n5.2.2.3.1\tAcquisition of MIB and SIB1"}, {"id": "5.2.2.3.2", "name": "Acquisition of an SI message", "headline": "5.2.2.3.2\tAcquisition of an SI message", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.3\tAcquisition of System Information\n5.2.2.3.2\tAcquisition of an SI message", ""], ["", 0, "For SI message acquisition PDCCH monitoring occasion(s) are determined according to searchSpaceOtherSystemInformation. If searchSpaceOtherSystemInformation is set to zero, PDCCH monitoring occasions for SI message reception in SI-window are same as PDCCH monitoring occasions for SIB1 where the mapping between PDCCH monitoring occasions and SSBs is specified in TS 38.213[13]. If searchSpaceOtherSystemInformation is not set to zero, PDCCH monitoring occasions for SI message are determined based on search space indicated by searchSpaceOtherSystemInformation. PDCCH monitoring occasions for SI message which are not overlapping with UL symbols (determined according to tdd-UL-DL-ConfigurationCommon) are sequentially numbered from one in the SI window. The [x\u00d7N+K]th PDCCH monitoring occasion (s) for SI message in SI-window corresponds to the Kth transmitted SSB, where x = 0, 1, ...X-1, K = 1, 2, ...N, N is the number of actual transmitted SSBs determined according to ssb-PositionsInBurst in SIB1 and X is equal to CEIL(number of PDCCH monitoring occasions in SI-window/N). The actual transmitted SSBs are sequentially numbered from one in ascending order of their SSB indexes. The UE assumes that, in the SI window, PDCCH for an SI message is transmitted in at least one PDCCH monitoring occasion corresponding to each transmitted SSB and thus the selection of SSB for the reception SI messages is up to UE implementation.", 0], ["-", 0, "When acquiring an SI message, the UE shall:", 1], ["-", 1, "1>\tdetermine the start of the SI-window for the concerned SI message as follows:", 2], ["-", 2, "2>\tif the concerned SI message is configured in the schedulingInfoList:", 3], ["", 3, "3>\tfor the concerned SI message, determine the number n which corresponds to the order of entry in the list of SI messages configured by schedulingInfoList in si-SchedulingInfo in SIB1;", 4], ["", 3, "3>\tdetermine the integer value x = (n - 1) \u00d7 w, where w is the si-WindowLength;", 5], ["", 3, "3>\tthe SI-window starts at the slot #a, where a = x mod N, in the radio frame for which SFN mod T = FLOOR(x/N), where T is the si-Periodicity of the concerned SI message and N is the number of slots in a radio frame as specified in TS 38.213 [13];", 6], ["-", 2, "2>\telse if the concerned SI message is configured in the posSI-SchedulingInfoList and offsetToSI-Used is not configured:", 7], ["", 3, "3>\tcreate a concatented list of SI messages by appending the posSI-SchedulingInfoList in SIB1 to schedulingInfoList in si-SchedulingInfo in SIB1", 8], ["", 3, "3>\tfor the concerned SI message, determine the number n which corresponds to the order of entry in the concatenated list;", 9], ["", 3, "3>\tdetermine the integer value x = (n - 1) \u00d7 w, where w is the si-WindowLength;", 10], ["", 3, "3>\tthe SI-window starts at the slot #a, where a = x mod N, in the radio frame for which SFN mod T = FLOOR(x/N), where T is the si-Periodicity of the concerned SI message and N is the number of slots in a radio frame as specified in TS 38.213 [13];", 11], ["-", 2, "2>\telse if the concerned SI message is configured by the posSI-SchedulingInfoList and offsetToSI-Used is configured:", 12], ["", 3, "3>\tdetermine the number m which corresponds to the number of SI messages with an associated si-Periodicity of 8 radio frames (80 ms), configured by schedulingInfoList in SystemInformationBlockType1;", 13], ["", 3, "3>\tfor the concerned SI message, determine the number n which corresponds to the order of entry in the list of SI messages configured by posSI-SchedulingInfoList in SIB1;", 14], ["", 3, "3>\tdetermine the integer value x = m \u00d7 w + (n - 1) \u00d7 w, where w is the si-WindowLength", 15], ["", 3, "3>\tthe SI-window starts at the slot #a, where a = x mod N, in the radio frame for which SFN mod T = FLOOR(x/N), where T is the si-Periodicity of the concerned SI message and N is the number of slots in a radio frame as specified in TS 38.213 [13];", 16], ["", 1, "1>\treceive the PDCCH containing the scheduling RNTI, i.e. SI-RNTI in the PDCCH monitoring occasion(s) for SI message acquisition, from the start of the SI-window and continue until the end of the SI-window whose absolute length in time is given by si-WindowLength, or until the SI message was received;", 17], ["", 1, "1>\tif the SI message was not received by the end of the SI-window, repeat reception at the next SI-window occasion for the concerned SI message in the current modification period;\nNOTE 1:\tThe UE is only required to acquire broadcasted SI message if the UE can acquire it without disrupting unicast data reception, i.e. the broadcast and unicast beams are quasi co-located.\nNOTE 2:\tThe UE is not required to monitor PDCCH monitoring occasion(s) corresponding to each transmitted SSB in SI-window.\nNOTE 3:\tIf the concerned SI message was not received in the current modification period, handling of SI message acquisition is left to UE implementation.", 18], ["", 1, "1>\tperform the actions for the acquired SI message as specified in sub-clause 5.2.2.4.", 19]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.3\tAcquisition of System Information\n5.2.2.3.2\tAcquisition of an SI message"}, {"id": "5.2.2.3.3", "name": "Request for on demand system information", "headline": "5.2.2.3.3\tRequest for on demand system information", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.3\tAcquisition of System Information\n5.2.2.3.3\tRequest for on demand system information", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif SIB1 includes si-SchedulingInfo containing si-RequestConfigSUL and criteria to select supplementary uplink as defined in TS 38.321[13], clause <a href=\"#5.1.1\">5.1.1</a> is met:", 1], ["", 2, "2>\ttrigger the lower layer to initiate the Random Access procedure on supplementary uplink in accordance with [3] using the PRACH preamble(s) and PRACH resource(s) in si-RequestConfigSUL corresponding to the SI message(s) that the UE requires to operate within the cell, and for which si-BroadcastStatus is set to notBroadcasting;", 2], ["-", 2, "2>\tif acknowledgement for SI request is received from lower layers:", 3], ["", 3, "3>\tacquire the requested SI message(s) as defined in sub-clause 5.2.2.3.2, immediately;", 4], ["-", 1, "1>\telse if SIB1 includes si-SchedulingInfo containing si-RequestConfig and criteria to select normal uplink as defined in TS 38.321[13], clause <a href=\"#5.1.1\">5.1.1</a> is met:", 5], ["", 2, "2>\ttrigger the lower layer to initiate the random access procedure on normal uplink in accordance with TS 38.321 [3] using the PRACH preamble(s) and PRACH resource(s) in si-RequestConfig corresponding to the SI message(s) that the UE requires to operate within the cell, and for which si-BroadcastStatus is set to notBroadcasting;", 6], ["-", 2, "2>\tif acknowledgement for SI request is received from lower layers:", 7], ["", 3, "3>\tacquire the requested SI message(s) as defined in sub-clause 5.2.2.3.2, immediately;", 8], ["-", 1, "1>\telse:", 9], ["", 2, "2>\tapply the default L1 parameter values as specified in corresponding physical layer specifications except for the parameters for which values are provided in SIB1;", 10], ["", 2, "2>\tapply the default MAC Cell Group configuration as specified in 9.2.2;", 11], ["", 2, "2>\tapply the timeAlignmentTimerCommon included in SIB1;", 12], ["", 2, "2>\tapply the CCCH configuration as specified in 9.1.1.2;", 13], ["", 2, "2>\tinitiate transmission of the RRCSystemInfoRequest message in accordance with <a href=\"#5.2.2.3.4\">5.2.2.3.4</a>;", 14], ["-", 2, "2>\tif acknowledgement for RRCSystemInfoRequest message is received from lower layers:", 15], ["", 3, "3>\tacquire the requested SI message(s) as defined in sub-clause 5.2.2.3.2, immediately;", 16], ["-", 1, "1>\tif cell reselection occurs while waiting for the acknowledgment for SI request from lower layers:", 17], ["", 2, "2>\treset MAC;", 18], ["-", 2, "2>\tif SI request is based on RRCSystemInfoRequest message:", 19], ["", 3, "3>\trelease RLC entity for SRB0.\nNOTE:\tAfter RACH failure for SI request it is up to UE implementation when to retry the SI request.", 20]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.3\tAcquisition of System Information\n5.2.2.3.3\tRequest for on demand system information"}, {"id": "5.2.2.3.4", "name": "Actions related to transmission of RRCSystemInfoRequest message", "headline": "5.2.2.3.4\tActions related to transmission of RRCSystemInfoRequest message", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.3\tAcquisition of System Information\n5.2.2.3.4\tActions related to transmission of RRCSystemInfoRequest message", ""], ["-", 0, "The UE shall set the contents of RRCSystemInfoRequest message as follows:", 0], ["", 1, "1>\tset the requested-SI-List to indicate the SI message(s) that the UE requires to operate within the cell, and for which si-BroadcastStatus is set to notBroadcasting.", 1], ["", 0, "The UE shall submit the RRCSystemInfoRequest message to lower layers for transmission.", 2]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.3\tAcquisition of System Information\n5.2.2.3.4\tActions related to transmission of RRCSystemInfoRequest message"}, {"id": "5.2.2.3.5", "name": "Request for on demand system information in RRC_CONNECTED", "headline": "5.2.2.3.5\tRequest for on demand system information in RRC_CONNECTED", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.3\tAcquisition of System Information\n5.2.2.3.5\tRequest for on demand system information in RRC_CONNECTED", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif the UE is in RRC_CONNECTED with an active BWP not configured with common search and the UE has not stored a valid version of a SIB, in accordance with sub-clause 5.2.2.2.1, of one or several required SIB(s), in accordance with sub-clause 5.2.2.1:", 1], ["-", 2, "2>\tfor the SI message(s) that, according to the si-SchedulingInfo in the stored SIB1, contain at least one required SIB:", 2], ["", 3, "3>\tinitiate transmission of the DedicatedSIBRequest message in accordance with <a href=\"#5.2.2.3.6\">5.2.2.3.6</a>;", 3], ["-", 3, "3>\tif the UE has an active BWP with common search space configured:", 4], ["", 4, "4>\tacquire the requested SI message(s) corresponding to the requested SIB(s) as defined in sub-clause 5.2.2.3.2.", 5], ["-", 1, "1>\telse if the UE is in RRC_CONNECTED with an active BWP configured with common search space and the UE has not stored a valid version of a SIB, in accordance with sub-clause 5.2.2.2.1, of one or several required SIB(s), in accordance with sub-clause 5.2.2.1:", 6], ["-", 2, "2>\tfor the SI message(s) that, according to the si-SchedulingInfo in the stored SIB1, contain at least one required SIB and for which si-BroadcastStatus is set to Broadcasting:", 7], ["", 3, "3>\tacquire the SI message(s) as defined in sub-clause <a href=\"#5.2.2.3.2\">5.2.2.3.2</a>;", 8], ["-", 2, "2>\tfor the SI message(s) that, according to the si-SchedulingInfo in the stored SIB1, contain at least one required SIB and for which si-BroadcastStatus is set to notBroadcasting:", 9], ["", 3, "3>\tinitiate transmission of the DedicatedSIBRequest message in accordance with <a href=\"#5.2.2.3.6\">5.2.2.3.6</a>;", 10], ["-", 3, "3>\tif the UE has an active BWP with common search space configured:", 11], ["", 4, "4>\tacquire the requested SI message(s) corresponding to the requested SIB(s) as defined in sub-clause 5.2.2.3.2.", 12]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.3\tAcquisition of System Information\n5.2.2.3.5\tRequest for on demand system information in RRC_CONNECTED"}, {"id": "5.2.2.3.6", "name": "Actions related to transmission of DedicatedSIBRequest message", "headline": "5.2.2.3.6\tActions related to transmission of DedicatedSIBRequest message", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.3\tAcquisition of System Information\n5.2.2.3.6\tActions related to transmission of DedicatedSIBRequest message", ""], ["-", 0, "The UE shall set the contents of DedicatedSIBRequest message as follows:", 0], ["", 1, "1>\tset the onDemandSIB-RequestList to indicate the requested SIB(s).", 1], ["", 0, "The UE shall submit the DedicatedSIBRequest message to lower layers for transmission.", 2]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.3\tAcquisition of System Information\n5.2.2.3.6\tActions related to transmission of DedicatedSIBRequest message"}, {"id": "5.2.2.4", "name": "Actions upon receipt of System Information", "headline": "5.2.2.4\tActions upon receipt of System Information", "aoa": [], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information"}, {"id": "5.2.2.4.1", "name": "Actions upon reception of the MIB", "headline": "5.2.2.4.1\tActions upon reception of the MIB", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.1\tActions upon reception of the MIB", ""], ["-", 0, "Upon receiving the MIB the UE shall:", 0], ["", 1, "1>\tstore the acquired MIB;", 1], ["-", 1, "1>\tif the UE is in RRC_IDLE or in RRC_INACTIVE, or if the UE is in RRC_CONNECTED while T311 is running:", 2], ["-", 2, "2>\tif the cellBarred in the acquired MIB is set to barred:", 3], ["", 3, "3>\tconsider the cell as barred in accordance with TS 38.304 [20];", 4], ["-", 3, "3>\tif intraFreqReselection is set to notAllowed:", 5], ["", 4, "4>\tconsider cell re-selection to other cells on the same frequency as the barred cell as not allowed, as specified in TS 38.304 [20].", 6], ["-", 3, "3>\telse:", 7], ["", 4, "4>\tconsider cell re-selection to other cells on the same frequency as the barred cell as allowed, as specified in TS 38.304 [20].", 8], ["-", 2, "2>\telse:", 9], ["", 3, "3>\tapply the received systemFrameNumber, pdcch-ConfigSIB1, subCarrierSpacingCommon, ssb-SubcarrierOffset and dmrs-TypeA-Position.", 10]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.1\tActions upon reception of the MIB"}, {"id": "5.2.2.4.2", "name": "Actions upon reception of the SIB1", "headline": "5.2.2.4.2\tActions upon reception of the SIB1", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.2\tActions upon reception of the SIB1", ""], ["-", 0, "Upon receiving the SIB1 the UE shall:", 0], ["", 1, "1>\tstore the acquired SIB1;", 1], ["-", 1, "1>\tif the cell is not an NPN-only cell and the cellAccessRelatedInfo contains an entry with the PLMN-Identity of the selected PLMN:", 2], ["", 2, "2>\tin the remainder of the procedures use plmn-IdentityList, trackingAreaCode, and cellIdentity for the cell as received in the corresponding PLMN-IdentityInfo containing the selected PLMN;", 3], ["-", 1, "1>\tif the cellAccessRelatedInfo contains an entry with the NPN-Identity of the selected NPN:", 4], ["", 2, "2>\tin the remainder of the procedures use npn-IdentityList, trackingAreaCode, and cellIdentity for the cell as received in the corresponding NPN-IdentityInfo containing the selected NPN;", 5], ["-", 1, "1>\tif in RRC_CONNECTED while T311 is not running:", 6], ["", 2, "2>\tdisregard the frequencyBandList, if received, while in RRC_CONNECTED;", 7], ["", 2, "2>\tforward the cellIdentity to upper layers;", 8], ["", 2, "2>\tforward the trackingAreaCode to upper layers;", 9], ["", 2, "2>\tapply the configuration included in the servingCellConfigCommon;", 10], ["-", 2, "2>\tif the UE has a stored valid version of a SIB, in accordance with sub-clause 5.2.2.2.1, that the UE requires to operate within the cell in accordance with sub-clause 5.2.2.1:", 11], ["", 3, "3>\tuse the stored version of the required SIB;", 12], ["-", 2, "2>\telse if the UE has an active BWP configured with common search space and the UE has not stored a valid version of a SIB, in accordance with sub-clause 5.2.2.2.1, of one or several required SIB(s), in accordance with sub-clause 5.2.2.1:", 13], ["-", 3, "3>\tfor the SI message(s) that, according to the si-SchedulingInfo, contain at least one required SIB and for which si-BroadcastStatus is set to broadcasting:", 14], ["", 4, "4>\tacquire the SI message(s) corresponding to the requested SIB(s) as defined in sub-clause <a href=\"#5.2.2.3.5\">5.2.2.3.5</a>;", 15], ["-", 3, "3>\tfor the SI message(s) that, according to the si-SchedulingInfo, contain at least one required SIB and for which si-BroadcastStatus is set to notBroadcasting:", 16], ["", 4, "4>\ttrigger a request to acquire the required SIB(s) as defined in sub-clause <a href=\"#5.2.2.3.5\">5.2.2.3.5</a>;", 17], ["-", 2, "2>\telse if the UE has an active BWP not configured with common search space and the UE has not stored a valid version of a SIB, in accordance with sub-clause 5.2.2.2.1, of one or several required SIB(s), in accordance with sub-clause 5.2.2.1:", 18], ["", 3, "3>\ttrigger a request to acquire the required SIB(s) as defined in sub-clause <a href=\"#5.2.2.3.5\">5.2.2.3.5</a>;", 19], ["-", 1, "1>\telse:", 20], ["", 2, "2>\tif the UE supports one or more of the frequency bands indicated in the frequencyBandList for downlink for TDD, or one or more of the frequency bands indicated in the frequencyBandList for uplink for FDD, and they are not downlink only bands, and", 21], ["", 2, "2>\tif the UE supports at least one additionalSpectrumEmission in the NR-NS-PmaxList for a supported band in the downlink for TDD, or a supported band in uplink for FDD, and", 22], ["", 2, "2>\tif the UE supports an uplink channel bandwidth with a maximum transmission bandwidth configuration (see TS 38.101-1 [15] and TS 38.101-2 [39]) which\n-\tis smaller than or equal to the carrierBandwidth (indicated in uplinkConfigCommon for the SCS of the initial uplink BWP), and which\n-\tis wider than or equal to the bandwidth of the initial uplink BWP, and", 23], ["-", 2, "2>\tif the UE supports a downlink channel bandwidth with a maximum transmission bandwidth configuration (see TS 38.101-1 [15] and TS 38.101-2 [39]) which\n-\tis smaller than or equal to the carrierBandwidth (indicated in downlinkConfigCommon for the SCS of the initial downlink BWP), and which\n-\tis wider than or equal to the bandwidth of the initial downlink BWP:", 24], ["", 3, "3>\tapply a supported uplink channel bandwidth with a maximum transmission bandwidth which\n-\tis contained within the carrierBandwidth indicated in uplinkConfigCommon for the SCS of the initial uplink BWP, and which\n-\tis wider than or equal to the bandwidth of the initial BWP for the uplink;", 25], ["", 3, "3>\tapply a supported downlink channel bandwidth with a maximum transmission bandwidth which\n-\tis contained within the carrierBandwidth indicated in downlinkConfigCommon for the SCS of the initial downlink BWP, and which\n-\tis wider than or equal to the bandwidth of the initial BWP for the downlink;", 26], ["", 3, "3>\tselect the first frequency band in the frequencyBandList, for FDD from frequencyBandList for uplink, or for TDD from frequencyBandList for downlink, which the UE supports and for which the UE supports at least one of the additionalSpectrumEmission values in nr-NS-PmaxList, if present;", 27], ["", 3, "3>\tforward the cellIdentity to upper layers;", 28], ["-", 3, "3>\tif trackingAreaCode is not provided for the selected PLMN nor the registered PLMN nor PLMN of the equivalent PLMN list nor the selected NPN nor the registered NPN:", 29], ["", 4, "4>\tconsider the cell as barred in accordance with TS 38.304 [20];", 30], ["-", 4, "4>\tif intraFreqReselection is set to notAllowed:", 31], ["", 5, "5>\tconsider cell re-selection to other cells on the same frequency as the barred cell as not allowed, as specified in TS 38.304 [20];", 32], ["-", 4, "4>\telse:", 33], ["", 5, "5>\tconsider cell re-selection to other cells on the same frequency as the barred cell as allowed, as specified in TS 38.304 [20];", 34], ["-", 3, "3>\telse:", 35], ["", 4, "4>\tforward the trackingAreaCode to upper layers;", 36], ["", 3, "3>\tforward the PLMN identity or SNPN identity or PNI-NPN identity to upper layers;", 37], ["-", 3, "3>\tif in RRC_INACTIVE and the forwarded information does not trigger message transmission by upper layers:", 38], ["-", 4, "4>\tif the serving cell does not belong to the configured ran-NotificationAreaInfo:", 39], ["", 5, "5>\tinitiate an RNA update as specified in <a href=\"#5.3.13.8\">5.3.13.8</a>;", 40], ["", 3, "3>\tforward the ims-EmergencySupport to upper layers, if present;", 41], ["", 3, "3>\tforward the uac-AccessCategory1-SelectionAssistanceInfo to upper layers, if present;", 42], ["", 3, "3>\tapply the configuration included in the servingCellConfigCommon;", 43], ["", 3, "3>\tapply the specified PCCH configuration defined in 9.1.1.3;", 44], ["-", 3, "3>\tif the UE has a stored valid version of a SIB, in accordance with sub-clause 5.2.2.2.1, that the UE requires to operate within the cell in accordance with sub-clause 5.2.2.1:", 45], ["", 4, "4>\tuse the stored version of the required SIB;", 46], ["-", 3, "3>\tif the UE has not stored a valid version of a SIB, in accordance with sub-clause 5.2.2.2.1, of one or several required SIB(s), in accordance with sub-clause 5.2.2.1:", 47], ["-", 4, "4>\tfor the SI message(s) that, according to the si-SchedulingInfo, contain at least one required SIB and for which si-BroadcastStatus is set to broadcasting:", 48], ["", 5, "5>\tacquire the SI message(s) as defined in sub-clause <a href=\"#5.2.2.3.2\">5.2.2.3.2</a>;", 49], ["-", 4, "4>\tfor the SI message(s) that, according to the si-SchedulingInfo, contain at least one required SIB and for which si-BroadcastStatus is set to notBroadcasting:", 50], ["", 5, "5>\ttrigger a request to acquire the SI message(s) as defined in sub-clause <a href=\"#5.2.2.3.3\">5.2.2.3.3</a>;", 51], ["", 3, "3>\tapply the first listed additionalSpectrumEmission which it supports among the values included in NR-NS-PmaxList within frequencyBandList in uplinkConfigCommon for FDD or in downlinkConfigCommon for TDD;", 52], ["-", 3, "3>\tif the additionalPmax is present in the same entry of the selected additionalSpectrumEmission within NR-NS-PmaxList:", 53], ["", 4, "4>\tapply the additionalPmax for UL;", 54], ["-", 3, "3>\telse:", 55], ["", 4, "4>\tapply the p-Max in uplinkConfigCommon for UL;", 56], ["", 3, "3>\tif supplementaryUplink is present in servingCellConfigCommon; and", 57], ["", 3, "3>\tif the UE supports one or more of the frequency bands indicated in the frequencyBandList of supplementary uplink; and", 58], ["", 3, "3>\tif the UE supports at least one additionalSpectrumEmission in the NR-NS-PmaxList for a supported supplementary uplink band; and", 59], ["-", 3, "3>\tif the UE supports an uplink channel bandwidth with a maximum transmission bandwith configuration (see TS 38.101-1 [15] and TS 38.101-2 [39]) which\n-\tis smaller than or equal to the carrierBandwidth (indicated in supplementaryUplink for the SCS of the initial uplink BWP), and which\n-\tis wider than or equal to the bandwidth of the initial uplink BWP of the SUL:", 60], ["", 4, "4>\tconsider supplementary uplink as configured in the serving cell;", 61], ["", 4, "4>\tselect the first frequency band in the frequencyBandList of supplementary uplink which the UE supports and for which the UE supports at least one of the additionalSpectrumEmission values in nr-NS-PmaxList, if present;", 62], ["", 4, "4>\tapply a supported supplementary uplink channel bandwidth with a maximum transmission bandwidth which\n-\tis contained withn the carrierBandwidth (indicated in supplementaryUplink for the SCS of the initial uplink BWP), and which\n-\tis wider than or equal to the bandwidth of the initial BWP of the SUL;", 63], ["", 4, "4>\tapply the first listed additionalSpectrumEmission which it supports among the values included in NR-NS-PmaxList within frequencyBandList for the supplementaryUplink;", 64], ["-", 4, "4>\tif the additionalPmax is present in the same entry of the selected additionalSpectrumEmission within NR-NS-PmaxList for the supplementaryUplink:", 65], ["", 5, "5>\tapply the additionalPmax in supplementaryUplink for SUL;", 66], ["-", 4, "4>\telse:", 67], ["", 5, "5>\tapply the p-Max in supplementaryUplink for SUL;", 68], ["-", 3, "3>\tif iab-Support is not provided for the selected PLMN nor the registered PLMN nor PLMN of the equivalent PLMN list:", 69], ["", 4, "4>\tconsider the cell as barred for IAB-MT in accordance with TS 38.304 [20];", 70], ["-", 2, "2>\telse:", 71], ["", 3, "3>\tconsider the cell as barred in accordance with TS 38.304 [20]; and", 72], ["", 3, "3>\tperform barring as if intraFreqReselection is set to notAllowed;", 73]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.2\tActions upon reception of the SIB1"}, {"id": "5.2.2.4.3", "name": "Actions upon reception of SIB2", "headline": "5.2.2.4.3\tActions upon reception of SIB2", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.3\tActions upon reception of SIB2", ""], ["-", 0, "Upon receiving SIB2, the UE shall:", 0], ["-", 1, "1>\tif in RRC_IDLE or in RRC_INACTIVE or in RRC_CONNECTED while T311 is running:", 1], ["-", 2, "2>\tif, for the entry in frequencyBandList with the same index as the frequency band selected in clause 5.2.2.4.2, the UE supports at least one additionalSpectrumEmission in the NR-NS-PmaxList within the frequencyBandList:", 2], ["", 3, "3>\tapply the first listed additionalSpectrumEmission which it supports among the values included in NR-NS-PmaxList within frequencyBandList;", 3], ["-", 3, "3>\tif the additionalPmax is present in the same entry of the selected additionalSpectrumEmission within NR-NS-PmaxList:", 4], ["", 4, "4>\tapply the additionalPmax;", 5], ["-", 3, "3>\telse:", 6], ["", 4, "4>\tapply the p-Max;", 7], ["-", 3, "3>\tif the UE selects a frequency band (from the procedure in clause 5.2.2.4.2) for the supplementary uplink:", 8], ["-", 4, "4>\tif, for the entry in frequencyBandListSUL with the same index as the frequency band selected in clause 5.2.2.4.2, the UE supports at least one additionalSpectrumEmission in the NR-NS-PmaxList within the frequencyBandListSUL:", 9], ["", 5, "5>\tapply the first listed additionalSpectrumEmission which it supports among the values included in NR-NS-PmaxList within frequencyBandListSUL;", 10], ["-", 5, "5>\tif the additionalPmax is present in the same entry of the selected additionalSpectrumEmission within NR-NS-PmaxListSUL:", 11], ["", 6, "6>\tapply the additionalPmax;", 12], ["-", 5, "5>\telse:", 13], ["", 6, "6>\tapply the p-Max;", 14], ["-", 4, "4>\telse:", 15], ["", 5, "5>\tapply the p-Max.", 16], ["-", 2, "2>\telse:", 17], ["", 3, "3>\tapply the p-Max;", 18]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.3\tActions upon reception of SIB2"}, {"id": "5.2.2.4.4", "name": "Actions upon reception of SIB3", "headline": "5.2.2.4.4\tActions upon reception of SIB3", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.4\tActions upon reception of SIB3", ""], ["", 0, "No UE requirements related to the contents of this SIB3 apply other than those specified elsewhere e.g. within procedures using the concerned system information, and/ or within the corresponding field descriptions.", 0]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.4\tActions upon reception of SIB3"}, {"id": "5.2.2.4.5", "name": "Actions upon reception of SIB4", "headline": "5.2.2.4.5\tActions upon reception of SIB4", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.5\tActions upon reception of SIB4", ""], ["-", 0, "Upon receiving SIB4 the UE shall:", 0], ["-", 1, "1>\tif in RRC_IDLE, or in RRC_INACTIVE or in RRC_CONNECTED while T311 is running:", 1], ["-", 2, "2>\tfor each entry in the interFreqCarrierFreqList:", 2], ["", 3, "3>\tselect the first frequency band in the frequencyBandList, and frequencyBandListSUL, if present, which the UE supports and for which the UE supports at least one of the additionalSpectrumEmission values in NR-NS-PmaxList, if present:", 3], ["-", 3, "3>\tif, the frequency band selected by the UE in frequencyBandList to represent a non-serving NR carrier frequency is not a downlink only band:", 4], ["-", 4, "4>\tif, for the selected frequency band, the UE supports at least one additionalSpectrumEmission in the NR-NS-PmaxList within the frequencyBandList:", 5], ["", 5, "5>\tapply the first listed additionalSpectrumEmission which it supports among the values included in NR-NS-PmaxList within frequencyBandList;", 6], ["-", 5, "5>\tif the additionalPmax is present in the same entry of the selected additionalSpectrumEmission within NR-NS-PmaxList:", 7], ["", 6, "6>\tapply the additionalPmax;", 8], ["-", 5, "5>\telse:", 9], ["", 6, "6>\tapply the p-Max;", 10], ["-", 5, "5>\tif frequencyBandListSUL is present in SIB4 and, for the frequency band selected in frequencyBandListSUL, the UE supports at least one additionalSpectrumEmission in the NR-NS-PmaxList within FrequencyBandListSUL:", 11], ["", 6, "6>\tapply the first listed additionalSpectrumEmission which it supports among the values inlcuded in NR-NS-PmaxList within frequencyBandListSUL;", 12], ["-", 6, "6>\tif the additionalPmax is present in the same entry of the selected additionalSpectrumEmission within NR-NS-PmaxList:", 13], ["", 7, "7>\tapply the additionalPmax;", 14], ["-", 6, "6>\telse:", 15], ["", 7, "7>\tapply the p-Max;", 16], ["-", 5, "5>\telse:", 17], ["", 6, "6>\tapply the p-Max;", 18], ["-", 4, "4>\telse:", 19], ["", 5, "5>\tapply the p-Max;", 20]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.5\tActions upon reception of SIB4"}, {"id": "5.2.2.4.6", "name": "Actions upon reception of SIB5", "headline": "5.2.2.4.6\tActions upon reception of SIB5", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.6\tActions upon reception of SIB5", ""], ["", 0, "No UE requirements related to the contents of this SIB5 apply other than those specified elsewhere e.g. within procedures using the concerned system information, and/ or within the corresponding field descriptions.", 0]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.6\tActions upon reception of SIB5"}, {"id": "5.2.2.4.7", "name": "Actions upon reception of SIB6", "headline": "5.2.2.4.7\tActions upon reception of SIB6", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.7\tActions upon reception of SIB6", ""], ["-", 0, "Upon receiving the SIB6 the UE shall:", 0], ["", 1, "1>\tforward the received warningType, messageIdentifier and serialNumber to upper layers;", 1]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.7\tActions upon reception of SIB6"}, {"id": "5.2.2.4.8", "name": "Actions upon reception of SIB7", "headline": "5.2.2.4.8\tActions upon reception of SIB7", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.8\tActions upon reception of SIB7", ""], ["-", 0, "Upon receiving the SIB7 the UE shall:", 0], ["", 1, "1>\tif there is no current value for messageIdentifier and serialNumber for SIB7; or", 1], ["-", 1, "1>\tif either the received value of messageIdentifier or of serialNumber, or of both messageIdentifier and serialNumber are different from the current values of messageIdentifier and serialNumber for SIB7:", 2], ["", 2, "2>\tuse the received values of messageIdentifier and serialNumber for SIB7 as the current values of messageIdentifier and serialNumber for SIB7;", 3], ["", 2, "2>\tdiscard any previously buffered warningMessageSegment;", 4], ["-", 2, "2>\tif all segments of a warning message have been received:", 5], ["", 3, "3>\tassemble the warning message from the received warningMessageSegment(s);", 6], ["", 3, "3>\tforward the received warning message, messageIdentifier, serialNumber and dataCodingScheme to upper layers;", 7], ["", 3, "3>\tstop reception of SIB7;", 8], ["", 3, "3>\tdiscard the current values of messageIdentifier and serialNumber for SIB7;", 9], ["-", 2, "2>\telse:", 10], ["", 3, "3>\tstore the received warningMessageSegment;", 11], ["", 3, "3>\tcontinue reception of SIB7;", 12], ["-", 1, "1>\telse if all segments of a warning message have been received:", 13], ["", 2, "2>\tassemble the warning message from the received warningMessageSegment(s);", 14], ["", 2, "2>\tforward the received complete warning message, messageIdentifier, serialNumber and dataCodingScheme to upper layers;", 15], ["", 2, "2>\tstop reception of SIB7;", 16], ["", 2, "2>\tdiscard the current values of messageIdentifier and serialNumber for SIB7;", 17], ["-", 1, "1>\telse:", 18], ["", 2, "2>\tstore the received warningMessageSegment;", 19], ["", 2, "2>\tcontinue reception of SIB7;", 20], ["", 0, "The UE should discard any stored warningMessageSegment and the current value of messageIdentifier and serialNumber for SIB7 if the complete warning message has not been assembled within a period of 3 hours.", 21]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.8\tActions upon reception of SIB7"}, {"id": "5.2.2.4.9", "name": "Actions upon reception of SIB8", "headline": "5.2.2.4.9\tActions upon reception of SIB8", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.9\tActions upon reception of SIB8", ""], ["-", 0, "Upon receiving the SIB8 the UE shall:", 0], ["-", 1, "1>\tif the SIB8 contains a complete warning message and the complete geographical area coordinates (if any):", 1], ["", 2, "2>\tforward the received warning message, messageIdentifier, serialNumber, dataCodingScheme and the geographical area coordinates (if any) to upper layers;", 2], ["", 2, "2>\tcontinue reception of SIB8;", 3], ["-", 1, "1>\telse:", 4], ["-", 2, "2>\tif the received values of messageIdentifier and serialNumber are the same (each value is the same) as a pair for which a warning message and the geographical area coordinates (if any) are currently being assembled:", 5], ["", 3, "3>\tstore the received warningMessageSegment;", 6], ["", 3, "3>\tstore the received warningAreaCoordinatesSegment (if any);", 7], ["-", 3, "3>\tif all segments of a warning message and geographical area coordinates (if any) have been received:", 8], ["", 4, "4>\tassemble the warning message from the received warningMessageSegment;", 9], ["", 4, "4>\tassemble the geographical area coordinates from the received warningAreaCoordinatesSegment (if any);", 10], ["", 4, "4>\tforward the received warning message, messageIdentifier, serialNumber, dataCodingScheme and geographical area coordinates (if any) to upper layers;", 11], ["", 4, "4>\tstop assembling a warning message and geographical area coordinates (if any) for this messageIdentifier and serialNumber and delete all stored information held for it;", 12], ["", 3, "3>\tcontinue reception of SIB8;", 13], ["-", 2, "2>\telse if the received values of messageIdentifier and/or serialNumber are not the same as any of the pairs for which a warning message is currently being assembled:", 14], ["", 3, "3>\tstart assembling a warning message for this messageIdentifier and serialNumber pair;", 15], ["", 3, "3>\tstart assembling the geographical area coordinates (if any) for this messageIdentifier and serialNumber pair;", 16], ["", 3, "3>\tstore the received warningMessageSegment;", 17], ["", 3, "3>\tstore the received warningAreaCoordinatesSegment (if any);", 18], ["", 3, "3>\tcontinue reception of SIB8;", 19], ["", 0, "The UE should discard warningMessageSegment and warningAreaCoordinatesSegment (if any) and the associated values of messageIdentifier and serialNumber for SIB8 if the complete warning message and the geographical area coordinates (if any) have not been assembled within a period of 3 hours.\nNOTE:\tThe number of warning messages that a UE can re-assemble simultaneously is a function of UE implementation.", 20]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.9\tActions upon reception of SIB8"}, {"id": "5.2.2.4.10", "name": "Actions upon reception of SIB9", "headline": "5.2.2.4.10\tActions upon reception of SIB9", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.10\tActions upon reception of SIB9", ""], ["", 0, "Upon receiving SIB9 with referenceTimeInfo, the UE may perform the related actions as specified in subclause 5.7.1.3.", 0]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.10\tActions upon reception of SIB9"}, {"id": "5.2.2.4.11", "name": "Actions upon reception of SIB10", "headline": "5.2.2.4.11\tActions upon reception of SIB10", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.11\tActions upon reception of SIB10", ""], ["-", 0, "Upon receiving SIB10, the UE shall:", 0], ["", 1, "1>\tForward the HRNN-list entries with the corresponding PNI-NPN and SNPN identities to upper layers;", 1]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.11\tActions upon reception of SIB10"}, {"id": "5.2.2.4.12", "name": "Actions upon reception of SIB11", "headline": "5.2.2.4.12\tActions upon reception of SIB11", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.12\tActions upon reception of SIB11", ""], ["", 0, "No UE requirements related to the contents of this SIB11 apply other than those specified elsewhere e.g. within procedures using the concerned system information, and/ or within the corresponding field descriptions.", 0]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.12\tActions upon reception of SIB11"}, {"id": "5.2.2.4.13", "name": "Actions upon reception of SIB12", "headline": "5.2.2.4.13\tActions upon reception of SIB12", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.13\tActions upon reception of SIB12", ""], ["-", 0, "Upon receiving SIB12, the UE shall:", 0], ["-", 1, "1>\tif SIB12 message includes sl-FreqInfoList:", 1], ["-", 2, "2>\tif configured to receive NR sidelink communication:", 2], ["", 3, "3>\tuse the resource pool indicated by sl-RxPool for NR sidelink communication reception, as specified in <a href=\"#5.8.7\">5.8.7</a>;", 3], ["-", 2, "2>\tif configured to transmit NR sidelink communication:", 4], ["", 3, "3>\tuse the resource pool indicated by sl-TxPoolSelectedNormal, or sl-TxPoolExceptional for NR sidelink communication transmission, as specified in <a href=\"#5.8.8\">5.8.8</a>;", 5], ["", 3, "3> perform CBR measurement on the transmission resource pool(s) indicated by sl-TxPoolSelectedNormal and sl-TxPoolExceptional for NR sidelink communication transmission, as specified in <a href=\"#5.5.3.1\">5.5.3.1</a>;", 6], ["-", 1, "1>\tif sl-RadioBearerConfigList is included:", 7], ["", 2, "2>\tperform sidelink DRB addition/modification as specified in <a href=\"#5.8.9.1.5\">5.8.9.1.5</a>;", 8], ["-", 1, "1> if sl-MeasConfigCommon is included:", 9], ["", 2, "2> store the NR sidelink measurement configuration.", 10]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.13\tActions upon reception of SIB12"}, {"id": "5.2.2.4.14", "name": "Actions upon reception of SIB13", "headline": "5.2.2.4.14\tActions upon reception of SIB13", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.14\tActions upon reception of SIB13", ""], ["", 0, "Upon receiving SIB13, the UE shall perform the actions upon reception of SystemInformationBlockType21 as specified in 5.2.2.28 in TS 36.331 [10].", 0]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.14\tActions upon reception of SIB13"}, {"id": "5.2.2.4.15", "name": "Actions upon reception of SIB14", "headline": "5.2.2.4.15\tActions upon reception of SIB14", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.15\tActions upon reception of SIB14", ""], ["", 0, "Upon receiving SIB14, the UE shall perform the actions upon reception of SystemInformationBlockType26 as specified in 5.2.2.33 in TS 36.331 [10].", 0]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.15\tActions upon reception of SIB14"}, {"id": "5.2.2.4.16", "name": "Actions upon reception of SIBpos", "headline": "5.2.2.4.16\tActions upon reception of SIBpos", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.16\tActions upon reception of SIBpos", ""], ["", 0, "No UE requirements related to the contents of the SIBpos apply other than those specified elsewhere e.g. within TS 37.355 [49], and/or within the corresponding field descriptions.", 0]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.4\tActions upon receipt of System Information\n5.2.2.4.16\tActions upon reception of SIBpos"}, {"id": "5.2.2.5", "name": "Essential system information missing", "headline": "5.2.2.5\tEssential system information missing", "aoa": [["-", -1, "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.5\tEssential system information missing", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif in RRC_IDLE or in RRC_INACTIVE or in RRC_CONNECTED while T311 is running:", 1], ["-", 2, "2>\tif the UE is unable to acquire the MIB:", 2], ["", 3, "3>\tconsider the cell as barred in accordance with TS 38.304 [20]; and", 3], ["", 3, "3>\tperform barring as if intraFreqReselection is set to allowed;", 4], ["-", 2, "2>\telse if the UE is unable to acquire the SIB1:", 5], ["", 3, "3>\tconsider the cell as barred in accordance with TS 38.304 [20].", 6], ["-", 3, "3>\tif the cell operates in licensed spectrum and intraFreqReselection in MIB is set to notAllowed:", 7], ["", 4, "4>\tconsider cell re-selection to other cells on the same frequency as the barred cell as not allowed, as specified in TS 38.304 [20].", 8], ["-", 3, "3>\telse:", 9], ["", 4, "4>\tconsider cell re-selection to other cells on the same frequency as the barred cell as allowed, as specified in TS 38.304 [20].", 10]], "desc": "5\t Procedures\n5.2\tSystem information\n5.2.2\tSystem information acquisition\n5.2.2.5\tEssential system information missing"}, {"id": "5.3", "name": "Connection control", "headline": "5.3\tConnection control", "aoa": [], "desc": "5\t Procedures\n5.3\tConnection control"}, {"id": "5.3.1", "name": "Introduction", "headline": "5.3.1\tIntroduction", "aoa": [], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.1\tIntroduction"}, {"id": "5.3.1.1", "name": "RRC connection control", "headline": "5.3.1.1\tRRC connection control", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.1\tIntroduction\n5.3.1.1\tRRC connection control", ""], ["", 0, "RRC connection establishment involves the establishment of SRB1. The network completes RRC connection establishment prior to completing the establishment of the NG connection, i.e. prior to receiving the UE context information from the 5GC. Consequently, AS security is not activated during the initial phase of the RRC connection. During this initial phase of the RRC connection, the network may configure the UE to perform measurement reporting, but the UE only sends the corresponding measurement reports after successful AS security activation. However, the UE only accepts a re-configuration with sync message when AS security has been activated.", 0], ["", 0, "Upon receiving the UE context from the 5GC, the RAN activates AS security (both ciphering and integrity protection) using the initial AS security activation procedure. The RRC messages to activate AS security (command and successful response) are integrity protected, while ciphering is started only after completion of the procedure. That is, the response to the message used to activate AS security is not ciphered, while the subsequent messages (e.g. used to establish SRB2 and DRBs) are both integrity protected and ciphered. After having initiated the initial AS security activation procedure, the network may initiate the establishment of SRB2 and DRBs, i.e. the network may do this prior to receiving the confirmation of the initial AS security activation from the UE. In any case, the network will apply both ciphering and integrity protection for the RRC reconfiguration messages used to establish SRB2 and DRBs. The network should release the RRC connection if the initial AS security activation and/ or the radio bearer establishment fails. A configuration with SRB2 without DRB or with DRB without SRB2 is not supported (i.e., SRB2 and at least one DRB must be configured in the same RRC Reconfiguration message, and it is not allowed to release all the DRBs without releasing the RRC Connection).", 1], ["", 0, "The release of the RRC connection normally is initiated by the network. The procedure may be used to re-direct the UE to an NR frequency or an E-UTRA carrier frequency.", 2], ["", 0, "The suspension of the RRC connection is initiated by the network. When the RRC connection is suspended, the UE stores the UE Inactive AS context and any configuration received from the network, and transits to RRC_INACTIVE state. If the UE is configured with SCG, the UE releases the SCG configuration upon initiating a RRC Connection Resume procedure. The RRC message to suspend the RRC connection is integrity protected and ciphered.", 3], ["", 0, "The resumption of a suspended RRC connection is initiated by upper layers when the UE needs to transit from RRC_INACTIVE state to RRC_CONNECTED state or by RRC layer to perform a RNA update or by RAN paging from NG-RAN. When the RRC connection is resumed, network configures the UE according to the RRC connection resume procedure based on the stored UE Inactive AS context and any RRC configuration received from the network. The RRC connection resume procedure re-activates AS security and re-establishes SRB(s) and DRB(s).", 4], ["", 0, "In response to a request to resume the RRC connection, the network may resume the suspended RRC connection and send UE to RRC_CONNECTED, or reject the request to resume and send UE to RRC_INACTIVE (with a wait timer), or directly re-suspend the RRC connection and send UE to RRC_INACTIVE, or directly release the RRC connection and send UE to RRC_IDLE, or instruct the UE to initiate NAS level recovery (in this case the network sends an RRC setup message).\nNOTE:\tIn case the configurations for NR sidelink communication are acquired via the E-UTRA, the configurations for NR sidelink communication in SIB12 and sl-ConfigDedicatedNR within RRCReconfiguration used in subclause 5.3 are provided by the configurations in SystemInformationBlockTypeXX2 and sl-ConfigDedicatedNR within RRCConnectionReconfiguration as specified in TS 36.331[10], respectively.", 5]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.1\tIntroduction\n5.3.1.1\tRRC connection control"}, {"id": "5.3.1.2", "name": "AS Security", "headline": "5.3.1.2\tAS Security", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.1\tIntroduction\n5.3.1.2\tAS Security", ""], ["", 0, "AS security comprises of the integrity protection and ciphering of RRC signalling (SRBs) and user data (DRBs).", 0], ["", 0, "RRC handles the configuration of the AS security parameters which are part of the AS configuration: the integrity protection algorithm, the ciphering algorithm, if integrity protection and/or ciphering is enabled for a DRB and two parameters, namely the keySetChangeIndicator and the nextHopChainingCount, which are used by the UE to determine the AS security keys upon reconfiguration with sync (with key change), connection re-establishment and/or connection resume.", 1], ["", 0, "The integrity protection algorithm is common for SRB1, SRB2, SRB3 (if configured) and DRBs configured with integrity protection, with the same keyToUse value. The ciphering algorithm is common for SRB1, SRB2, SRB3 (if configured) and DRBs configured with the same keyToUse value. For MR-DC, integrity protection is not enabled for DRBs terminated in eNB. Neither integrity protection nor ciphering applies for SRB0.\nNOTE 0:\tAll DRBs related to the same PDU session have the same enable/disable setting for ciphering and the same enable/disable setting for integrity protection, as specified in TS 33.501 [11].", 2], ["", 0, "RRC integrity protection and ciphering are always activated together, i.e. in one message/procedure. RRC integrity protection and ciphering for SRBs are never de-activated. However, it is possible to switch to a 'NULL' ciphering algorithm (nea0).", 3], ["", 0, "The 'NULL' integrity protection algorithm (nia0) is used only for SRBs and for the UE in limited service mode, see TS 33.501 [11] and when used for SRBs, integrity protection is disabled for DRBs. In case the \u2032NULL' integrity protection algorithm is used, 'NULL' ciphering algorithm is also used.\nNOTE 1:\tLower layers discard RRC messages for which the integrity protection check has failed and indicate the integrity protection verification check failure to RRC.", 4], ["", 0, "The AS applies four different security keys: one for the integrity protection of RRC signalling (KRRCint), one for the ciphering of RRC signalling (KRRCenc), one for integrity protection of user data (KUPint) and one for the ciphering of user data (KUPenc). All four AS keys are derived from the KgNB key. The KgNB key is based on the KAMF key (as specified in TS 33.501 [11]), which is handled by upper layers.", 5], ["", 0, "The integrity protection and ciphering algorithms can only be changed with reconfiguration with sync. The AS keys (KgNB, KRRCint, KRRCenc, KUPint and KUPenc) change upon reconfiguration with sync (if masterKeyUpdate is included), and upon connection re-establishment and connection resume.", 6], ["", 0, "For each radio bearer an independent counter (COUNT, as specified in TS 38.323 [5]) is maintained for each direction. For each radio bearer, the COUNT is used as input for ciphering and integrity protection. It is not allowed to use the same COUNT value more than once for a given security key. In order to limit the signalling overhead, individual messages/ packets include a short sequence number (PDCP SN, as specified in TS 38.323 [5]). In addition, an overflow counter mechanism is used: the hyper frame number (TX_HFN and RX_HFN, as specified in TS 38.323 [5]). The HFN needs to be synchronized between the UE and the network. The network is responsible for avoiding reuse of the COUNT with the same RB identity and with the same key, e.g. due to the transfer of large volumes of data, release and establishment of new RBs, and multiple termination point changes for RLC-UM bearers. In order to avoid such re-use, the network may e.g. use different RB identities for RB establishments, change the AS security key, or an RRC_CONNECTED to RRC_IDLE/RRC_INACTIVE and then to RRC_CONNECTED transition.", 7], ["", 0, "For each SRB, the value provided by RRC to lower layers to derive the 5-bit BEARER parameter used as input for ciphering and for integrity protection is the value of the corresponding srb-Identity with the MSBs padded with zeroes.", 8], ["", 0, "For a UE provided with an sk-counter, keyToUse indicates whether the UE uses the master key (KgNB) or the secondary key (S-KeNB or S-KgNB) for a particular DRB. The secondary key is derived from the master key and sk-Counter, as defined in 33.501[86]. Whenever there is a need to refresh the secondary key, e.g. upon change of MN with KgNB change or to avoid COUNT wrap around, the security key update is used (see 5.3.5.7). When the UE is in NR-DC, the network may provide a UE configured with an SCG with an sk-Counter even when no DRB is setup using the secondary key (S-KgNB) in order to allow the configuration of SRB3. The network can also provide the UE with an sk-Counter, even if no SCG is configured, when using SN terminated MCG bearers.", 9]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.1\tIntroduction\n5.3.1.2\tAS Security"}, {"id": "5.3.2", "name": "Paging", "headline": "5.3.2\tPaging", "aoa": [], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.2\tPaging"}, {"id": "5.3.2.1", "name": "General", "headline": "5.3.2.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.2\tPaging\n5.3.2.1\tGeneral", ""], ["", 0, "Figure 5.3.2.1-1: Paging", 0], ["", 0, "The purpose of this procedure is:\n-\tto transmit paging information to a UE in RRC_IDLE or RRC_INACTIVE.", 1]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.2\tPaging\n5.3.2.1\tGeneral"}, {"id": "5.3.2.2", "name": "Initiation", "headline": "5.3.2.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.2\tPaging\n5.3.2.2\tInitiation", ""], ["", 0, "The network initiates the paging procedure by transmitting the Paging message at the UE's paging occasion as specified in TS 38.304 [20]. The network may address multiple UEs within a Paging message by including one PagingRecord for each UE.", 0]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.2\tPaging\n5.3.2.2\tInitiation"}, {"id": "5.3.2.3", "name": "Reception of the Paging message by the UE", "headline": "5.3.2.3\tReception of the Paging message by the UE", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.2\tPaging\n5.3.2.3\tReception of the Paging message by the UE", ""], ["-", 0, "Upon receiving the Paging message, the UE shall:", 0], ["-", 1, "1>\tif in RRC_IDLE, for each of the PagingRecord, if any, included in the Paging message:", 1], ["-", 2, "2>\tif the ue-Identity included in the PagingRecord matches the UE identity allocated by upper layers:", 2], ["", 3, "3>\tforward the ue-Identity and accessType (if present) to the upper layers;", 3], ["-", 1, "1>\tif in RRC_INACTIVE, for each of the PagingRecord, if any, included in the Paging message:", 4], ["-", 2, "2>\tif the ue-Identity included in the PagingRecord matches the UE's stored fullI-RNTI:", 5], ["-", 3, "3>\tif the UE is configured by upper layers with Access Identity 1:", 6], ["", 4, "4>\tinitiate the RRC connection resumption procedure according to 5.3.13 with resumeCause set to mps-PriorityAccess;", 7], ["-", 3, "3>\telse if the UE is configured by upper layers with Access Identity 2:", 8], ["", 4, "4>\tinitiate the RRC connection resumption procedure according to 5.3.13 with resumeCause set to mcs-PriorityAccess;", 9], ["-", 3, "3>\telse if the UE is configured by upper layers with one or more Access Identities equal to 11-15:", 10], ["", 4, "4>\tinitiate the RRC connection resumption procedure according to 5.3.13 with resumeCause set to highPriorityAccess;", 11], ["-", 3, "3>\telse:", 12], ["", 4, "4>\tinitiate the RRC connection resumption procedure according to 5.3.13 with resumeCause set to mt-Access;", 13], ["-", 2, "2>\telse if the ue-Identity included in the PagingRecord matches the UE identity allocated by upper layers:", 14], ["", 3, "3>\tforward the ue-Identity to upper layers and accessType (if present) to the upper layers;", 15], ["", 3, "3>\tperform the actions upon going to RRC_IDLE as specified in <a href=\"#5.3.11\">5.3.11</a> with release cause 'other'.", 16]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.2\tPaging\n5.3.2.3\tReception of the Paging message by the UE"}, {"id": "5.3.3", "name": "RRC connection establishment", "headline": "5.3.3\tRRC connection establishment", "aoa": [], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.3\tRRC connection establishment"}, {"id": "5.3.3.1", "name": "General", "headline": "5.3.3.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.3\tRRC connection establishment\n5.3.3.1\tGeneral", ""], ["", 0, "Figure 5.3.3.1-1: RRC connection establishment, successful", 0], ["", 0, "Figure 5.3.3.1-2: RRC connection establishment, network reject", 1], ["", 0, "The purpose of this procedure is to establish an RRC connection. RRC connection establishment involves SRB1 establishment. The procedure is also used to transfer the initial NAS dedicated information/ message from the UE to the network.", 2], ["", 0, "The network applies the procedure e.g.as follows:\n-\tWhen establishing an RRC connection;\n-\tWhen UE is resuming or re-establishing an RRC connection, and the network is not able to retrieve or verify the UE context. In this case, UE receives RRCSetup and responds with RRCSetupComplete.", 3]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.3\tRRC connection establishment\n5.3.3.1\tGeneral"}, {"id": "5.3.3.1a", "name": "Conditions for establishing RRC Connection for NR sidelink communication", "headline": "5.3.3.1a\tConditions for establishing RRC Connection for NR sidelink communication", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.3\tRRC connection establishment\n5.3.3.1a\tConditions for establishing RRC Connection for NR sidelink communication", ""], ["-", 0, "For NR sidelink communication an RRC connection establishment is initiated only in the following cases:", 0], ["-", 1, "1>\tif configured by upper layers to transmit NR sidelink communication and related data is available for transmission:", 1], ["", 2, "2>\tif the frequency on which the UE is configured to transmit NR sidelink communication concerns the camped frequency; and if SIB12 is provided by the cell on which the UE camps; and if the valid version of SIB12 includes sl-FreqInfoList; and sl-FreqInfoList does not include sl-TxPoolSelectedNormal for the the frequency; or", 2], ["", 2, "2>\tif the frequency on which the UE is configured to transmit NR sidelink communication is included in sl-FreqInfoList within SIB12 provided by the cell on which the UE camps; and if the valid version of SIB12 does not include sl-TxPoolSelectedNormal for the concerned frequency;", 3], ["", 0, "For V2X sidelink communication an RRC connection is initiated only when the conditions specified for V2X sidelink communication in subclause <a href=\"#5.3.3.1a\">5.3.3.1a</a> of TS 36.331 [10] are met.\nNOTE:\tUpper layers initiate an RRC connection. The interaction with NAS is left to UE implementation.", 4]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.3\tRRC connection establishment\n5.3.3.1a\tConditions for establishing RRC Connection for NR sidelink communication"}, {"id": "5.3.3.2", "name": "Initiation", "headline": "5.3.3.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.3\tRRC connection establishment\n5.3.3.2\tInitiation", ""], ["", 0, "The UE initiates the procedure when upper layers request establishment of an RRC connection while the UE is in RRC_IDLE and it has acquired essential system information as described in 5.2.2.1.", 0], ["", 0, "The UE shall ensure having valid and up to date essential system information as specified in clause 5.2.2.2 before initiating this procedure.", 1], ["-", 0, "Upon initiation of the procedure, the UE shall:", 2], ["-", 1, "1>\tif the upper layers provide an Access Category and one or more Access Identities upon requesting establishment of an RRC connection:", 3], ["-", 2, "2>\tperform the unified access control procedure as specified in 5.3.14 using the Access Category and Access Identities provided by upper layers;", 4], ["", 3, "3>\tif the access attempt is barred, the procedure ends;", 5], ["", 1, "1>\tapply the default L1 parameter values as specified in corresponding physical layer specifications except for the parameters for which values are provided in SIB1;", 6], ["", 1, "1>\tapply the default MAC Cell Group configuration as specified in 9.2.2;", 7], ["", 1, "1>\tapply the CCCH configuration as specified in 9.1.1.2;", 8], ["", 1, "1>\tapply the timeAlignmentTimerCommon included in SIB1;", 9], ["", 1, "1>\tstart timer T300;", 10], ["", 1, "1>\tinitiate transmission of the RRCSetupRequest message in accordance with <a href=\"#5.3.3.3\">5.3.3.3</a>;", 11]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.3\tRRC connection establishment\n5.3.3.2\tInitiation"}, {"id": "5.3.3.3", "name": "Actions related to transmission of RRCSetupRequest message", "headline": "5.3.3.3\tActions related to transmission of RRCSetupRequest message", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.3\tRRC connection establishment\n5.3.3.3\tActions related to transmission of RRCSetupRequest message", ""], ["-", 0, "The UE shall set the contents of RRCSetupRequest message as follows:", 0], ["-", 1, "1>\tset the ue-Identity as follows:", 1], ["-", 2, "2>\tif upper layers provide a 5G-S-TMSI:", 2], ["", 3, "3>\tset the ue-Identity to ng-5G-S-TMSI-Part1;", 3], ["-", 2, "2>\telse:", 4], ["", 3, "3>\tdraw a 39-bit random value in the range 0..239-1 and set the ue-Identity to this value;\nNOTE 1:\tUpper layers provide the 5G-S-TMSI if the UE is registered in the TA of the current cell.", 5], ["", 1, "1>\tset the establishmentCause in accordance with the information received from upper layers;", 6], ["", 0, "The UE shall submit the RRCSetupRequest message to lower layers for transmission.", 7], ["", 0, "The UE shall continue cell re-selection related measurements as well as cell re-selection evaluation. If the conditions for cell re-selection are fulfilled, the UE shall perform cell re-selection as specified in 5.3.3.6.", 8]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.3\tRRC connection establishment\n5.3.3.3\tActions related to transmission of RRCSetupRequest message"}, {"id": "5.3.3.4", "name": "Reception of the RRCSetup by the UE", "headline": "5.3.3.4\tReception of the RRCSetup by the UE", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.3\tRRC connection establishment\n5.3.3.4\tReception of the RRCSetup by the UE", ""], ["-", 0, "The UE shall perform the following actions upon reception of the RRCSetup:", 0], ["", 1, "1>\tif the RRCSetup is received in response to an RRCReestablishmentRequest; or", 1], ["-", 1, "1>\tif the RRCSetup is received in response to an RRCResumeRequest or RRCResumeRequest1:", 2], ["", 2, "2>\tdiscard any stored UE Inactive AS context and suspendConfig;", 3], ["", 2, "2>\tdiscard any current AS security context including the KRRCenc key, the KRRCint key, the KUPint key and the KUPenc key;", 4], ["", 2, "2>\trelease radio resources for all established RBs except SRB0, including release of the RLC entities, of the associated PDCP entities and of SDAP;", 5], ["", 2, "2>\trelease the RRC configuration except for the default L1 parameter values, default MAC Cell Group configuration and CCCH configuration;", 6], ["", 2, "2>\tindicate to upper layers fallback of the RRC connection;", 7], ["", 2, "2>\tstop timer T380, if running;", 8], ["", 1, "1>\tperform the cell group configuration procedure in accordance with the received masterCellGroup and as specified in 5.3.5.5;", 9], ["", 1, "1>\tperform the radio bearer configuration procedure in accordance with the received radioBearerConfig and as specified in 5.3.5.6;", 10], ["", 1, "1>\tif stored, discard the cell reselection priority information provided by the cellReselectionPriorities or inherited from another RAT;", 11], ["", 1, "1>\tstop timer T300, T301 or T319 if running;", 12], ["-", 1, "1>\tif T390 is running:", 13], ["", 2, "2>\tstop timer T390 for all access categories;", 14], ["", 2, "2>\tperform the actions as specified in <a href=\"#5.3.14.4\">5.3.14.4</a>;", 15], ["-", 1, "1>\tif T302 is running:", 16], ["", 2, "2>\tstop timer T302;", 17], ["", 2, "2>\tperform the actions as specified in <a href=\"#5.3.14.4\">5.3.14.4</a>;", 18], ["", 1, "1>\tstop timer T320, if running;", 19], ["-", 1, "1>\tif the RRCSetup is received in response to an RRCResumeRequest, RRCResumeRequest1 or RRCSetupRequest:", 20], ["-", 2, "2>\tif T331 is running:", 21], ["", 3, "3>\tstop timer T331;", 22], ["", 3, "3>\tperform the actions as specified in <a href=\"#5.7.8.3\">5.7.8.3</a>;", 23], ["", 2, "2>\tenter RRC_CONNECTED;", 24], ["", 2, "2>\tstop the cell re-selection procedure;", 25], ["", 1, "1>\tconsider the current cell to be the PCell;", 26], ["-", 1, "1>\tset the content of RRCSetupComplete message as follows:", 27], ["-", 2, "2>\tif upper layers provide a 5G-S-TMSI:", 28], ["-", 3, "3>\tif the RRCSetup is received in response to an RRCSetupRequest:", 29], ["", 4, "4>\tset the ng-5G-S-TMSI-Value to ng-5G-S-TMSI-Part2;", 30], ["-", 3, "3>\telse:", 31], ["", 4, "4>\tset the ng-5G-S-TMSI-Value to ng-5G-S-TMSI;", 32], ["-", 2, "2>\tif upper layers selected a PLMN or an SNPN (TS 24.501 [23]):", 33], ["", 3, "3>\tset the selectedPLMN-Identity to the PLMN or SNPN selected by upper layers (TS 24.501 [23]) from the PLMN(s) included in the plmn-IdentityList or npn-IdentityInfoList in SIB1;", 34], ["-", 0, "Editor's Note: It is FFS how to set the the selectedPLMN-Identity when a PNI-NPN is selected.", 35], ["-", 2, "2>\tif upper layers provide the 'Registered AMF':", 36], ["-", 3, "3>\tinclude and set the registeredAMF as follows:", 37], ["-", 4, "4>\tif the PLMN identity of the 'Registered AMF' is different from the PLMN selected by the upper layers:", 38], ["", 5, "5>\tinclude the plmnIdentity in the registeredAMF and set it to the value of the PLMN identity in the 'Registered AMF' received from upper layers;", 39], ["", 4, "4>\tset the amf-Identifier to the value received from upper layers;", 40], ["", 3, "3>\tinclude and set the guami-Type to the value provided by the upper layers;", 41], ["-", 2, "2>\tif upper layers provide one or more S-NSSAI (see TS 23.003 [21]):", 42], ["", 3, "3>\tinclude the s-NSSAI-List and set the content to the values provided by the upper layers;", 43], ["", 2, "2>\tset the dedicatedNAS-Message to include the information received from upper layers;", 44], ["-", 2, "2>\tif connecting as an IAB-node:", 45], ["", 3, "3>\tinclude the iab-NodeIndication;", 46], ["-", 2, "2>\tif the SIB1 contains idleModeMeasurements and the UE has idle/inactive measurement information concerning cells other than the PCell available in VarMeasIdleReport:", 47], ["", 3, "3>\tinclude the idleMeasAvailable;", 48], ["-", 2, "2>\tif the UE has logged measurements available for NR and if the RPLMN is included in plmn-IdentityList stored in VarLogMeasReport:", 49], ["", 3, "3>\tinclude the logMeasAvailable in the RRCSetupComplete message;", 50], ["-", 2, "2>\tif the UE has Bluetooth logged measurements available and if the RPLMN is included in plmn-IdentityList stored in VarLogMeasReport:", 51], ["", 3, "3>\tinclude the logMeasAvailableBT in the RRCSetupComplete message;", 52], ["-", 2, "2>\tif the UE has WLAN logged measurements available and if the RPLMN is included in plmn-IdentityList stored in VarLogMeasReport:", 53], ["", 3, "3>\tinclude the logMeasAvailableWLAN in the RRCSetupComplete message;", 54], ["-", 2, "2>\tif the UE has connection establishment failure information available in VarConnEstFailReport and if the RPLMN is equal to plmn-Identity stored in VarConnEstFailReport:", 55], ["", 3, "3>\tinclude connEstFailInfoAvailable in the RRCSetupComplete message;", 56], ["-", 2, "2>\tif the UE has radio link failure or handover failure information available in VarRLF-Report and if the RPLMN is included in plmn-IdentityList stored in VarRLF-Report:", 57], ["", 3, "3>\tinclude rlf-InfoAvailable in the RRCSetupComplete message;", 58], ["-", 2, "2>\tif the UE has radio link failure or handover failure information available in VarRLF-Report of TS 36.331 [10] and if the UE is capable of cross-RAT RLF reporting and if the RPLMN is included in plmn-IdentityList stored in VarRLF-Report of TS 36.331 [10]:", 59], ["", 3, "3>\tinclude rlf-InfoAvailable in the RRCSetupComplete message;", 60], ["-", 2, "2>\tif the UE supports storage of mobility history information and the UE has mobility history information available in VarMobilityHistoryReport:", 61], ["", 3, "3>\tinclude the mobilityHistoryAvail in the RRCSetupComplete message;", 62], ["", 2, "2>\tinclude the mobilityState in the RRCSetupComplete message and set it to the mobility state (as specified in TS 38.304 [20]) of the UE just prior to entering RRC_CONNECTED state;", 63], ["", 1, "1>\tsubmit the RRCSetupComplete message to lower layers for transmission, upon which the procedure ends.", 64]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.3\tRRC connection establishment\n5.3.3.4\tReception of the RRCSetup by the UE"}, {"id": "5.3.3.5", "name": "Reception of the RRCReject by the UE", "headline": "5.3.3.5\tReception of the RRCReject by the UE", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.3\tRRC connection establishment\n5.3.3.5\tReception of the RRCReject by the UE", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tperform the actions as specified in 5.3.15;", 1]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.3\tRRC connection establishment\n5.3.3.5\tReception of the RRCReject by the UE"}, {"id": "5.3.3.6", "name": "Cell re-selection or cell selection while T390, T300 or T302 is running (UE in RRC_IDLE)", "headline": "5.3.3.6\tCell re-selection or cell selection while T390, T300 or T302 is running (UE in RRC_IDLE)", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.3\tRRC connection establishment\n5.3.3.6\tCell re-selection or cell selection while T390, T300 or T302 is running (UE in RRC_IDLE)", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif cell reselection occurs while T300 or T302 is running:", 1], ["", 2, "2>\tperform the actions upon going to RRC_IDLE as specified in <a href=\"#5.3.11\">5.3.11</a> with release cause 'RRC connection failure';", 2], ["-", 1, "1>\telse if cell selection or reselection occurs while T390 is running:", 3], ["", 2, "2>\tstop T390 for all access categories;", 4], ["", 2, "2>\tperform the actions as specified in 5.3.14.4.", 5]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.3\tRRC connection establishment\n5.3.3.6\tCell re-selection or cell selection while T390, T300 or T302 is running (UE in RRC_IDLE)"}, {"id": "5.3.3.7", "name": "T300 expiry", "headline": "5.3.3.7\tT300 expiry", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.3\tRRC connection establishment\n5.3.3.7\tT300 expiry", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif timer T300 expires:", 1], ["", 2, "2>\treset MAC, release the MAC configuration and re-establish RLC for all RBs that are established;", 2], ["-", 2, "2>\tif the T300 has expired a consecutive connEstFailCount times on the same cell for which connEstFailureControl is included in SIB1:", 3], ["-", 3, "3>\tfor a period as indicated by connEstFailOffsetValidity:", 4], ["", 4, "4>\tuse connEstFailOffset for the parameter Qoffsettemp for the concerned cell when performing cell selection and reselection according to TS 38.304 [20] and TS 36.304 [27];\nNOTE 1:\tWhen performing cell selection, if no suitable or acceptable cell can be found, it is up to UE implementation whether to stop using connEstFailOffset for the parameter Qoffsettemp during connEstFailOffsetValidity for the concerned cell.", 5], ["", 2, "2> clear the content included in VarConnEstFailReport except for the numberOfConnFail, if any;", 6], ["-", 2, "2>\tif the UE has connection establishment failure informaton available in VarConnEstFailReport and if the RPLMN is not equal to plmn-identity stored in VarConnEstFailReport:", 7], ["", 3, "3>\treset the numberOfConnFail to 0;", 8], ["-", 2, "2>\tstore the following connection establishment failure information in the VarConnEstFailReport by setting its fields as follows:", 9], ["", 3, "3>\tset the plmn-Identity to the PLMN selected by upper layers (see TS 23.122 [54], TS 24.501 [23]) from the PLMN(s) included in the plmn-IdentityList in SIB1;", 10], ["", 3, "3>\tset the measResultFailedCell to include the global cell identity, physical cell id, the RSRP, and RSRQ, of the failed cell based on the available SSB measurements collected up to the moment the UE detected connection establishment failure;", 11], ["-", 3, "3>\tif available, set the measResultNeighCells, in order of decreasing ranking-criterion as used for cell re-selection, to include neighbouring cell measurements for at most the following number of neighbouring cells: 6 intra-frequency and 3 inter-frequency neighbours per frequency as well as 3 inter-RAT neighbours, per frequency/ set of frequencies per RAT and according to the following:", 12], ["", 4, "4>\tfor each neighbour cell included, include the optional fields that are available;\nNOTE 2:\tThe UE includes the latest results of the available measurements as used for cell reselection evaluation, which are performed in accordance with the performance requirements as specified in TS 38.133 [14].", 13], ["-", 3, "3>\tif available, set the locationInfo as follows:", 14], ["", 4, "4>\tif available, set the commonLocationInfo to include the detailed location information;", 15], ["", 4, "4>\tif available, set the bt-LocationInfo to include the Bluetooth measurement results, in order of decreasing RSSI for Bluetooth beacons;", 16], ["", 4, "4>\tif available, set the wlan-LocationInfo to include the WLAN measurement results, in order of decreasing RSSI for WLAN APs;", 17], ["", 4, "4>\tif available, set the sensor-LocationInfo to include the sensor measurement results;", 18], ["", 3, "3>\tset perRAInfoList to indicate random access failure information as specified in <a href=\"#5.3.10.3\">5.3.10.3</a>;", 19], ["-", 3, "3>\tif the numberOfConnFail is smaller than 7:", 20], ["", 4, "4>\tincrement the numberOfConnFail by 1;", 21], ["", 2, "2>\tinform upper layers about the failure to establish the RRC connection, upon which the procedure ends;", 22], ["", 0, "The UE may discard the connection establishment failure information, i.e. release the UE variable VarConnEsFailReport, 48 hours after the last connection establishment failure is detected.", 23]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.3\tRRC connection establishment\n5.3.3.7\tT300 expiry"}, {"id": "5.3.3.8", "name": "Abortion of RRC connection establishment", "headline": "5.3.3.8\tAbortion of RRC connection establishment", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.3\tRRC connection establishment\n5.3.3.8\tAbortion of RRC connection establishment", ""], ["-", 0, "If upper layers abort the RRC connection establishment procedure, due to a NAS procedure being aborted as specified in TS 24.501 [23], while the UE has not yet entered RRC_CONNECTED, the UE shall:", 0], ["", 1, "1>\tstop timer T300, if running;", 1], ["", 1, "1>\treset MAC, release the MAC configuration and re-establish RLC for all RBs that are established;", 2]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.3\tRRC connection establishment\n5.3.3.8\tAbortion of RRC connection establishment"}, {"id": "5.3.4", "name": "Initial AS security activation", "headline": "5.3.4\tInitial AS security activation", "aoa": [], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.4\tInitial AS security activation"}, {"id": "5.3.4.1", "name": "General", "headline": "5.3.4.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.4\tInitial AS security activation\n5.3.4.1\tGeneral", ""], ["", 0, "Figure 5.3.4.1-1: Security mode command, successful", 0], ["", 0, "Figure 5.3.4.1-2: Security mode command, failure", 1], ["", 0, "The purpose of this procedure is to activate AS security upon RRC connection establishment.", 2]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.4\tInitial AS security activation\n5.3.4.1\tGeneral"}, {"id": "5.3.4.2", "name": "Initiation", "headline": "5.3.4.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.4\tInitial AS security activation\n5.3.4.2\tInitiation", ""], ["", 0, "The network initiates the security mode command procedure to a UE in RRC_CONNECTED. Moreover, the network applies the procedure as follows:\n-\twhen only SRB1 is established, i.e. prior to establishment of SRB2 and/ or DRBs.", 0]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.4\tInitial AS security activation\n5.3.4.2\tInitiation"}, {"id": "5.3.4.3", "name": "Reception of the SecurityModeCommand by the UE", "headline": "5.3.4.3\tReception of the SecurityModeCommand by the UE", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.4\tInitial AS security activation\n5.3.4.3\tReception of the SecurityModeCommand by the UE", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tderive the KgNB key, as specified in TS 33.501 [11];", 1], ["", 1, "1>\tderive the KRRCint key associated with the integrityProtAlgorithm indicated in the SecurityModeCommand message, as specified in TS 33.501 [11];", 2], ["", 1, "1>\trequest lower layers to verify the integrity protection of the SecurityModeCommand message, using the algorithm indicated by the integrityProtAlgorithm as included in the SecurityModeCommand message and the KRRCint key;", 3], ["-", 1, "1>\tif the SecurityModeCommand message passes the integrity protection check:", 4], ["", 2, "2>\tderive the KRRCenc key and the KUPenc key associated with the cipheringAlgorithm indicated in the SecurityModeCommand message, as specified in TS 33.501 [11];", 5], ["", 2, "2>\tderive the KUPint key associated with the integrityProtAlgorithm indicated in the SecurityModeCommand message, as specified in TS 33.501 [11];", 6], ["", 2, "2>\tconfigure lower layers to apply SRB integrity protection using the indicated algorithm and the KRRCint key immediately, i.e. integrity protection shall be applied to all subsequent messages received and sent by the UE, including the SecurityModeComplete message;", 7], ["", 2, "2>\tconfigure lower layers to apply SRB ciphering using the indicated algorithm, the KRRCenc keyafter completing the procedure, i.e. ciphering shall be applied to all subsequent messages received and sent by the UE, except for the SecurityModeComplete message which is sent unciphered;", 8], ["", 2, "2>\tconsider AS security to be activated;", 9], ["", 2, "2>\tsubmit the SecurityModeComplete message to lower layers for transmission, upon which the procedure ends;", 10], ["-", 1, "1>\telse:", 11], ["", 2, "2>\tcontinue using the configuration used prior to the reception of the SecurityModeCommand message, i.e. neither apply integrity protection nor ciphering.", 12], ["", 2, "2>\tsubmit the SecurityModeFailure message to lower layers for transmission, upon which the procedure ends.", 13]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.4\tInitial AS security activation\n5.3.4.3\tReception of the SecurityModeCommand by the UE"}, {"id": "5.3.5", "name": "RRC reconfiguration", "headline": "5.3.5\tRRC reconfiguration", "aoa": [], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration"}, {"id": "5.3.5.1", "name": "General", "headline": "5.3.5.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.1\tGeneral", ""], ["", 0, "Figure 5.3.5.1-1: RRC reconfiguration, successful", 0], ["", 0, "Figure 5.3.5.1-2: RRC reconfiguration, failure", 1], ["", 0, "The purpose of this procedure is to modify an RRC connection, e.g. to establish/modify/release RBs, to perform reconfiguration with sync, to setup/modify/release measurements, to add/modify/release SCells and cell groups, to add/modify/release conditional handover configuration, to add/modify/release conditional PSCell change configuration. As part of the procedure, NAS dedicated information may be transferred from the Network to the UE.", 2], ["", 0, "RRC reconfiguration to perform reconfiguration with sync includes, but is not limited to, the following cases:\n-\treconfiguration with sync and security key refresh, involving RA to the PCell/PSCell, MAC reset, refresh of security and re-establishment of RLC and PDCP triggered by explicit L2 indicators;\n-\treconfiguration with sync but without security key refresh, involving RA to the PCell/PSCell, MAC reset and RLC re-establishment and PDCP data recovery (for AM DRB) triggered by explicit L2 indicators.", 3], ["", 0, "In (NG)EN-DC and NR-DC, SRB3 can be used for measurement configuration and reporting, to (re-)configure MAC, RLC, physical layer and RLF timers and constants of the SCG configuration, and to reconfigure PDCP for DRBs associated with the S-KgNB or SRB3, and to reconfigure SDAP for DRBs associated with S-KgNB in NGEN-DC and NR-DC, and to add/modify/release conditional PSCell change configuration, provided that the (re-)configuration does not require any MN involvement. In (NG)EN-DC and NR-DC, only measConfig, radioBearerConfig, conditionalReconfiguration and/or secondaryCellGroup are included in RRCReconfiguration received via SRB3.", 4]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.1\tGeneral"}, {"id": "5.3.5.2", "name": "Initiation", "headline": "5.3.5.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.2\tInitiation", ""], ["", 0, "The Network may initiate the RRC reconfiguration procedure to a UE in RRC_CONNECTED. The Network applies the procedure as follows:\n-\tthe establishment of RBs (other than SRB1, that is established during RRC connection establishment) is performed only when AS security has been activated;\n-\tthe addition of Secondary Cell Group and SCells is performed only when AS security has been activated;\n-\tthe reconfigurationWithSync is included in secondaryCellGroup only when at least one RLC bearer is setup in SCG;\n-\tthe reconfigurationWithSync is included in masterCellGroup only when AS security has been activated, and SRB2 with at least one DRB are setup and not suspended;\n-\tthe conditionalReconfiguration is included only when AS security has been activated, and SRB2 with at least one DRB are setup and not suspended.", 0]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.2\tInitiation"}, {"id": "5.3.5.3", "name": "Reception of an RRCReconfiguration by the UE", "headline": "5.3.5.3\tReception of an RRCReconfiguration by the UE", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.3\tReception of an RRCReconfiguration by the UE", ""], ["-", 0, "The UE shall perform the following actions upon reception of the RRCReconfiguration, or upon execution of the conditional configuration (CHO or CPC):", 0], ["-", 1, "1>\tif the RRCReconfiguration is applied due to a conditional configurationexecution upon cell selection while timer T311 is running, as defined in 5.3.7.3:", 1], ["", 2, "2>\tremove all the entries within VarConditionalConfig, if any;\nNOTE:\tThis step is performed so the UE only performs conditional configuration execution while timer T311 is running once for a given failure detection.", 2], ["-", 1, "1>\tif the RRCReconfiguration includes the daps-SourceRelease:", 3], ["", 2, "2>\treset source MAC and release the source MAC configuration;", 4], ["-", 2, "2>\tfor each DRB with a DAPS PDCP entity:", 5], ["", 3, "3>\trelease the RLC entity and the associated logical channel for the source;", 6], ["", 3, "3>\treconfigure the PDCP entity to normal PDCP as specified in TS 38.323 [5];", 7], ["-", 2, "2>\tfor each SRB:", 8], ["", 3, "3>\trelease the PDCP entity for the source;", 9], ["", 3, "3>\trelease the RLC entity and the associated logical channel for the source;", 10], ["", 2, "2>\trelease the physical channel configuration for the source;", 11], ["", 2, "2>\tdiscard the keys used in source (the KgNB key, the S-KgNB key, the S-KeNB key, the KRRCenc key, the KRRCint key, the KUPint key and the KUPenc key), if any;", 12], ["-", 1, "1>\tif the RRCReconfiguration is received via other RAT (i.e., inter-RAT handover to NR):", 13], ["-", 2, "2>\tif the RRCReconfiguration does not include the fullConfig and the UE is connected to 5GC (i.e., delta signalling during intra 5GC handover):", 14], ["", 3, "3>\tre-use the source RAT SDAP and PDCP configurations if available (i.e., current SDAP/PDCP configurations for all RBs from source E-UTRA RAT prior to the reception of the inter-RAT HO RRCReconfiguration message);", 15], ["-", 1, "1>\telse:", 16], ["-", 2, "2>\tif the RRCReconfiguration includes the fullConfig:", 17], ["", 3, "3>\tperform the full configuration procedure as specified in <a href=\"#5.3.5.11\">5.3.5.11</a>;", 18], ["-", 1, "1>\tif the RRCReconfiguration includes the masterCellGroup:", 19], ["", 2, "2>\tperform the cell group configuration for the received masterCellGroup according to 5.3.5.5;", 20], ["-", 1, "1>\tif the RRCReconfiguration includes the masterKeyUpdate:", 21], ["", 2, "2>\tperform AS security key update procedure as specified in <a href=\"#5.3.5.7\">5.3.5.7</a>;", 22], ["-", 1, "1>\tif the RRCReconfiguration includes the sk-Counter:", 23], ["", 2, "2>\tperform security key update procedure as specified in <a href=\"#5.3.5.7\">5.3.5.7</a>;", 24], ["-", 1, "1>\tif the RRCReconfiguration includes the secondaryCellGroup:", 25], ["", 2, "2>\tperform the cell group configuration for the SCG according to 5.3.5.5;", 26], ["-", 1, "1>\tif the RRCReconfiguration includes the mrdc-SecondaryCellGroupConfig:", 27], ["-", 2, "2>\tif the mrdc-SecondaryCellGroupConfig is set to setup:", 28], ["-", 3, "3>\tif the mrdc-SecondaryCellGroupConfig includes mrdc-ReleaseAndAdd:", 29], ["", 4, "4>\tperform MR-DC release as specified in clause <a href=\"#5.3.5.10\">5.3.5.10</a>;", 30], ["-", 3, "3>\tif the received mrdc-SecondaryCellGroup is set to nr-SCG:", 31], ["", 4, "4>\tperform the RRC reconfiguration according to <a href=\"#5.3.5.3\">5.3.5.3</a> for the RRCReconfiguration message included in nr-SCG;", 32], ["-", 3, "3>\tif the received mrdc-SecondaryCellGroup is set to eutra-SCG:", 33], ["", 4, "4>\tperform the RRC connection reconfiguration as specified in TS 36.331 [10], clause <a href=\"#5.3.5.3\">5.3.5.3</a> for the RRCConnectionReconfiguration message included in eutra-SCG;", 34], ["-", 2, "2>\telse (mrdc-SecondaryCellGroupConfig is set to release):", 35], ["", 3, "3>\tperform MR-DC release as specified in clause <a href=\"#5.3.5.10\">5.3.5.10</a>;", 36], ["-", 1, "1>\tif the RRCReconfiguration message includes the radioBearerConfig:", 37], ["", 2, "2>\tperform the radio bearer configuration according to 5.3.5.6;", 38], ["-", 1, "1>\tif the RRCReconfiguration message includes the radioBearerConfig2:", 39], ["", 2, "2>\tperform the radio bearer configuration according to 5.3.5.6;", 40], ["-", 1, "1>\tif the RRCReconfiguration message includes the measConfig:", 41], ["", 2, "2>\tperform the measurement configuration procedure as specified in 5.5.2;", 42], ["-", 1, "1>\tif the RRCReconfiguration message includes the dedicatedNAS-MessageList:", 43], ["", 2, "2>\tforward each element of the dedicatedNAS-MessageList to upper layers in the same order as listed;", 44], ["-", 1, "1>\tif the RRCReconfiguration message includes the dedicatedSIB1-Delivery:", 45], ["", 2, "2>\tperform the action upon reception of SIB1 as specified in <a href=\"#5.2.2.4.2\">5.2.2.4.2</a>;\nNOTE 0:\tIf this RRCReconfiguration is associated to the MCG and includes reconfigurationWithSync in spCellConfig and dedicatedSIB1-Delivery, the UE initiates (if needed) the request to acquire required SIBs, according to clause 5.2.2.3.5, only after the random access procedure towards the target SpCell is completed.", 46], ["-", 1, "1>\tif the RRCReconfiguration message includes the dedicatedSystemInformationDelivery:", 47], ["", 2, "2>\tperform the action upon reception of System Information as specified in 5.2.2.4;", 48], ["-", 1, "1>\tif the RRCReconfiguration message includes the otherConfig:", 49], ["", 2, "2>\tperform the other configuration procedure as specified in <a href=\"#5.3.5.9\">5.3.5.9</a>;", 50], ["-", 1, "1>\tif the RRCReconfiguration message includes the bap-Config:", 51], ["", 2, "2>\tperform the BAP configuration procedure as specified in <a href=\"#5.3.5.12\">5.3.5.12</a>;", 52], ["-", 1, "1>\tif the RRCReconfiguration message includes the conditionalReconfiguration:", 53], ["", 2, "2>\tperform conditional configuration as specified in 5.3.5.13;", 54], ["-", 1, "1>\tif the RRCReconfiguration message includes the sl-ConfigDedicatedNR:", 55], ["", 2, "2>\tperform the sidelink dedicated configuration procedure as specified in 5.3.5.8;", 56], ["-", 1, "1>\tif the RRCReconfiguration message includes the sl-ConfigDedicatedEUTRA:", 57], ["-", 2, "2>\tif sl-V2X-ConfigDedicated is included in sl-ConfigDedicatedEUTRA", 58], ["", 3, "3>\tperform the V2X sidelink communication dedicated configuration procedure as specified in 5.3.10.15a in TS 36.331 [10];", 59], ["-", 2, "2>\tif sl-V2X-SPS-Config is included in sl-ConfigDedicatedEUTRA", 60], ["", 3, "3>\tperform V2X sidelink SPS reconfiguration as specified in 5.3.10.5 in TS 36.331 [10];", 61], ["-", 1, "1>\tset the content of the RRCReconfigurationComplete message as follows:", 62], ["-", 2, "2>\tif the RRCReconfiguration includes the masterCellGroup containing the reportUplinkTxDirectCurrent:", 63], ["", 3, "3>\tinclude the uplinkTxDirectCurrentList for each MCG serving cell with UL;", 64], ["", 3, "3>\tinclude uplinkDirectCurrentBWP-SUL for each MCG serving cell configured with SUL carrier, if any, within the uplinkTxDirectCurrentList;", 65], ["-", 2, "2>\tif the RRCReconfiguration includes the secondaryCellGroup containing the reportUplinkTxDirectCurrent:", 66], ["", 3, "3>\tinclude the uplinkTxDirectCurrentList for each SCG serving cell with UL;", 67], ["", 3, "3>\tinclude uplinkDirectCurrentBWP-SUL for each SCG serving cell configured with SUL carrier, if any, within the uplinkTxDirectCurrentList;", 68], ["-", 2, "2>\tif the RRCReconfiguration message includes the mrdc-SecondaryCellGroupConfig with mrdc-SecondaryCellGroup set to eutra-SCG:", 69], ["", 3, "3>\tinclude in the eutra-SCG-Response the E-UTRA RRCConnectionReconfigurationComplete message in accordance with TS 36.331 [10] clause <a href=\"#5.3.5.3\">5.3.5.3</a>;", 70], ["-", 2, "2> if the RRCReconfiguration message includes the mrdc-SecondaryCellGroupConfig with mrdc-SecondaryCellGroup set to nr-SCG:", 71], ["", 3, "3>\tinclude in the nr-SCG-Response the RRCReconfigurationComplete message;", 72], ["-", 2, "2>\tif the RRCReconfiguration message was included in an RRCResume message:", 73], ["", 3, "3>\tinclude the RRCReconfigurationComplete message in the nr-SCG-Response within the scg-Response in the RRCResumeComplete message;", 74], ["-", 2, "2>\tif the RRCReconfiguration message was included in E-UTRA RRCConnectionResume message:", 75], ["", 3, "3>\tinclude the RRCReconfigurationComplete message in the E-UTRA MCG RRC message RRCConnectionResumeComplete in accordance with TS 36.313 [10], clause 5.3.3.4a;", 76], ["-", 2, "2>\tif the RRCReconfiguration is applied due to a conditional configuration execution and included a secondaryCellGroupConfig:", 77], ["-", 3, "3>\tif the applied RRCReconfiguration message was received via SRB1:", 78], ["-", 4, "4>\tif the applied RRCReconfiguration message was received via E-UTRAN:", 79], ["", 5, "5>\tFFS;", 80], ["-", 0, "Editor's note: FFS How the RRCReconfigurationComplete is transmitted when the UE is in EN-DC e.g. ULInformationTransferMRDC or RRCConnectionReconfigurationComplete.", 81], ["-", 4, "4>\telse:", 82], ["", 5, "5>\tsubmit the RRCReconfigurationComplete to lower layers for transmissionvia SRB1;", 83], ["-", 0, "Editor's note: FFS on whether to inform MN upon the CPC execution if CPC configured via SRB3", 84], ["-", 2, "2>\tif the UE has logged measurements available for NR and if the RPLMN is included in plmn-IdentityList stored in VarLogMeasReport:", 85], ["", 3, "3>\tinclude the logMeasAvailable in the RRCReconfigurationComplete message;", 86], ["-", 2, "2>\tif the UE has Bluetooth logged measurements available and if the RPLMN is included in plmn-IdentityList stored in VarLogMeasReport:", 87], ["", 3, "3>\tinclude the logMeasAvailableBT in the RRCReconfigurationComplete message;", 88], ["-", 2, "2>\tif the UE has WLAN logged measurements available and if the RPLMN is included in plmn-IdentityList stored in VarLogMeasReport:", 89], ["", 3, "3>\tinclude the logMeasAvailableWLAN in the RRCReconfigurationComplete message;", 90], ["-", 2, "2>\tif the UE has connection establishment failure information available in VarConnEstFailReport and if the RPLMN is equal to plmn-Identity stored in VarConnEstFailReport:", 91], ["", 3, "3>\tinclude connEstFailInfoAvailable in the RRCReconfigurationComplete message;", 92], ["-", 2, "2>\tif the UE has radio link failure or handover failure information available in VarRLF-Report and if the RPLMN is included in plmn-IdentityList stored in VarRLF-Report:", 93], ["", 3, "3>\tinclude rlf-InfoAvailable in the RRCReconfigurationComplete message;", 94], ["-", 2, "2>\tif the UE has radio link failure or handover failure information available in VarRLF-Report of TS 36.331 [10] and if the UE is capable of cross-RAT RLF reporting and if the RPLMN is included in plmn-IdentityList stored in VarRLF-Report of TS 36.331 [10]:", 95], ["", 3, "3>\tinclude rlf-InfoAvailable in the RRCReconfigurationComplete message;", 96], ["-", 1, "1>\tif the UE is configured with E-UTRA nr-SecondaryCellGroupConfig (UE in (NG)EN-DC):", 97], ["", 2, "2>\tif the RRCReconfiguration message was received via E-UTRA SRB1 as specified in TS 36.331 [10]; or", 98], ["-", 2, "2>\tif the RRCReconfiguration message was received via SRB3 within DLInformationTransferMRDC", 99], ["", 3, "3>\tsubmit the RRCReconfigurationComplete via E-UTRA embedded in E-UTRA RRC message RRCConnectionReconfigurationComplete as specified in TS 36.331 [10], clause 5.3.5.3/5.3.5.4;", 100], ["-", 3, "3>\tif reconfigurationWithSync was included in spCellConfig of an SCG:", 101], ["", 4, "4>\tinitiate the Random Access procedure on the SpCell, as specified in TS 38.321 [3];", 102], ["-", 3, "3>\telse:", 103], ["", 4, "4>\tthe procedure ends;\nNOTE 1:\tThe order the UE sends the RRCConnectionReconfigurationComplete message and performs the Random Access procedure towards the SCG is left to UE implementation.", 104], ["-", 2, "2>\telse (RRCReconfiguration was received via SRB3) but not within DLInformationTransferMRDC:", 105], ["", 3, "3>\tsubmit the RRCReconfigurationComplete message via SRB3 to lower layers for transmission using the new configuration;\nNOTE 2:\tIn (NG)EN-DC and NR-DC, in the case RRCReconfiguration is received via SRB1 or within DLInformationTransferMRDC via SRB3, the random access is triggered by RRC layer itself as there is not necessarily other UL transmission. In the case RRCReconfiguration is received via SRB3 but not within DLInformationTransferMRDC, the random access is triggered by the MAC layer due to arrival of RRCReconfigurationComplete.", 106], ["-", 1, "1>\telse if the RRCReconfiguration message was received via SRB1 within the nr-SCG within mrdc-SecondaryCellGroup (UE in NR-DC, mrdc-SecondaryCellGroup was received in RRCReconfiguration via SRB1):", 107], ["-", 2, "2>\tif reconfigurationWithSync was included in spCellConfig in nr-SCG:", 108], ["", 3, "3>\tinitiate the Random Access procedure on the PSCell, as specified in TS 38.321 [3];", 109], ["-", 2, "2>\telse", 110], ["", 3, "3>\tthe procedure ends;\nNOTE 2a:\tThe order in which the UE sends the RRCReconfigurationComplete message and performs the Random Access procedure towards the SCG is left to UE implementation.", 111], ["-", 1, "1>\telse if the RRCReconfiguration message was received via SRB3 (UE in NR-DC):", 112], ["-", 2, "2>\tif the RRCReconfiguration message was received within DLInformationTransferMRDC:", 113], ["-", 3, "3>\tif the RRCReconfiguration message was received within the nr-SCG within mrdc-SecondaryCellGroup (NR SCG RRC Reconfiguration):", 114], ["-", 4, "4>\tif reconfigurationWithSync was included in spCellConfig in nr-SCG:", 115], ["", 5, "5>\tinitiate the Random Access procedure on the PSCell, as specified in TS 38.321 [3];", 116], ["", 4, "4>\tthe procedure ends;", 117], ["", 3, "3>\tsubmit the RRCReconfigurationComplete message via SRB1 to lower layers for transmission using the new configuration;", 118], ["", 3, "3>\tthe procedure ends;", 119], ["", 2, "2>\tsubmit the RRCReconfigurationComplete message via SRB3 to lower layers for transmission using the new configuration;", 120], ["-", 1, "1>\telse (RRCReconfiguration was received via SRB1):", 121], ["", 2, "2>\tsubmit the RRCReconfigurationComplete message via SRB1 to lower layers for transmission using the new configuration;", 122], ["-", 2, "2>\tif this is the first RRCReconfiguration message after successful completion of the RRC re-establishment procedure:", 123], ["", 3, "3>\tresume SRB2 and DRBs that are suspended;", 124], ["-", 1, "1>\tif reconfigurationWithSync was included in spCellConfig of an MCG or SCG, and when MAC of an NR cell group successfully completes a Random Access procedure triggered above;", 125], ["", 2, "2>\tstop timer T304 for that cell group;", 126], ["", 2, "2>\tstop timer T310 for source if running;", 127], ["", 2, "2>\tapply the parts of the CSI reporting configuration, the scheduling request configuration and the sounding RS configuration that do not require the UE to know the SFN of the respective target SpCell, if any;", 128], ["", 2, "2>\tapply the parts of the measurement and the radio resource configuration that require the UE to know the SFN of the respective target SpCell (e.g. measurement gaps, periodic CQI reporting, scheduling request configuration, sounding RS configuration), if any, upon acquiring the SFN of that target SpCell;", 129], ["-", 2, "2>\tif the reconfigurationWithSync was included in spCellConfig of an MCG:", 130], ["-", 3, "3>\tif T390 is running:", 131], ["", 4, "4>\tstop timer T390 for all access categories;", 132], ["", 4, "4>\tperform the actions as specified in 5.3.14.4.", 133], ["", 3, "3>\tif RRCReconfiguration does not include dedicatedSIB1-Delivery and", 134], ["-", 3, "3>\tif the active downlink BWP, which is indicated by the firstActiveDownlinkBWP-Id for the target SpCell of the MCG, has a common search space configured by searchSpaceSIB1:", 135], ["", 4, "4>\tacquire the SIB1, which is scheduled as specified in TS 38.213 [13], of the target SpCell of the MCG;", 136], ["", 4, "4>\tupon acquiring SIB1, perform the actions specified in clause <a href=\"#5.2.2.4.2\">5.2.2.4.2</a>;", 137], ["", 2, "2>\tif the reconfigurationWithSync was included in spCellConfig of an MCG; or:", 138], ["-", 2, "2>\tif the reconfigurationWithSync was included in spCellConfig of an SCG and the CPC was configured", 139], ["", 3, "3>\tremove all the entries within VarConditionalConfig, if any;", 140], ["-", 3, "3>\tfor each measId of the source SpCell configuration, if the associated reportConfig has a reportType set to condTriggerConfig:", 141], ["-", 4, "4>\tfor the associated reportConfigId:", 142], ["", 5, "5>\tremove the entry with the matching reportConfigId from the reportConfigList within the VarMeasConfig;", 143], ["-", 4, "4>\tif the associated measObjectId is only associated to a reportConfig with reportType set to cho-TriggerConfig:", 144], ["", 5, "5>\tremove the entry with the matching measObjectId from the measObjectList within the VarMeasConfig;", 145], ["", 4, "4>\tremove the entry with the matching measId from the measIdList within the VarMeasConfig;", 146], ["", 2, "2>\tif reconfigurationWithSync was included in masterCellGroup; and", 147], ["-", 2, "2>\tif the UE transmitted a UEAssistanceInformation message during the last 1 second, and the UE is still configured to provide UE assistance information:", 148], ["", 3, "3>\tinitiate transmission of a UEAssistanceInformation message to re-send the UE assistance information that UE is still configured to provide with the same contents;", 149], ["-", 2, "2>\tif SIB12 is provided by the target PCell; and the UE transmitted a SidelinkUEInformationNR message indicating a change of NR sidelink communication related parameters relevant in target PCell (i.e. change of sl-RxInterestedFreqList or sl-TxResourceReqList) during the last 1 second preceding reception of the RRCReconfiguration message including reconfigurationWithSync:", 150], ["", 3, "3>\tinitiate transmission of the SidelinkUEInformationNR message in accordance with <a href=\"#5.8.3.3\">5.8.3.3</a>;", 151], ["", 2, "2>\tthe procedure ends.\nNOTE 3:\tThe UE is only required to acquire broadcasted SIB1 if the UE can acquire it without disrupting unicast data reception, i.e. the broadcast and unicast beams are quasi co-located.", 152]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.3\tReception of an RRCReconfiguration by the UE"}, {"id": "5.3.5.4", "name": "Secondary cell group release", "headline": "5.3.5.4\tSecondary cell group release", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.4\tSecondary cell group release", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tas a result of SCG release triggered by E-UTRA (i.e. (NG)EN-DC case) or NR (i.e. NR-DC case):", 1], ["", 2, "2>\treset SCG MAC, if configured;", 2], ["-", 2, "2>\tfor each RLC bearer that is part of the SCG configuration:", 3], ["", 3, "3>\tperform RLC bearer release procedure as specified in <a href=\"#5.3.5.5.3\">5.3.5.5.3</a>;", 4], ["", 2, "2>\trelease the SCG configuration;", 5], ["", 2, "2>\tstop timer T310 for the corresponding SpCell, if running;", 6], ["", 2, "2>\tstop timer T312 for the corresponding SpCell, if running;", 7], ["", 2, "2>\tstop timer T304 for the corresponding SpCell, if running.\nNOTE:\tRelease of cell group means only release of the lower layer configuration of the cell group but the RadioBearerConfig may not be released.", 8]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.4\tSecondary cell group release"}, {"id": "5.3.5.5", "name": "Cell Group configuration", "headline": "5.3.5.5\tCell Group configuration", "aoa": [], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration"}, {"id": "5.3.5.5.1", "name": "General", "headline": "5.3.5.5.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration\n5.3.5.5.1\tGeneral", ""], ["", 0, "The network configures the UE with Master Cell Group (MCG), and zero or one Secondary Cell Group (SCG). In (NG)EN-DC, the MCG is configured as specified in TS 36.331 [10], and for NE-DC, the SCG is configured as specified in TS 36.331 [10]. The network provides the configuration parameters for a cell group in the CellGroupConfig IE.", 0], ["-", 0, "The UE performs the following actions based on a received CellGroupConfig IE:", 1], ["-", 1, "1>\tif the CellGroupConfig contains the spCellConfig with reconfigurationWithSync:", 2], ["", 2, "2>\tperform Reconfiguration with sync according to <a href=\"#5.3.5.5.2\">5.3.5.5.2</a>;", 3], ["", 2, "2>\tresume all suspended radio bearers and resume SCG transmission for all radio bearers, if suspended;", 4], ["-", 1, "1>\tif the CellGroupConfig contains the rlc-BearerToReleaseList:", 5], ["", 2, "2>\tperform RLC bearer release as specified in <a href=\"#5.3.5.5.3\">5.3.5.5.3</a>;", 6], ["-", 1, "1>\tif the CellGroupConfig contains the rlc-BearerToAddModList:", 7], ["", 2, "2>\tperform the RLC bearer addition/modification as specified in <a href=\"#5.3.5.5.4\">5.3.5.5.4</a>;", 8], ["-", 1, "1>\tif the CellGroupConfig contains the mac-CellGroupConfig:", 9], ["", 2, "2>\tconfigure the MAC entity of this cell group as specified in <a href=\"#5.3.5.5.5\">5.3.5.5.5</a>;", 10], ["-", 1, "1>\tif the CellGroupConfig contains the sCellToReleaseList:", 11], ["", 2, "2>\tperform SCell release as specified in <a href=\"#5.3.5.5.8\">5.3.5.5.8</a>;", 12], ["-", 1, "1>\tif the CellGroupConfig contains the spCellConfig:", 13], ["", 2, "2>\tconfigure the SpCell as specified in <a href=\"#5.3.5.5.7\">5.3.5.5.7</a>;", 14], ["-", 1, "1>\tif the CellGroupConfig contains the sCellToAddModList:", 15], ["", 2, "2>\tperform SCell addition/modification as specified in <a href=\"#5.3.5.5.9\">5.3.5.5.9</a>;", 16], ["-", 1, "1>\tif the CellGroupConfig contains the bh-RLC-ChannelToReleaseList:", 17], ["", 2, "2>\tperform BH RLC channel release as specified in <a href=\"#5.3.5.5.10\">5.3.5.5.10</a>;", 18], ["-", 1, "1>\tif the CellGroupConfig contains the bh-RLC-ChannelToAddModList:", 19], ["", 2, "2>\tperform the BH RLC channel addition/modification as specified in <a href=\"#5.3.5.5.11\">5.3.5.5.11</a>;", 20]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration\n5.3.5.5.1\tGeneral"}, {"id": "5.3.5.5.2", "name": "Reconfiguration with sync", "headline": "5.3.5.5.2\tReconfiguration with sync", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration\n5.3.5.5.2\tReconfiguration with sync", ""], ["-", 0, "The UE shall perform the following actions to execute a reconfiguration with sync.", 0], ["", 1, "1>\tif the AS security is not activated, perform the actions upon going to RRC_IDLE as specified in <a href=\"#5.3.11\">5.3.11</a> with the release cause 'other' upon which the procedure ends;", 1], ["-", 1, "1>\tif dapsConfig is not configured for any DRB:", 2], ["", 2, "2>\tstop timer T310 for the corresponding SpCell, if running;", 3], ["", 1, "1>\tstop timer T312 for the corresponding SpCell, if running;", 4], ["", 1, "1>\tstart timer T304 for the corresponding SpCell with the timer value set to t304, as included in the reconfigurationWithSync;", 5], ["-", 1, "1>\tif the frequencyInfoDL is included:", 6], ["", 2, "2>\tconsider the target SpCell to be one on the SSB frequency indicated by the frequencyInfoDL with a physical cell identity indicated by the physCellId;", 7], ["-", 1, "1>\telse:", 8], ["", 2, "2>\tconsider the target SpCell to be one on the SSB frequency of the source SpCell with a physical cell identity indicated by the physCellId;", 9], ["", 1, "1>\tstart synchronising to the DL of the target SpCell;", 10], ["", 1, "1>\tapply the specified BCCH configuration defined in 9.1.1.1 for the target;", 11], ["", 1, "1>\tacquire the MIB of the target, which is scheduled as specified in TS 38.213 [13];\nNOTE 1:\tThe UE should perform the reconfiguration with sync as soon as possible following the reception of the RRC message triggering the reconfiguration with sync, which could be before confirming successful reception (HARQ and ARQ) of this message.\nNOTE 2:\tThe UE may omit reading the MIB if the UE already has the required timing information, or the timing information is not needed for random access.", 12], ["-", 1, "1>\tIf dapsConfig is configured for any DRB:", 13], ["", 2, "2>\tcreate a MAC entity for the target with the same configuration as the MAC entity for the source;", 14], ["-", 2, "2>\tfor each DRB with dapsHO-Config:", 15], ["", 3, "3>\testablish an RLC entity or entities for the target, with the same configurations as for the sourcePCell;", 16], ["", 3, "3>\testablish the logical channel for the target PCell, with the same configurations as for the source;", 17], ["-", 2, "2>\tfor each DRB without dapsHO-Config:", 18], ["", 3, "3>\tassociate the RLC entity, and the associated logical channel, to the target PCell;", 19], ["-", 2, "2>\tfor each SRB:", 20], ["", 3, "3>\testablish an RLC entity or entities for the target, with the same configurations as for the source;", 21], ["", 3, "3>\testablish the logical channel for the target PCell, with the same configurations as for the source;2>\tsuspend SRBs for the source ;\nNOTE 3:\tA UE configured with DAPS, stops following operations in source: system information updates, short messages (for NR) and paging.", 22], ["", 2, "2>\tapply the value of the newUE-Identity as the C-RNTI in the target;", 23], ["", 2, "2>\tconfigure lower layers for the target in accordance with the received spCellConfigCommon;", 24], ["", 2, "2>\tconfigure lower layers for the target in accordance with any additional fields, not covered in the previous, if included in the received reconfigurationWithSync.", 25], ["-", 1, "1>\telse:", 26], ["", 2, "2>\treset the MAC entity of this cell group;", 27], ["", 2, "2>\tconsider the SCell(s) of this cell group, if configured, that are not included in the SCellsToAddModList in the RRCReconfiguration message, to be in deactivated state;", 28], ["", 2, "2>\tapply the value of the newUE-Identity as the C-RNTI for this cell group;", 29], ["", 2, "2>\tconfigure lower layers in accordance with the received spCellConfigCommon;", 30], ["", 2, "2>\tconfigure lower layers in accordance with any additional fields, not covered in the previous, if included in the received reconfigurationWithSync.", 31], ["-", 2, "2>\tif this cell group is the MCG", 32], ["", 3, "3>\tstop timer T316, if running;", 33], ["", 3, "3>\tresume MCG transmission, if suspended.", 34]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration\n5.3.5.5.2\tReconfiguration with sync"}, {"id": "5.3.5.5.3", "name": "RLC bearer release", "headline": "5.3.5.5.3\tRLC bearer release", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration\n5.3.5.5.3\tRLC bearer release", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tfor each logicalChannelIdentity value included in the rlc-BearerToReleaseList that is part of the current UE configuration within the same cell group (LCH release); or", 1], ["-", 1, "1>\tfor each logicalChannelIdentity value that is to be released as the result of an SCG release according to 5.3.5.4:", 2], ["", 2, "2>\trelease the RLC entity or entities as specified in TS 38.322 [4], clause <a href=\"#5.1.3\">5.1.3</a>;", 3], ["", 2, "2>\trelease the corresponding logical channel.", 4]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration\n5.3.5.5.3\tRLC bearer release"}, {"id": "5.3.5.5.4", "name": "RLC bearer addition/modification", "headline": "5.3.5.5.4\tRLC bearer addition/modification", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration\n5.3.5.5.4\tRLC bearer addition/modification", ""], ["-", 0, "For each RLC-BearerConfig received in the rlc-BearerToAddModList IE the UE shall:", 0], ["-", 1, "1>\tif the UE's current configuration contains an RLC bearer with the received logicalChannelIdentity within the same cell group:", 1], ["-", 2, "2>\tif dapsConfig is configured for this bearer:", 2], ["", 3, "3>\treconfigure the RLC entity or entities for the target in accordance with the received rlc-Config;", 3], ["", 3, "3>\treconfigure the logical channel for the target in accordance with the received mac-LogicalChannelConfig;", 4], ["-", 2, "2>\telse:", 5], ["-", 3, "3>\tif reestablishRLC is received:", 6], ["", 4, "4>\tre-establish the RLC entity as specified in TS 38.322 [4];", 7], ["", 3, "3>\treconfigure the RLC entity or entities in accordance with the received rlc-Config;", 8], ["", 3, "3>\treconfigure the logical channel in accordance with the received mac-LogicalChannelConfig;\nNOTE:\tThe network does not re-associate an already configured logical channel with another radio bearer. Hence servedRadioBearer is not present in this case.", 9], ["-", 1, "1>\telse (a logical channel with the given logicalChannelIdentity is not configured within the same cell group, including the case when full configuration option is used):", 10], ["-", 2, "2>\tif the servedRadioBearer associates the logical channel with an SRB and rlc-Config is not included:", 11], ["", 3, "3>\testablish an RLC entity in accordance with the default configuration defined in 9.2 for the corresponding SRB;", 12], ["-", 2, "2>\telse:", 13], ["", 3, "3>\testablish an RLC entity in accordance with the received rlc-Config;", 14], ["-", 2, "2>\tif the servedRadioBearer associates the logical channel with an SRB and if mac-LogicalChannelConfig is not included:", 15], ["", 3, "3>\tconfigure this MAC entity with a logical channel in accordance to the default configuration defined in 9.2 for the corresponding SRB;", 16], ["-", 2, "2>\telse:", 17], ["", 3, "3>\tconfigure this MAC entity with a logical channel in accordance to the received mac-LogicalChannelConfig;", 18], ["", 2, "2>\tassociate this logical channel with the PDCP entity identified by servedRadioBearer.", 19]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration\n5.3.5.5.4\tRLC bearer addition/modification"}, {"id": "5.3.5.5.5", "name": "MAC entity configuration", "headline": "5.3.5.5.5\tMAC entity configuration", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration\n5.3.5.5.5\tMAC entity configuration", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif SCG MAC is not part of the current UE configuration (i.e. SCG establishment):", 1], ["", 2, "2>\tcreate an SCG MAC entity;", 2], ["-", 1, "1>\tif daps-Config is configured for any DRB:", 3], ["", 2, "2>\treconfigure the MAC main configuration for the target of the cell group in accordance with the received mac-CellGroupConfig excluding tag-ToReleaseList and tag-ToAddModList;", 4], ["-", 1, "1>\telse:", 5], ["", 2, "2>\treconfigure the MAC main configuration of the cell group in accordance with the received mac-CellGroupConfig excluding tag-ToReleaseList and tag-ToAddModList;", 6], ["-", 1, "1>\tif the received mac-CellGroupConfig includes the tag-ToReleaseList:", 7], ["-", 2, "2>\tfor each TAG-Id value included in the tag-ToReleaseList that is part of the current UE configuration:", 8], ["", 3, "3>\trelease the TAG indicated by TAG-Id;", 9], ["-", 1, "1>\tif the received mac-CellGroupConfig includes the tag-ToAddModList:", 10], ["-", 2, "2>\tfor each tag-Id value included in tag-ToAddModList that is not part of the current UE configuration (TAG addition):", 11], ["", 3, "3>\tadd the TAG, corresponding to the tag-Id, in accordance with the received timeAlignmentTimer;", 12], ["-", 2, "2>\tfor each tag-Id value included in tag-ToAddModList that is part of the current UE configuration (TAG modification):", 13], ["", 3, "3>\treconfigure the TAG, corresponding to the tag-Id, in accordance with the received timeAlignmentTimer.", 14]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration\n5.3.5.5.5\tMAC entity configuration"}, {"id": "5.3.5.5.6", "name": "RLF Timers & Constants configuration", "headline": "5.3.5.5.6\tRLF Timers & Constants configuration", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration\n5.3.5.5.6\tRLF Timers & Constants configuration", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif the received rlf-TimersAndConstants is set to release:", 1], ["-", 2, "2>\tif dapsConfig is configured for any DRB:", 2], ["", 3, "3>\tuse values for target's timers T301, T310, T311 and target's constants N310, N311, as included in ue-TimersAndConstants received in SIB1;", 3], ["-", 2, "2>\telse:", 4], ["", 3, "3>\tuse values for timers T301, T310, T311 and constants N310, N311, as included in ue-TimersAndConstants received in SIB1;", 5], ["", 3, "3>\tconsider fast MCG link recovery is not available;", 6], ["-", 1, "1>\telse:", 7], ["-", 2, "2>\tif dapsConfig is configured for any DRB:", 8], ["", 3, "3>\tconfigure the value of target's timers and target's constants in accordance with received rlf-TimersAndConstants;", 9], ["-", 2, "2>\telse:", 10], ["", 3, "3>\t(re-)configure the value of timers and constants in accordance with received rlf-TimersAndConstants;", 11], ["", 3, "3>\tstop timer T310 for this cell group, if running;", 12], ["", 3, "3>\tstop timer T312 for this cell group, if running;", 13], ["", 3, "3>\treset the counters N310 and N311.", 14], ["-", 3, "3>\tif the t316 is included and set to setup:", 15], ["", 4, "4>\tconsider fast MCG link recovery is available;", 16], ["-", 3, "3>\telse if the t316 is included and set to release:", 17], ["", 4, "4>\tconsider fast MCG link recovery is not available.", 18]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration\n5.3.5.5.6\tRLF Timers & Constants configuration"}, {"id": "5.3.5.5.7", "name": "SpCell Configuration", "headline": "5.3.5.5.7\tSpCell Configuration", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration\n5.3.5.5.7\tSpCell Configuration", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif the SpCellConfig contains the rlf-TimersAndConstants:", 1], ["", 2, "2>\tconfigure the RLF timers and constants for this cell group as specified in <a href=\"#5.3.5.5.6\">5.3.5.5.6</a>;", 2], ["-", 1, "1>\telse if rlf-TimersAndConstants is not configured for this cell group:", 3], ["-", 2, "2>\tif dapsConfig is configured for any DRB:", 4], ["", 3, "3>\tuse values for target's timers T301, T310, T311 and target's constants N310, N311, as included in ue-TimersAndConstants received in SIB1;", 5], ["-", 2, "2>\telse", 6], ["", 3, "3>\tuse values for timers T301, T310, T311 and constants N310, N311, as included in ue-TimersAndConstants received in SIB1;", 7], ["-", 1, "1>\tif the SpCellConfig contains spCellConfigDedicated:", 8], ["", 2, "2>\tconfigure the SpCell in accordance with the spCellConfigDedicated;", 9], ["", 2, "2>\tconsider the bandwidth part indicated in firstActiveUplinkBWP-Id if configured to be the active uplink bandwidth part;", 10], ["", 2, "2>\tconsider the bandwidth part indicated in firstActiveDownlinkBWP-Id if configured to be the active downlink bandwidth part;", 11], ["-", 2, "2>\tif any of the reference signal(s) that are used for radio link monitoring are reconfigured by the received spCellConfigDedicated:", 12], ["", 3, "3>\tstop timer T310 for the corresponding SpCell, if running;", 13], ["", 3, "3>\tstop timer T312 for the corresponding SpCell, if running;", 14], ["", 3, "3>\treset the counters N310 and N311.", 15]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration\n5.3.5.5.7\tSpCell Configuration"}, {"id": "5.3.5.5.8", "name": "SCell Release", "headline": "5.3.5.5.8\tSCell Release", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration\n5.3.5.5.8\tSCell Release", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif the release is triggered by reception of the sCellToReleaseList:", 1], ["-", 2, "2>\tfor each sCellIndex value included in the sCellToReleaseList:", 2], ["-", 3, "3>\tif the current UE configuration includes an SCell with value sCellIndex:", 3], ["", 4, "4>\trelease the SCell.", 4]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration\n5.3.5.5.8\tSCell Release"}, {"id": "5.3.5.5.9", "name": "SCell Addition/Modification", "headline": "5.3.5.5.9\tSCell Addition/Modification", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration\n5.3.5.5.9\tSCell Addition/Modification", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tfor each sCellIndex value included in the sCellToAddModList that is not part of the current UE configuration (SCell addition):", 1], ["", 2, "2>\tadd the SCell, corresponding to the sCellIndex, in accordance with the sCellConfigCommon and sCellConfigDedicated;", 2], ["-", 2, "2>\tif the sCellState is included and set to activated:", 3], ["", 3, "3>\tconfigure lower layers to consider the SCell to be in activated state;", 4], ["-", 2, "2>\telse:", 5], ["", 3, "3>\tconfigure lower layers to consider the SCell to be in deactivated state;", 6], ["-", 2, "2>\tfor each measId included in the measIdList within VarMeasConfig:", 7], ["", 3, "3>\tif SCells are not applicable for the associated measurement; and", 8], ["-", 3, "3>\tif the concerned SCell is included in cellsTriggeredList defined within the VarMeasReportList for this measId:", 9], ["", 4, "4>\tremove the concerned SCell from cellsTriggeredList defined within the VarMeasReportList for this measId;", 10], ["-", 1, "1>\tfor each sCellIndex value included in the sCellToAddModList that is part of the current UE configuration (SCell modification):", 11], ["", 2, "2>\tmodify the SCell configuration in accordance with the sCellConfigDedicated;", 12], ["-", 2, "2>\tif the sCellState is included and set to activated:", 13], ["", 3, "3>\tconfigure lower layers to consider the SCell to be in activated state;", 14], ["-", 2, "2>\telse:", 15], ["", 3, "3>\tconfigure lower layers to consider the SCell to be in deactivated state.", 16]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration\n5.3.5.5.9\tSCell Addition/Modification"}, {"id": "5.3.5.5.10", "name": "BH RLC channel release", "headline": "5.3.5.5.10\tBH RLC channel release", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration\n5.3.5.5.10\tBH RLC channel release", ""], ["-", 0, "The IAB-node shall:", 0], ["", 1, "1>\tfor each BH-LogicalChannelIdentity value included in the bh-RLC-ChannelToReleaseList that is part of the current IAB-node configuration within the same cell group (LCH release); or", 1], ["-", 1, "1>\tfor each BH-LogicalChannelIdentity value that is to be released as the result of an SCG release according to 5.3.5.4:", 2], ["", 2, "2>\trelease the RLC entity or entities as specified in TS 38.322 [4], clause <a href=\"#5.1.3\">5.1.3</a>;", 3], ["", 2, "2>\trelease the corresponding logical channel.", 4]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration\n5.3.5.5.10\tBH RLC channel release"}, {"id": "5.3.5.5.11", "name": "BH RLC channel addition/modification", "headline": "5.3.5.5.11\tBH RLC channel addition/modification", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration\n5.3.5.5.11\tBH RLC channel addition/modification", ""], ["-", 0, "For each BH-RLC-ChannelConfig received in the bh-RLC-ChannelToAddModList IE the IAB-node shall:", 0], ["-", 1, "1>\tif the current configuration contains a BH RLC Channel with the received bh-LogicalChannelIdentity within the same cell group:", 1], ["-", 2, "2>\tif reestablishRLC is received:", 2], ["", 3, "3>\tre-establish the RLC entity as specified in TS 38.322 [4];", 3], ["", 2, "2>\treconfigure the RLC entity or entities in accordance with the received rlc-Config;", 4], ["", 2, "2>\treconfigure the logical channel in accordance with the received mac-LogicalChannelConfig;", 5], ["-", 1, "1>\telse (a logical channel with the given bh-LogicalChannelIdentity was not configured before within the same cell group):", 6], ["", 2, "2>\testablish an RLC entity in accordance with the received rlc-Config;", 7], ["", 2, "2>\tconfigure this MAC entity with a logical channel in accordance to the received mac-LogicalChannelConfig.", 8]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.5\tCell Group configuration\n5.3.5.5.11\tBH RLC channel addition/modification"}, {"id": "5.3.5.6", "name": "Radio Bearer configuration", "headline": "5.3.5.6\tRadio Bearer configuration", "aoa": [], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.6\tRadio Bearer configuration"}, {"id": "5.3.5.6.1", "name": "General", "headline": "5.3.5.6.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.6\tRadio Bearer configuration\n5.3.5.6.1\tGeneral", ""], ["-", 0, "The UE shall perform the following actions based on a received RadioBearerConfig IE:", 0], ["-", 1, "1>\tif the RadioBearerConfig includes the srb3-ToRelease:", 1], ["", 2, "2>\tperform the SRB release as specified in <a href=\"#5.3.5.6.2\">5.3.5.6.2</a>;", 2], ["-", 1, "1>\tif the RadioBearerConfig includes the srb-ToAddModList or if dapsConfig is configured for any DRB:", 3], ["", 2, "2>\tperform the SRB addition or reconfiguration as specified in <a href=\"#5.3.5.6.3\">5.3.5.6.3</a>;", 4], ["-", 1, "1>\tif the RadioBearerConfig includes the drb-ToReleaseList:", 5], ["", 2, "2>\tperform DRB release as specified in <a href=\"#5.3.5.6.4\">5.3.5.6.4</a>;", 6], ["-", 1, "1>\tif the RadioBearerConfig includes the drb-ToAddModList:", 7], ["", 2, "2>\tperform DRB addition or reconfiguration as specified in 5.3.5.6.5.", 8], ["", 1, "1>\trelease all SDAP entities, if any, that have no associated DRB as specified in TS 37.324 [24] clause 5.1.2, and indicate the release of the user plane resources for PDU Sessions associated with the released SDAP entities to upper layers.", 9]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.6\tRadio Bearer configuration\n5.3.5.6.1\tGeneral"}, {"id": "5.3.5.6.2", "name": "SRB release", "headline": "5.3.5.6.2\tSRB release", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.6\tRadio Bearer configuration\n5.3.5.6.2\tSRB release", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\trelease the PDCP entity and the srb-Identity of the SRB3.", 1]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.6\tRadio Bearer configuration\n5.3.5.6.2\tSRB release"}, {"id": "5.3.5.6.3", "name": "SRB addition/modification", "headline": "5.3.5.6.3\tSRB addition/modification", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.6\tRadio Bearer configuration\n5.3.5.6.3\tSRB addition/modification", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tIf dapsConfig is configured for any DRB:", 1], ["-", 2, "2>\tfor each SRB:", 2], ["-", 3, "3>\tif the masterKeyUpdate is received:", 3], ["", 4, "4>\testablish a PDCP entity for the target as specified in TS 38.323 [5], with the same configuration as the PDCP entity for the source;", 4], ["", 4, "4>\tconfigure the PDCP entity with the security algorithms according to securityConfig and apply the keys (KRRCenc and KRRCint) associated with the master key ( KgNB) or secondary key (S-KgNB) as indicated in keyToUse, if applicable;", 5], ["-", 3, "3>\telse:", 6], ["", 4, "4>\testablish a PDCP entity for the target with state variables continuation as specified in TS 38.323 [5], with the same configuration, the state variables and security configuration as the PDCP entity for the source;", 7], ["-", 1, "1>\tfor each srb-Identity value included in the srb-ToAddModList that is not part of the current UE configuration (SRB establishment or reconfiguration from E-UTRA PDCP to NR PDCP):", 8], ["", 2, "2>\testablish a PDCP entity;", 9], ["-", 2, "2>\tif AS security has been activated:", 10], ["", 3, "3>\tif target RAT of handover is E-UTRA/5GC; or", 11], ["-", 3, "3>\tif the UE is connected to E-UTRA/5GC:", 12], ["-", 4, "4>\tif the UE is capable of E-UTRA/5GC, but not capable of NGEN-DC:", 13], ["", 5, "5>\tconfigure the PDCP entity with the security algorithms and keys (KRRCenc and KRRCint) configured/derived as specified in TS 36.331 [10];", 14], ["-", 4, "4>\telse (i.e., UE capable of NGEN-DC):", 15], ["", 5, "5>\tconfigure the PDCP entity with the security algorithms according to securityConfig and apply the keys (KRRCenc and KRRCint) associated with the master key (KeNB) or secondary key (S-KgNB) as indicated in keyToUse, if applicable;", 16], ["-", 3, "3>\telse (i.e., UE connected to NR or UE in EN-DC):", 17], ["", 4, "4>\tconfigure the PDCP entity with the security algorithms according to securityConfig and apply the keys (KRRCenc and KRRCint) associated with the master key (KeNB/ KgNB) or secondary key (S-KgNB) as indicated in keyToUse, if applicable;", 18], ["-", 2, "2>\tif the current UE configuration as configured by E-UTRA in TS 36.331 [10] includes an SRB identified with the same srb-Identity value:", 19], ["", 3, "3>\tassociate the E-UTRA RLC entity and DCCH of this SRB with the NR PDCP entity;", 20], ["", 3, "3>\trelease the E-UTRA PDCP entity of this SRB;", 21], ["-", 2, "2>\tif the pdcp-Config is included:", 22], ["", 3, "3>\tconfigure the PDCP entity in accordance with the received pdcp-Config;", 23], ["-", 2, "2>\telse:", 24], ["", 3, "3>\tconfigure the PDCP entity in accordance with the default configuration defined in 9.2.1 for the corresponding SRB;", 25], ["-", 1, "1>\tif dapsConfig is configured for any DRB, for each srb-Identity value included in the srb-ToAddModList that is part of the current UE configuration:", 26], ["-", 2, "2>\tif the pdcp-Config is included:", 27], ["", 3, "3>\treconfigure the PDCP entity for the target in accordance with the received pdcp-Config;", 28], ["-", 1, "1>\telse, for each srb-Identity value included in the srb-ToAddModList that is part of the current UE configuration:", 29], ["-", 2, "2>\tif the reestablishPDCP is set:", 30], ["", 3, "3>\tif target RAT of handover is E-UTRA/5GC; or", 31], ["-", 3, "3>\tif the UE is connected to E-UTRA/5GC:", 32], ["-", 4, "4>\tif the UE is capable of E-UTRA/5GC, but not capable of NGEN-DC:", 33], ["", 5, "5>\tconfigure the PDCP entity to apply the integrity protection algorithm and KRRCint key configured/derived as specified in TS 36.331 [10], i.e. the integrity protection configuration shall be applied to all subsequent messages received and sent by the UE, including the message used to indicate the successful completion of the procedure;", 34], ["", 5, "5>\tconfigure the PDCP entity to apply the ciphering algorithm and KRRCenc key configured/derived as specified in TS 36.331 [10], i.e. the ciphering configuration shall be applied to all subsequent messages received and sent by the UE, including the message used to indicate the successful completion of the procedure;", 35], ["-", 4, "4>\telse (i.e., a UE capable of NGEN-DC):", 36], ["", 5, "5>\tconfigure the PDCP entity to apply the integrity protection algorithm and KRRCint key associated with the master key (KeNB) or secondary key (S-KgNB), as indicated in keyToUse, i.e. the integrity protection configuration shall be applied to all subsequent messages received and sent by the UE, including the message used to indicate the successful completion of the procedure;", 37], ["", 5, "5>\tconfigure the PDCP entity to apply the ciphering algorithm and KRRCenc key associated with the master key (KeNB) or secondary key (S-KgNB) as indicated in keyToUse, i.e. the ciphering configuration shall be applied to all subsequent messages received and sent by the UE, including the message used to indicate the successful completion of the procedure;", 38], ["-", 3, "3>\telse (i.e., UE connected to NR or UE in EN-DC):", 39], ["", 4, "4>\tconfigure the PDCP entity to apply the integrity protection algorithm and KRRCint key associated with the master key (KeNB/KgNB) or secondary key (S-KgNB), as indicated in keyToUse , i.e. the integrity protection configuration shall be applied to all subsequent messages received and sent by the UE, including the message used to indicate the successful completion of the procedure;", 40], ["", 4, "4>\tconfigure the PDCP entity to apply the ciphering algorithm and KRRCenc key associated with the master key (KeNB/KgNB) or secondary key (S-KgNB) as indicated in keyToUse, i.e. the ciphering configuration shall be applied to all subsequent messages received and sent by the UE, including the message used to indicate the successful completion of the procedure;", 41], ["", 3, "3>\tre-establish the PDCP entity of this SRB as specified in TS 38.323 [5];", 42], ["-", 2, "2>\telse, if the discardOnPDCP is set:", 43], ["", 3, "3>\ttrigger the PDCP entity to perform SDU discard as specified in TS 38.323 [5];", 44], ["-", 2, "2>\tif the pdcp-Config is included:", 45], ["", 3, "3>\treconfigure the PDCP entity in accordance with the received pdcp-Config.", 46]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.6\tRadio Bearer configuration\n5.3.5.6.3\tSRB addition/modification"}, {"id": "5.3.5.6.4", "name": "DRB release", "headline": "5.3.5.6.4\tDRB release", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.6\tRadio Bearer configuration\n5.3.5.6.4\tDRB release", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tfor each drb-Identity value included in the drb-ToReleaseList that is part of the current UE configuration; or", 1], ["-", 1, "1>\tfor each drb-Identity value that is to be released as the result of full configuration according to 5.3.5.11:", 2], ["", 2, "2>\trelease the PDCP entity and the drb-Identity;", 3], ["-", 2, "2>\tif SDAP entity associated with this DRB is configured:", 4], ["", 3, "3>\tindicate the release of the DRB to SDAP entity associated with this DRB (TS 37.324 [24], clause 5.3.3);", 5], ["-", 2, "2>\tif the DRB is associated with an eps-BearerIdentity:", 6], ["-", 3, "3>\tif a new bearer is not added either with NR or E-UTRA with same eps-BearerIdentity:", 7], ["", 4, "4>\tindicate the release of the DRB and the eps-BearerIdentity of the released DRB to upper layers.\nNOTE 1:\tThe UE does not consider the message as erroneous if the drb-ToReleaseList includes any drb-Identity value that is not part of the current UE configuration.\nNOTE 2:\tWhether or not the RLC and MAC entities associated with this PDCP entity are reset or released is determined by the CellGroupConfig.", 8]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.6\tRadio Bearer configuration\n5.3.5.6.4\tDRB release"}, {"id": "5.3.5.6.5", "name": "DRB addition/modification", "headline": "5.3.5.6.5\tDRB addition/modification", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.6\tRadio Bearer configuration\n5.3.5.6.5\tDRB addition/modification", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tfor each drb-Identity value included in the drb-ToAddModList that is not part of the current UE configuration (DRB establishment including the case when full configuration option is used):", 1], ["", 2, "2>\testablish a PDCP entity and configure it in accordance with the received pdcp-Config;", 2], ["-", 2, "2>\tif the PDCP entity of this DRB is not configured with cipheringDisabled:", 3], ["", 3, "3>\tif target RAT of handover is E-UTRA/5GC; or", 4], ["-", 3, "3>\tif the UE is connected to E-UTRA/5GC:", 5], ["-", 4, "4>\tif the UE is capable of E-UTRA/5GC but not capable of NGEN-DC:", 6], ["", 5, "5>\tconfigure the PDCP entity with the ciphering algorithm and KUPenc key configured/derived as specified in TS 36.331 [10];", 7], ["-", 4, "4>\telse (i.e., a UE capable of NGEN-DC):", 8], ["", 5, "5>\tconfigure the PDCP entity with the ciphering algorithms according to securityConfig and apply the key (KUPenc) associated with the master key (KeNB) or secondary key (S-KgNB) as indicated in keyToUse, if applicable;", 9], ["-", 3, "3>\telse (i.e., UE connected to NR or UE connected to E-UTRA/EPC):", 10], ["", 4, "4>\tconfigure the PDCP entity with the ciphering algorithms according to securityConfig and apply the KUPenc key associated with the master key (KeNB/KgNB) or the secondary key (S-KgNB/S-KeNB) as indicated in keyToUse;", 11], ["-", 2, "2>\tif the PDCP entity of this DRB is configured with integrityProtection:", 12], ["", 3, "3>\tconfigure the PDCP entity with the integrity protection algorithms according to securityConfig and apply the KUPint key associated with the master (KgNB) or the secondary key (S-KgNB) as indicated in keyToUse;", 13], ["-", 2, "2>\tif an sdap-Config is included:", 14], ["-", 3, "3>\tif an SDAP entity with the received pdu-Session does not exist:", 15], ["", 4, "4>\testablish an SDAP entity as specified in TS 37.324 [24] clause <a href=\"#5.1.1\">5.1.1</a>;", 16], ["-", 4, "4>\tif an SDAP entity with the received pdu-Session did not exist prior to receiving this reconfiguration:", 17], ["", 5, "5>\tindicate the establishment of the user plane resources for the pdu-Session to upper layers;", 18], ["", 3, "3>\tconfigure the SDAP entity in accordance with the received sdap-Config as specified in TS 37.324 [24] and associate the DRB with the SDAP entity;", 19], ["-", 2, "2>\tif the DRB is associated with an eps-BearerIdentity:", 20], ["-", 3, "3>\tif the DRB was configured with the same eps-BearerIdentity either by NR or E-UTRA prior to receiving this reconfiguration:", 21], ["", 4, "4>\tassociate the established DRB with the corresponding eps-BearerIdentity;", 22], ["-", 3, "3>\telse:", 23], ["", 4, "4>\tindicate the establishment of the DRB(s) and the eps-BearerIdentity of the established DRB(s) to upper layers;", 24], ["-", 1, "1>\tfor each drb-Identity value included in the drb-ToAddModList that is part of the current UE configuration and configured with dapsConfig:", 25], ["", 2, "2>\treconfigure the PDCP entity as DAPS PDCP entity as specified in TS 38.323 [5] and configure it in accordance with the received pdcp-Config;", 26], ["", 2, "2>\tconfigure the DAPS PDCP entity to associate the RLC entity of target with the target's ciphering function, integrity protection function and ROHC function;", 27], ["-", 2, "2>\tif the masterKeyUpdate is received:", 28], ["-", 3, "3>\tif the target 's ciphering function of DAPS PDCP entity of this DRB is not configured with cipheringDisabled:", 29], ["", 4, "4>\tconfigure the ciphering function of target for the DAPS PDCP entity with the ciphering algorithm according to securityConfig and apply the KUPenc key associated with the master key (KgNB) or the secondary key (S-KgNB), as indicated in keyToUse, i.e. the ciphering configuration shall be applied to all subsequent PDCP PDUs received from target and sent to target by the UE;", 30], ["-", 3, "3>\tif the target's integrity protection function of DAPS PDCP entity of this DRB is configured with integrityProtection:", 31], ["", 4, "4>\tconfigure the integrity protection function of target for the DAPS PDCP entity with the integrity protection algorithms according to securityConfig and apply the KUPint key associated with the master key (KgNB) or the secondary key (S-KgNB) as indicated in keyToUse;", 32], ["-", 2, "2>\telse:", 33], ["", 3, "3>\tconfigure the ciphering function and the integrity protection function of target for the DAPS PDCP entity with the same security configuration as the PDCP entity for the source;", 34], ["-", 2, "2>\tif the sdap-Config is included and the uplink data switching indication is received from lower layer:", 35], ["", 3, "3>\treconfigure the SDAP entity in accordance with the received sdap-Config as specified in TS 37.324 [24];", 36], ["", 3, "3>\tfor each QFI value added in mappedQoS-FlowsToAdd, if the QFI value is previously configured, the QFI value is released from the old DRB;", 37], ["-", 1, "1>\tfor each drb-Identity value included in the drb-ToAddModList that is part of the current UE configuration and not configured with dapsConfig:", 38], ["-", 2, "2>\tif the reestablishPDCP is set:", 39], ["", 3, "3>\tif target RAT of handover is E-UTRA/5GC; or", 40], ["-", 3, "3>\tif the UE is connected to E-UTRA/5GC:", 41], ["-", 4, "4>\tif the UE is capable of E-UTRA/5GC but not capable of NGEN-DC:", 42], ["-", 5, "5>\tif the PDCP entity of this DRB is not configured with cipheringDisabled:", 43], ["", 6, "6>\tconfigure the PDCP entity with the ciphering algorithm and KUPenc key configured/derived as specified in TS 36.331 [10], clause 5.4.2.3, i.e. the ciphering configuration shall be applied to all subsequent PDCP PDUs received and sent by the UE;", 44], ["-", 4, "4>\telse (i.e., a UE capable of NGEN-DC):", 45], ["-", 5, "5>\tif the PDCP entity of this DRB is not configured with cipheringDisabled:", 46], ["", 6, "6>\tconfigure the PDCP entity with the ciphering algorithm and KUPenc key associated with the master key (KeNB) or the secondary key (S-KgNB), as indicated in keyToUse, i.e. the ciphering configuration shall be applied to all subsequent PDCP PDUs received and sent by the UE;", 47], ["-", 3, "3>\telse (i.e., UE connected to NR or UE in EN-DC):", 48], ["-", 4, "4>\tif the PDCP entity of this DRB is not configured with cipheringDisabled:", 49], ["", 5, "5>\tconfigure the PDCP entity with the ciphering algorithm and KUPenc key associated with the master key (KeNB/ KgNB) or the secondary key (S-KgNB/S-KeNB), as indicated in keyToUse, i.e. the ciphering configuration shall be applied to all subsequent PDCP PDUs received and sent by the UE;", 50], ["-", 4, "4>\tif the PDCP entity of this DRB is configured with integrityProtection:", 51], ["", 5, "5>\tconfigure the PDCP entity with the integrity protection algorithms according to securityConfig and apply the KUPint key associated with the master key (KgNB) or the secondary key (S-KgNB) as indicated in keyToUse;", 52], ["-", 3, "3>\tif drb-ContinueROHC is included in pdcp-Config:", 53], ["", 4, "4>\tindicate to lower layer that drb-ContinueROHC is configured;", 54], ["", 3, "3>\tre-establish the PDCP entity of this DRB as specified in TS 38.323 [5], clause <a href=\"#5.1.2\">5.1.2</a>;", 55], ["-", 2, "2>\telse, if the recoverPDCP is set:", 56], ["", 3, "3>\ttrigger the PDCP entity of this DRB to perform data recovery as specified in TS 38.323 [5];", 57], ["-", 2, "2>\tif the pdcp-Config is included:", 58], ["", 3, "3>\treconfigure the PDCP entity in accordance with the received pdcp-Config.", 59], ["-", 2, "2>\tif the sdap-Config is included:", 60], ["", 3, "3>\treconfigure the SDAP entity in accordance with the received sdap-Config as specified in TS37.324 [24];", 61], ["", 3, "3>\tfor each QFI value added in mappedQoS-FlowsToAdd, if the QFI value is previously configured, the QFI value is released from the old DRB;\nNOTE 1:\tVoid.\nNOTE 2:\tWhen determining whether a drb-Identity value is part of the current UE configuration, the UE does not distinguish which RadioBearerConfig and DRB-ToAddModList that DRB was originally configured in. To re-associate a DRB with a different key (KeNB to S-KgNB, KgNB to S-KeNB, KgNB to S-KgNB, or vice versa), the network provides the drb-Identity value in the (target) drb-ToAddModList and sets the reestablishPDCP flag. The network does not list the drb-Identity in the (source) drb-ToReleaseList.\nNOTE 3:\tWhen setting the reestablishPDCP flag for a radio bearer, the network ensures that the RLC receiver entities do not deliver old PDCP PDUs to the re-established PDCP entity. It does that e.g. by triggering a reconfiguration with sync of the cell group hosting the old RLC entity or by releasing the old RLC entity.\nNOTE 4:\tIn this specification, UE configuration refers to the parameters configured by NR RRC unless otherwise stated.\nNOTE 5: Ciphering and integrity protection can be enabled or disabled for a DRB. The enabling/disabling of ciphering or integrity protection can be changed only by releasing and adding the DRB.", 62]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.6\tRadio Bearer configuration\n5.3.5.6.5\tDRB addition/modification"}, {"id": "5.3.5.7", "name": "AS Security key update", "headline": "5.3.5.7\tAS Security key update", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.7\tAS Security key update", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif UE is connected to E-UTRA/EPC or E-UTRA/5GC:", 1], ["-", 2, "2>\tupon reception of sk-Counter as specified in TS 36.331 [10]:", 2], ["", 3, "3>\tupdate the S-KgNB key based on the KeNB key and using the received sk-Counter value, as specified in TS 33.401 [30] for EN-DC, or TS 33.501 [11] for NGEN-DC;", 3], ["", 3, "3>\tderive the KRRCenc and KUPenc keys as specified in TS 33.401 [30] for EN-DC, or TS 33.501 [11] for NGEN-DC;", 4], ["", 3, "3>\tderive the KRRCint and KUPint keys as specified in TS 33.401 [30] for EN-DC or TS 33.501 [11] for NGEN-DC.", 5], ["-", 1, "1>\telse if this procedure was initiated due to reception of the masterKeyUpdate:", 6], ["-", 2, "2>\tif the nas-Container is included in the received masterKeyUpdate:", 7], ["", 3, "3>\tforward the nas-Container to the upper layers;", 8], ["-", 2, "2>\tif the keySetChangeIndicator is set to true:", 9], ["", 3, "3>\tderive or update the KgNB key based on the KAMF key, as specified in TS 33.501 [11];", 10], ["-", 2, "2>\telse:", 11], ["", 3, "3>\tderive or update the KgNB key based on the current KgNB key or the NH, using the nextHopChainingCount value indicated in the received masterKeyUpdate, as specified in TS 33.501 [11];", 12], ["", 2, "2>\tstore the nextHopChainingCount value;", 13], ["-", 2, "2>\tderive the keys associated with the KgNB key as follows:", 14], ["-", 3, "3>\tif the securityAlgorithmConfig is included in SecurityConfig:", 15], ["", 4, "4>\tderive the KRRCenc and KUPenc keys associated with the cipheringAlgorithm indicated in the securityAlgorithmConfig, as specified in TS 33.501 [11];", 16], ["", 4, "4>\tderive the KRRCint and KUPint keys associated with the integrityProtAlgorithm indicated in the securityAlgorithmConfig, as specified in TS 33.501 [11];", 17], ["-", 3, "3>\telse:", 18], ["", 4, "4>\tderive the KRRCenc and KUPenc keys associated with the current cipheringAlgorithm, as specified in TS 33.501 [11];", 19], ["", 4, "4>\tderive the KRRCint and KUPint keys associated with the current integrityProtAlgorithm, as specified in TS 33.501 [11].\nNOTE 1:\tCiphering and integrity protection are optional to configure for the DRBs.", 20], ["-", 1, "1>\telse if this procedure was initiated due to reception of the sk-Counter (UE is in NE-DC, or NR-DC, or is configured with SN terminated bearer(s)):", 21], ["", 2, "2>\tderive or update the secondary key (S-KgNB or S-KeNB) based on the KgNB key and using the received sk-Counter value, as specified in TS 33.501 [11];", 22], ["", 2, "2>\tderive the KRRCenc key and the KUPenc key as specified in TS 33.501 [11] using the ciphering algorithms indicated in the RadioBearerConfig associated with the secondary key (S-KgNB or S-KeNB) as indicated by keyToUse;", 23], ["", 2, "2>\tderive the KRRCint key and the KUPint key as specified in TS 33.501 [11] using the integrity protection algorithms indicated in the RadioBearerConfig associated with the secondary key (S-KgNB or S-KeNB) as indicated by keyToUse;\nNOTE 2:\tIf the UE has no radio bearer configured with keyToUse set to secondary and receives the sk-Counter without any RadioBearerConfig with keyToUse set to secondary, the UE does not consider it as an invalid reconfiguration.", 24]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.7\tAS Security key update"}, {"id": "5.3.5.8", "name": "Reconfiguration failure", "headline": "5.3.5.8\tReconfiguration failure", "aoa": [], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.8\tReconfiguration failure"}, {"id": "5.3.5.8.1", "name": "Void", "headline": "5.3.5.8.1\tVoid", "aoa": [], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.8\tReconfiguration failure\n5.3.5.8.1\tVoid"}, {"id": "5.3.5.8.2", "name": "Inability to comply with RRCReconfiguration", "headline": "5.3.5.8.2\tInability to comply with RRCReconfiguration", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.8\tReconfiguration failure\n5.3.5.8.2\tInability to comply with RRCReconfiguration", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif the UE is in (NG)EN-DC:", 1], ["-", 2, "2>\tif the UE is unable to comply with (part of) the configuration included in the RRCReconfiguration message received over SRB3;", 2], ["", 3, "3>\tcontinue using the configuration used prior to the reception of RRCReconfiguration message;", 3], ["-", 3, "3>\tif MCG transmission is not suspended:", 4], ["", 4, "4>\tinitiate the SCG failure information procedure as specified in subclause 5.7.3 to report SCG reconfiguration error, upon which the connection reconfiguration procedure ends;", 5], ["-", 3, "3>\telse:", 6], ["", 4, "4>\tinitiate the connection re-establishment procedure as specified in TS 36.331 [10], clause 5.3.7, upon which the connection reconfiguration procedure ends;", 7], ["-", 2, "2>\telse, if the UE is unable to comply with (part of) the configuration included in the RRCReconfiguration message received over SRB1;", 8], ["", 3, "3>\tcontinue using the configuration used prior to the reception of RRCReconfiguration message;", 9], ["", 3, "3>\tinitiate the connection re-establishment procedure as specified in TS 36.331 [10], clause 5.3.7, upon which the connection reconfiguration procedure ends.", 10], ["-", 1, "1>\telse if RRCReconfiguration is received via NR (i.e., NR standalone, NE-DC, or NR-DC):", 11], ["-", 2, "2>\tif the UE is unable to comply with (part of) the configuration included in the RRCReconfiguration message received over SRB3;\nNOTE 0:\tThis case does not apply in NE-DC.", 12], ["", 3, "3>\tcontinue using the configuration used prior to the reception of RRCReconfiguration message;", 13], ["-", 3, "3>\tif MCG transmission is not suspended:", 14], ["", 4, "4>\tinitiate the SCG failure information procedure as specified in subclause 5.7.3 to report SCG reconfiguration error, upon which the connection reconfiguration procedure ends;", 15], ["-", 3, "3>\telse:", 16], ["", 4, "4>\tinitiate the connection re-establishment procedure as specified in clause 5.3.7, upon which the connection reconfiguration procedure ends;", 17], ["-", 2, "2>\telse if the UE is unable to comply with (part of) the configuration included in the RRCReconfiguration message received over the SRB1 or if the upper layers indicate that the nas-Container is invalid:\nNOTE 0a:\tThe compliance also covers the SCG configuration carried within octet strings e.g. field mrdc-SecondaryCellGroupConfig. I.e. the failure behaviour defined also applies in case the UE cannot comply with the embedded SCG configuration or with the combination of (parts of) the MCG and SCG configurations.", 18], ["", 3, "3>\tcontinue using the configuration used prior to the reception of RRCReconfiguration message;", 19], ["-", 3, "3>\tif AS security has not been activated:", 20], ["", 4, "4>\tperform the actions upon going to RRC_IDLE as specified in 5.3.11, with release cause 'other'", 21], ["-", 3, "3>\telse if AS security has been activated but SRB2 and at least one DRB have not been setup:", 22], ["", 4, "4>\tperform the actions upon going to RRC_IDLE as specified in 5.3.11, with release cause 'RRC connection failure';", 23], ["-", 3, "3>\telse:", 24], ["", 4, "4>\tinitiate the connection re-establishment procedure as specified in 5.3.7, upon which the reconfiguration procedure ends;", 25], ["-", 1, "1>\telse if RRCReconfiguration is received via other RAT (Handover to NR failure):", 26], ["-", 2, "2>\tif the UE is unable to comply with any part of the configuration included in the RRCReconfiguration message or if the upper layers indicate that the nas-Container is invalid:", 27], ["", 3, "3>\tperform the actions defined for this failure case as defined in the specifications applicable for the other RAT.\nNOTE 1:\tThe UE may apply above failure handling also in case the RRCReconfiguration message causes a protocol error for which the generic error handling as defined in clause 10 specifies that the UE shall ignore the message.\nNOTE 2:\tIf the UE is unable to comply with part of the configuration, it does not apply any part of the configuration, i.e. there is no partial success/failure.\nNOTE 3:\tIt is up to UE implementation whether the compliance check for an RRCReconfiguration received as part of ConditionalReconfiguration is performed upon the reception of the message or upon CHO and CPC execution (when the message is required to be applied).", 28]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.8\tReconfiguration failure\n5.3.5.8.2\tInability to comply with RRCReconfiguration"}, {"id": "5.3.5.8.3", "name": "T304 expiry (Reconfiguration with sync Failure)", "headline": "5.3.5.8.3\tT304 expiry (Reconfiguration with sync Failure)", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.8\tReconfiguration failure\n5.3.5.8.3\tT304 expiry (Reconfiguration with sync Failure)", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif T304 of the MCG expires:", 1], ["", 2, "2>\trelease dedicated preambles provided in rach-ConfigDedicated if configured;", 2], ["", 2, "2>\trelease dedicated msgA PUSCH resources provided in rach-ConfigDedicated if configured;", 3], ["-", 2, "2>\tstore the following handover failure information in VarRLF-Report by setting its fields as follows:", 4], ["", 3, "3>\tclear the information included in VarRLF-Report, if any;", 5], ["", 3, "3>\tset the plmn-IdentityList to include the list of EPLMNs stored by the UE (i.e. includes the RPLMN);", 6], ["", 3, "3>\tset the measResultLastServCell to include the RSRP, RSRQ and the available SINR, of the source PCell based on the available SSB and CSI-RS measurements collected up to the moment the UE detected handover failure;", 7], ["", 3, "3>\tset the ssbRLMConfigBitmap and/or csi-rsRLMConfigBitmap in measResultLastServCell to include the radio link monitoring configuration of the source PCell;", 8], ["-", 3, "3>\tfor each of the configured measObjectNR in which measurements are available;", 9], ["-", 4, "4>\tif the SS/PBCH block-based measurement quantities are available;", 10], ["-", 5, "5>\tset the measResultListNR in measResultNeighCells to include all the available measurement quantities of the best measured cells associated to the measObjectNR, other than the source PCell, ordered such that the cell with highest SS/PBCH block RSRP is listed first if SS/PBCH block RSRP measurement results are available, otherwise the cell with highest SS/PBCH block RSRQ is listed first if SS/PBCH block RSRQ measurement results are available, otherwise the cell with highest SS/PBCH block SINR is listed first, based on the available SS/PBCH block based measurements collected up to the moment the UE detected handover failure;", 11], ["", 6, "6>\tfor each neighbour cell included, include the optional fields that are available;", 12], ["-", 4, "4>\tif the CSI-RS based measurement quantities are available;", 13], ["-", 5, "5>\tset the measResultListNR in measResultNeighCells to include all the available measurement quantities of the best measured cells, other than the source PCell, ordered such that the cell with highest CSI-RS RSRP is listed first if CSI-RS RSRP measurement results are available, otherwise the cell with highest CSI-RS RSRQ is listed first if CSI-RS RSRQ measurement results are available, otherwise the cell with highest CSI-RS SINR is listed first, based on the available CSI-RS based measurements collected up to the moment the UE detected handover failure;", 14], ["", 6, "6>\tfor each neighbour cell included, include the optional fields that are available;", 15], ["-", 3, "3>\tfor each of the configured EUTRA frequencies in which measurements are available;", 16], ["-", 4, "4>\tset the measResultListEUTRA in measResultNeighCells to include the best measured cells ordered such that the cell with highest RSRP is listed first if RSRP measurement results are available, otherwise the cell with highest RSRQ is listed first, and based on measurements collected up to the moment the UE detected radio link failure;", 17], ["", 5, "5>\tfor each neighbour cell included, include the optional fields that are available;\nNOTE 0:\tThe measured quantities are filtered by the L3 filter as configured in the mobility measurement configuration. The measurements are based on the time domain measurement resource restriction, if configured. Blacklisted cells are not required to be reported.", 18], ["-", 3, "3>\tif detailed location information is available, set the content of the LocationInfo as follows:", 19], ["", 4, "4>\tif available, set the commonLocationInfo to include the detailed location information;", 20], ["", 4, "4>\tif available, set the bt-LocationInfo to include the Bluetooth measurement results, in order of decreasing RSSI for Bluetooth beacons;", 21], ["", 4, "4>\tif available, set the wlan-LocationInfo to include the WLAN measurement results, in order of decreasing RSSI for WLAN APs;", 22], ["", 4, "4>\tif available, set the sensor-LocationInfo to include the sensor measurement results;", 23], ["", 3, "3>\tset the failedPCellId to the global cell identity and tracking area code, if available, and otherwise to the physical cell identity and carrier frequency of the target PCell of the failed handover;", 24], ["", 3, "3>\tinclude previousPCellId and set it to the global cell identity and tracking area code of the PCell where the last RRCReconfiguration message including reconfigurationWithSync was received;", 25], ["", 3, "3>\tset the timeConnFailure to the elapsed time since reception of the last RRCReconfiguration message including the reconfigurationWithSync;", 26], ["", 3, "3>\tset the connectionFailureType to hof;", 27], ["", 3, "3>\tset the c-RNTI to the C-RNTI used in the source PCell;", 28], ["", 3, "3>\tset the absoluteFrequencyPointA to indicate the absolute frequency of the reference resource block associated to the random-access resources;", 29], ["", 3, "3>\tset the locationAndBandwidth and subcarrierSpacing associated to the UL BWP of the random-access resources;", 30], ["", 3, "3>\tset the msg1-FrequencyStart, msg1-FDM and msg1-SubcarrierSpacing associated to the random-access resources;", 31], ["", 3, "3>\tset perRAInfoList to indicate random access failure information as specified in <a href=\"#5.3.10.3\">5.3.10.3</a>;", 32], ["-", 2, "2>\tif dapsConfig is configured for any DRB, and radio link failure is not detected in the source PCell, according to subclause 5.3.10.3:", 33], ["", 3, "3>\trelease target PCell configuration;", 34], ["", 3, "3>\treset target MAC and release the target MAC configuration;", 35], ["-", 3, "3>\tfor each DRB with a DAPS PDCP entity:", 36], ["", 4, "4>\trelease the RLC entity and the associated logical channel for the target;", 37], ["", 4, "4>\treconfigure the PDCP entity to normal PDCP as specified in TS 38.323 [5];", 38], ["-", 3, "3>\tfor each SRB:", 39], ["-", 4, "4>\tif the masterKeyUpdate was not received:", 40], ["", 5, "5>\tconfigure the PDCP entity for the source with the same state variables as the PDCP entity for the target;", 41], ["", 4, "4>\trelease the PDCP entity for the target;", 42], ["", 4, "4>\trelease the RLC entity and the associated logical channel for the target;", 43], ["", 3, "3>\trelease the physical channel configuration for the target;", 44], ["", 3, "3>\trevert back to the SDAP configuration used in the source;", 45], ["", 3, "3>\tdiscard the keys used in target (the KgNB key, the S-KgNB key, the S-KeNB key, the KRRCenc key, the KRRCint key, the KUPint key and the KUPenc key), if any;", 46], ["", 3, "3>\tresume suspended SRBs in the source;", 47], ["-", 3, "3>\tfor each DRB without a DAPS PDCP entity:", 48], ["", 4, "4>\trevert back to the UE configuration used for the DRB in the source, includes PDCP, RLC states variables, the security configuration and the data stored in transmission and reception buffers in PDCP and RLC entities ;", 49], ["", 3, "3>\trevert back to the UE RRM configuration used in the source;", 50], ["", 3, "3>\tinitiate the failure information procedure as specified in subclause 5.7.5 to report DAPS handover failure.", 51], ["-", 2, "2>\telse:", 52], ["", 3, "3>\trevert back to the UE configuration used in the source PCell;", 53], ["", 3, "3>\tinitiate the connection re-establishment procedure as specified in subclause 5.3.7.\nNOTE 1:\tIn the context above, \"the UE configuration\" includes state variables and parameters of each radio bearer.", 54], ["-", 1, "1>\telse if T304 of a secondary cell group expires:", 55], ["-", 2, "2>\tif MCG transmission is not suspended:", 56], ["", 3, "3>\trelease dedicated preambles provided in rach-ConfigDedicated, if configured;", 57], ["", 3, "3>\tinitiate the SCG failure information procedure as specified in subclause 5.7.3 to report SCG reconfiguration with sync failure, upon which the RRC reconfiguration procedure ends;", 58], ["-", 2, "2>\telse:", 59], ["", 3, "3>\tinitiate the connection re-establishment procedure as specified in subclause 5.3.7;", 60], ["-", 1, "1>\telse if T304 expires when RRCReconfiguration is received via other RAT (HO to NR failure):", 61], ["", 2, "2>\treset MAC;", 62], ["", 2, "2>\tperform the actions defined for this failure case as defined in the specifications applicable for the other RAT.", 63]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.8\tReconfiguration failure\n5.3.5.8.3\tT304 expiry (Reconfiguration with sync Failure)"}, {"id": "5.3.5.9", "name": "Other configuration", "headline": "5.3.5.9\tOther configuration", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.9\tOther configuration", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif the received otherConfig includes the delayBudgetReportingConfig:", 1], ["-", 2, "2>\tif delayBudgetReportingConfig is set to setup:", 2], ["", 3, "3>\tconsider itself to be configured to send delay budget reports in accordance with 5.7.4;", 3], ["-", 2, "2>\telse:", 4], ["", 3, "3>\tconsider itself not to be configured to send delay budget reports and stop timer T342, if running.", 5], ["-", 1, "1>\tif the received otherConfig includes the overheatingAssistanceConfig:", 6], ["-", 2, "2>\tif overheatingAssistanceConfig is set to setup:", 7], ["", 3, "3>\tconsider itself to be configured to provide overheating assistance information in accordance with 5.7.4;", 8], ["-", 2, "2>\telse:", 9], ["", 3, "3>\tconsider itself not to be configured to provide overheating assistance information and stop timer T345, if running;", 10], ["-", 1, "1>\tif the received otherConfig includes the idc-AssistanceConfig:", 11], ["-", 2, "2>\tif idc-AssistanceConfig is set to setup:", 12], ["", 3, "3>\tconsider itself to be configured to provide IDC assistance information in accordance with 5.7.4;", 13], ["-", 2, "2>\telse:", 14], ["", 3, "3>\tconsider itself not to be configured to provide IDC assistance information;", 15], ["-", 1, "1>\tif the received otherConfig includes the drx-PreferenceConfig:", 16], ["-", 2, "2>\tif drx-PreferenceConfig is set to setup:", 17], ["", 3, "3>\tconsider itself to be configured to provide its preference on DRX parameters for power saving in accordance with 5.7.4;", 18], ["-", 2, "2>\telse:", 19], ["", 3, "3>\tconsider itself not to be configured to provide its preference on DRX parameters for power saving and stop timer T346a, if running;", 20], ["-", 1, "1>\tif the received otherConfig includes the maxBW-PreferenceConfig:", 21], ["-", 2, "2>\tif maxBW-PreferenceConfig is set to setup:", 22], ["", 3, "3>\tconsider itself to be configured to provide its preference on the maximum aggregated bandwidth for power saving in accordance with 5.7.4;", 23], ["-", 2, "2>\telse:", 24], ["", 3, "3>\tconsider itself not to be configured to provide its preference on the maximum aggregated bandwidth for power saving and stop timer T346b, if running;", 25], ["-", 1, "1>\tif the received otherConfig includes the maxCC-PreferenceConfig:", 26], ["-", 2, "2>\tif maxCC-PreferenceConfig is set to setup:", 27], ["", 3, "3>\tconsider itself to be configured to provide its preference on the maximum number of secondary component carriers for power saving in accordance with 5.7.4;", 28], ["-", 2, "2>\telse:", 29], ["", 3, "3>\tconsider itself not to be configured to provide its preference on the maximum number of secondary component carriers for power saving and stop timer T346c, if running;", 30], ["-", 1, "1>\tif the received otherConfig includes the maxMIMO-LayerPreferenceConfig:", 31], ["-", 2, "2>\tif maxMIMO-LayerPreferenceConfig is set to setup:", 32], ["", 3, "3>\tconsider itself to be configured to provide its preference on the maximum number of MIMO layers for power saving in accordance with 5.7.4;", 33], ["-", 2, "2>\telse:", 34], ["", 3, "3>\tconsider itself not to be configured to provide its preference on the maximum number of MIMO layers for power saving and stop timer T346d, if running;", 35], ["-", 1, "1>\tif the received otherConfig includes the minSchedulingOffsetPreferenceConfig:", 36], ["-", 2, "2>\tif minSchedulingOffsetPreferenceConfig is set to setup:", 37], ["", 3, "3>\tconsider itself to be configured to provide its preference on the minimum scheduling offset for cross-slot scheduling for power saving in accordance with 5.7.4;", 38], ["-", 2, "2>\telse:", 39], ["", 3, "3>\tconsider itself not to be configured to provide its preference on the minimum scheduling offset for cross-slot scheduling for power saving and stop timer T346e, if running;", 40], ["-", 1, "1>\tif the received otherConfig includes the releasePreferenceConfig:", 41], ["-", 2, "2>\tif releasePreferenceConfig is set to setup:", 42], ["", 3, "3>\tconsider itself to be configured to provide assistance information to transition out of RRC_CONNECTED in accordance with 5.7.4;", 43], ["-", 2, "2>\telse:", 44], ["", 3, "3>\tconsider itself not to be configured to provide assistance information to transition out of RRC_CONNECTED and stop timer T346f, if running.", 45], ["-", 1, "1>\tif the received otherConfig includes the obtainLocation:", 46], ["", 2, "2>\tattempt to have detailed location information available for any subsequent measurement report;\nNOTE 1:\tThe UE is requested to attempt to have valid detailed location information available whenever sending a measurement report for which it is configured to include available detailed location information. The UE may not succeed e.g. because the user manually disabled the GPS hardware, due to no/poor satellite coverage. Further details, e.g. regarding when to activate GNSS, are up to UE implementation.", 47], ["-", 1, "1>\tif the received otherConfig includes the BT-NameListConfig:", 48], ["", 2, "2>\tif BT-NameListConfig is set to setup, attempt to have Bluetooth measurement results available for subsequent measurement report;", 49], ["-", 1, "1>\tif the received otherConfig includes the WLAN-NameListConfg:", 50], ["", 2, "2>\tif WLAN-NameListConfg is set to setup, attempt to have WLAN measurement results available for subsequent measurement report;\nNOTE 2:\tThe UE is requested to attempt to have valid Bluetooth measurements and WLAN measurements whenever sending a measurement report for which it is configured to include these measurements. The UE may not succeed e.g. because the user manually disabled the WLAN or Bluetooth hardware. Further details, e.g. regarding when to activate WLAN or Bluetooth, are up to UE implementation.", 51], ["-", 1, "1>\tif the received otherConfig includes the Sensor-NameListConfig:", 52], ["", 2, "2>\tif Sensor-NameListConfig is set to setup, attempt to have Sensor measurement results available for subsequent measurement report;", 53], ["-", 1, "1>\tif the received otherConfig includes the sl-AssistanceConfigEUTRA:", 54], ["-", 2, "2>\tif sl-AssistanceConfigEUTRA is set to true:", 55], ["", 3, "3>\tconsider itself to be configured to provide SPS assistance information for V2X sidelink communication in accordance with 5.7.4;", 56], ["-", 2, "2>\telse:", 57], ["", 3, "3>\tconsider itself not to be configured to provide SPS assistance information;", 58], ["-", 1, "1>\tif the received otherConfig includes the sl-AssistanceConfigNR:", 59], ["-", 2, "2>\tif sl-AssistanceConfigNR is set to true:", 60], ["", 3, "3>\tconsider itself to be configured to provide configured grant assistance information for NR sidelink communication in accordance with 5.7.4;", 61], ["-", 2, "2>\telse:", 62], ["", 3, "3>\tconsider itself not to be configured to provide configured grant assistance information for NR sidelink communication;", 63]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.9\tOther configuration"}, {"id": "5.3.5.10", "name": "MR-DC release", "headline": "5.3.5.10\tMR-DC release", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.10\tMR-DC release", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tas a result of MR-DC release triggered by E-UTRA or NR:", 1], ["", 2, "2>\trelease SRB3, if established, as specified in <a href=\"#5.3.5.6.2\">5.3.5.6.2</a>;", 2], ["", 2, "2>\trelease measConfig associated with SCG;", 3], ["-", 2, "2>\tif the UE is configured with NR SCG:", 4], ["", 3, "3>\trelease the SCG configuration as specified in clause <a href=\"#5.3.5.4\">5.3.5.4</a>;", 5], ["-", 2, "2>\telse if the UE is configured with E-UTRA SCG:", 6], ["", 3, "3>\trelease the SCG configuration as specified in TS 36.331 [10], clause 5.3.10.19 to release the E-UTRA SCG;", 7]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.10\tMR-DC release"}, {"id": "5.3.5.11", "name": "Full configuration", "headline": "5.3.5.11\tFull configuration", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.11\tFull configuration", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\trelease/ clear all current dedicated radio configurations except for the following:\n-\tthe MCG C-RNTI;\n-\tthe AS security configurations associated with the master key;\nNOTE 1:\tRadio configuration is not just the resource configuration but includes other configurations like MeasConfig. In case NR-DC or NE-DC is configured, this also includes the entire NR or E-UTRA SCG configuration which are released according to the MR-DC release procedure as specified in 5.3.5.10. The radio configuration does not include SRB1/SRB2 configurations and DRB configurations as configured by radioBearerConfig or radioBearerConfig2.\nNOTE 1a:\tFor NR sidelink communication, the radio configuration includes the sidelink RRC configuration received from the network, but does not include the sidelink RRC reconfiguration and sidelink UE capability received from other UEs via PC5-RRC. In addition, The UE considers the new NR sidelink configurations as full configuration, in case of state transition and change of system information used for NR sidelink communication.", 1], ["-", 0, "Editor Note: FFS if we need a separate normative procedrue for the SL to perform the full configuraiton at TX and RX UE side.", 2], ["-", 1, "1>\tif the spCellConfig in the masterCellGroup includes the reconfigurationWithSync (i.e., SpCell change):", 3], ["", 2, "2>\trelease/ clear all current common radio configurations;", 4], ["", 2, "2>\tuse the default values specified in 9.2.3 for timers T310, T311 and constants N310, N311;", 5], ["-", 1, "1>\telse (full configuration after re-establishment or during RRC resume):", 6], ["", 2, "2>\tuse values for timers T301, T310, T311 and constants N310, N311, as included in ue-TimersAndConstants received in SIB1;", 7], ["", 1, "1>\tapply the default L1 parameter values as specified in corresponding physical layer specifications except for the following:\n-\tparameters for which values are provided in SIB1;", 8], ["", 1, "1>\tapply the default MAC Cell Group configuration as specified in 9.2.2;", 9], ["-", 1, "1>\tfor each srb-Identity value included in the srb-ToAddModList (SRB reconfiguration):", 10], ["", 2, "2>\tapply the default SRB configuration defined in 9.2.1 for the corresponding SRB;\nNOTE 2:\tThis is to get the SRBs (SRB1 and SRB2 for reconfiguration with sync and SRB2 for reconfiguration after re-establishment) to a known state from which the reconfiguration message can do further configuration.", 11], ["-", 1, "1>\tfor each pdu-Session that is part of the current UE configuration:", 12], ["", 2, "2>\trelease the SDAP entity (clause <a href=\"#5.1.2\">5.1.2</a> in TS 37.324 [24]);", 13], ["", 2, "2>\trelease each DRB associated to the pdu-Session as specified in <a href=\"#5.3.5.6.4\">5.3.5.6.4</a>;\nNOTE 3:\tThis will retain the pdu-Session but remove the DRBs including drb-identity of these bearers from the current UE configuration. Setup of the DRBs within the AS is described in clause <a href=\"#5.3.5.6.5\">5.3.5.6.5</a> using the new configuration. The pdu-Session acts as the anchor for associating the released and re-setup DRB. In the AS the DRB re-setup is equivalent with a new DRB setup (including new PDCP and logical channel configurations).", 14], ["-", 1, "1>\tfor each pdu-Session that is part of the current UE configuration but not added with same pdu-Session in the drb-ToAddModList:", 15], ["-", 2, "2>\tif the procedure was triggered due to reconfiguration with sync:", 16], ["", 3, "3>\tindicate the release of the user plane resources for the pdu-Session to upper layers after successful reconfiguration with sync;", 17], ["-", 2, "2>\telse:", 18], ["", 3, "3>\tindicate the release of the user plane resources for the pdu-Session to upper layers immediately;", 19]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.11\tFull configuration"}, {"id": "5.3.5.12", "name": "BAP configuration", "headline": "5.3.5.12\tBAP configuration", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.12\tBAP configuration", ""], ["-", 0, "The IAB-MT shall:", 0], ["-", 1, "1>\tif the bap-config is set to setup:", 1], ["-", 2, "2>\tif no BAP entity is established:", 2], ["", 3, "3>\testablish a BAP entity as specified in [47];", 3], ["", 2, "2>\tconfigure the BAP entity to use the bap-Address as this node's BAP address;", 4], ["-", 2, "2>\tif defaultUL-BAProutingID is included:", 5], ["", 3, "3>\tconfigure the BAP entity to apply the default UL BAP routing ID according to the configuration;", 6], ["-", 2, "2>\tif defaultUL-BH-RLC-Channel is included", 7], ["", 3, "3>\tconfigure the BAP entity to apply the default UL bh-RLC-Channel according to the configuration;", 8], ["-", 1, "1>\tif the bap-config is set to release:", 9], ["", 2, "2>\trelease the BAP entity as specified in [47].", 10], ["", 0, "Editor's note: It is FFS if other information should be included in the BAP configuration.", 11]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.12\tBAP configuration"}, {"id": "5.3.5.13", "name": "Conditional configuration (ConditionalReconfiguration)", "headline": "5.3.5.13\tConditional configuration (ConditionalReconfiguration)", "aoa": [], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.13\tConditional configuration (ConditionalReconfiguration)"}, {"id": "5.3.5.13.1", "name": "General", "headline": "5.3.5.13.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.13\tConditional configuration (ConditionalReconfiguration)\n5.3.5.13.1\tGeneral", ""], ["", 0, "The network configures the UE with one or more candidate target SpCells in the conditional configuration. The UE evaluates the condition of each configured candidate target SpCell. The UE applies the conditional configuration associated with one of the target SpCells which fulfils associated execution condition. The network provides the configuration parameters for the target SpCell in the ConditionalReconfiguration IE.", 0], ["-", 0, "The UE performs the following actions based on a received ConditionalReconfiguration IE:", 1], ["-", 1, "1>\tif the ConditionalReconfiguration contains the condConfigToRemoveList:", 2], ["", 2, "2>\tperform conditional configuration removal procedure as specified in <a href=\"#5.3.5.13.2\">5.3.5.13.2</a>;", 3], ["-", 1, "1>\tif the ConditionalReconfiguration contains the condConfigAddModList:", 4], ["", 2, "2>\tperform conditional configuration addition/modification as specified in <a href=\"#5.3.5.13.3\">5.3.5.13.3</a>;", 5], ["", 0, "Editor's note: FFS, whether the procedure text should be conditional reconfiguration instead of conditional configuration since the IE name is ConditionalReconfiguration.", 6]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.13\tConditional configuration (ConditionalReconfiguration)\n5.3.5.13.1\tGeneral"}, {"id": "5.3.5.13.2", "name": "Conditional configuration removal", "headline": "5.3.5.13.2\tConditional configuration removal", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.13\tConditional configuration (ConditionalReconfiguration)\n5.3.5.13.2\tConditional configuration removal", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tfor each condConfigId value included in the condConfigToRemoveList that is part of the current UE conditional configuration in VarConditionalConfig:", 1], ["", 2, "2>\tremove the entry with the matching condConfigId from the VarCondtionalConfig;\nNOTE:\tThe UE does not consider the message as erroneous if the condConfigToRemoveList includes any condConfigId value that is not part of the current UE configuration.", 2]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.13\tConditional configuration (ConditionalReconfiguration)\n5.3.5.13.2\tConditional configuration removal"}, {"id": "5.3.5.13.3", "name": "Conditional configuration addition/modification", "headline": "5.3.5.13.3\tConditional configuration addition/modification", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.13\tConditional configuration (ConditionalReconfiguration)\n5.3.5.13.3\tConditional configuration addition/modification", ""], ["-", 0, "For each condConfigId received in the condConfigToAddModList IE the UE shall:", 0], ["-", 1, "1>\tif an entry with the matching condConfigId exists in the condConfigToAddModList within the VarConditionalConfig:", 1], ["-", 2, "2>\tif the entry in condConfigToAddModList includes an condExecutionCond;", 2], ["", 3, "3>\treplace the entry with the value received for this condConfigId;", 3], ["-", 2, "2>\telse:", 4], ["", 3, "3>\tkeep the stored condExecutionCond as the target candidate configuration for this condConfigId;", 5], ["", 2, "2>\tif the entry in condConfigToAddModList includes an condRRCReconfig;", 6], ["", 2, "2>\treplace the entry with the value received for this condConfigId;", 7], ["-", 2, "2>\tif the entry in condConfigToAddModList does not include an condRRCReconfig;", 8], ["", 3, "3>\tkeep the stored condRRCReconfig as the target candidate configuration for this condConfigId;", 9], ["-", 1, "1>\telse:", 10], ["", 2, "2>\tadd a new entry for this condConfigId within the VarConditionalConfig;", 11], ["", 1, "1>\tperform conditional configuration evaluation as specified in <a href=\"#5.3.5.13.4\">5.3.5.13.4</a>;", 12]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.13\tConditional configuration (ConditionalReconfiguration)\n5.3.5.13.3\tConditional configuration addition/modification"}, {"id": "5.3.5.13.4", "name": "Conditional configuration evaluation", "headline": "5.3.5.13.4\tConditional configuration evaluation", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.13\tConditional configuration (ConditionalReconfiguration)\n5.3.5.13.4\tConditional configuration evaluation", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tfor each condConfigId within the VarCondtionalConfig:", 1], ["", 2, "2>\tconsider the cell which has a physical cell identity matching the value indicated in the ServingCellConfigCommon included in the reconfigurationWithSync in the received condRRCReconfig to be applicable cell;", 2], ["-", 2, "2>\tfor each measId included in the measIdList within VarMeasConfig indicated in the condExecutionCond associated to condConfigId:", 3], ["-", 3, "3>\tif the entry condition(s) applicable for this event associated with the condConfigId, i.e. the event corresponding with the condEventId(s) of the corresponding condTriggerConfig within VarConditionalConfig, is fulfilled for the applicable cells for all measurements after layer 3 filtering taken during the corresponding timeToTrigger defined for this event within the VarConditionalConfig:", 4], ["", 4, "4>\tconsider the event associated to that measId to be fulfilled;3>\tif the leaving condition(s) applicable for this event associated with the condConfigId, i.e. the event corresponding with the condEventId(s) of the corresponding condTriggerConfig within VarConditionalConfig, is fulfilled for the applicable cells for all measurements after layer 3 filtering taken during the corresponding timeToTrigger defined for this event within the VarConditionalConfig:", 5], ["", 4, "4>\tconsider the event associated to that measId to be not fulfilled;", 6], ["-", 2, "2>\tif trigger conditions for all associated measId(s) within condTriggerConfig are fulfilled for all associated measId(s) in condTriggerConfig:", 7], ["", 3, "3>\tconsider the target candidate cell within the stored condRRCReconfig, associated to that condConfigId, as a triggered cell;", 8], ["", 3, "3>\tinitiate the conditional configuration execution, as specified in <a href=\"#5.3.5.13.5\">5.3.5.13.5</a>;\nNOTE:\tUp to 2 MeasId can be configured for each condConfigId. The conditional handover event of the 2 MeasId may have the same or different event conditions, triggering quantity, time to trigger, and triggering threshold.", 9]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.13\tConditional configuration (ConditionalReconfiguration)\n5.3.5.13.4\tConditional configuration evaluation"}, {"id": "5.3.5.13.5", "name": "Conditional configuration execution", "headline": "5.3.5.13.5\tConditional configuration execution", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.13\tConditional configuration (ConditionalReconfiguration)\n5.3.5.13.5\tConditional configuration execution", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif more than one triggered cell exists:", 1], ["", 2, "2>\tselect one of the triggered cells as the selected cell for conditional configuration execution;", 2], ["-", 1, "1>\tfor the selected cell of conditional configuration execution:", 3], ["", 2, "2>\tapply the stored condRRCReconfig of the selected cell and perform the actions as specified in <a href=\"#5.3.5.3\">5.3.5.3</a>;\nNOTE:\tIf multiple NR cells are triggered in conditional configuration execution, it is up to UE implementation which one to select, e.g. the UE considers beams and beam quality to select one of the triggered cells for execution.", 4]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.13\tConditional configuration (ConditionalReconfiguration)\n5.3.5.13.5\tConditional configuration execution"}, {"id": "5.3.5.14", "name": "Sidelink dedicated configuration", "headline": "5.3.5.14\tSidelink dedicated configuration", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.14\tSidelink dedicated configuration", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif sl-FreqInfoToAddModList is included in sl-ConfigDedicatedNR within RRCReconfiguration:", 1], ["-", 2, "2>\tif configured to receive NR sidelink communication:", 2], ["", 3, "3>\tuse the resource pool indicated by sl-RxPool for NR sidelink communication reception, as specified in <a href=\"#5.8.7\">5.8.7</a>;", 3], ["-", 2, "2>\tif configured to transmit NR sidelink communication:", 4], ["", 3, "3>\tuse the resource pool(s) indicated by sl-TxPoolSelectedNormal, sl-TxPoolScheduling or sl-TxPoolExceptional for NR sidelink communication transmission, as specified in <a href=\"#5.8.8\">5.8.8</a>;", 5], ["", 2, "2>\tperform CBR measurement on the transmission resource pools by sl-TxPoolSelectedNormal, sl-TxPoolScheduling or sl-TxPoolExceptional for NR sidelink communication transmission, as specified in <a href=\"#5.5.3.1\">5.5.3.1</a>;", 6], ["", 2, "2>\tuse the synchronization configuration parameters for NR sidelink communication on frequencies included in sl-FreqInfoToAddModList, as specified in 5.8.5;", 7], ["-", 1, "1>\tif sl-FreqInfoToReleaseList is included in sl-ConfigDedicatedNR within RRCReconfiguration:", 8], ["-", 2, "2>\tfor each entry included in the received sl-FreqInfoToReleaseList that is part of the current UE configuration:", 9], ["", 3, "3>\trelease the related configurations from the stored NR sidelink communication configurations;", 10], ["-", 1, "1>\tif sl-RadioBearerToReleaseList is included in sl-ConfigDedicatedNR within RRCReconfiguration:", 11], ["", 2, "2>\tperform sidelink DRB release as specified in 5.8.9.1.4;", 12], ["-", 1, "1>\tif sl-RadioBearerToAddModList is included in sl-ConfigDedicatedNR within RRCReconfiguration:", 13], ["", 2, "2>\tperform sidelink DRB addition/modification as specified in <a href=\"#5.8.9.1.5\">5.8.9.1.5</a>;", 14], ["-", 1, "1>\tif sl-ScheduledConfig is included in sl-ConfigDedicatedNR within RRCReconfiguration:", 15], ["", 2, "2>\tconfigure the MAC entity parameters, which are to be used for NR sidelink communication, in accordance with the received sl-ScheduledConfig;", 16], ["-", 1, "1>\tif sl-UE-SelectedConfig is included in sl-ConfigDedicatedNR within RRCReconfiguration:", 17], ["", 2, "2>\tconfigure the parameters, which are to be used for NR sidelink communication, in accordance with the received sl-UE-SelectedConfig;", 18], ["-", 1, "1>\tif sl-MeasConfigInfoToReleaseList is included in sl-ConfigDedicatedNR within RRCReconfiguration:", 19], ["-", 2, "2>\tfor each entry included in the received sl-MeasConfigInfoToReleaseList that is part of the current UE configuration:", 20], ["", 3, "3>\trelease the related configurations from the stored NR sidelink measurement configuration information;", 21], ["-", 1, "1>\tif sl-MeasConfigInfoToAddModList is included in sl-ConfigDedicatedNR within RRCReconfiguration:", 22], ["-", 2, "2>\tfor each entry included in the received sl-MeasConfigInfoToAddModList that is part of the current stored NR sidelink measurement configuration:", 23], ["", 3, "3>\tupdate the stored NR sidelink measurement configuration information;", 24], ["-", 2, "2>\tfor each entry included in the received sl-MeasConfigInfoToAddModList that is not part of the current stored NR sidelink measurement configuration:", 25], ["", 3, "3>\tstore the NR sidelink measurement configuration.", 26]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.5\tRRC reconfiguration\n5.3.5.14\tSidelink dedicated configuration"}, {"id": "5.3.6", "name": "Counter check", "headline": "5.3.6\tCounter check", "aoa": [], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.6\tCounter check"}, {"id": "5.3.6.1", "name": "General", "headline": "5.3.6.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.6\tCounter check\n5.3.6.1\tGeneral", ""], ["", 0, "Figure 5.3.6.1-1: Counter check procedure", 0], ["", 0, "The counter check procedure is used by the network to request the UE to verify the amount of data sent/ received on each DRB. More specifically, the UE is requested to check if, for each DRB, the most significant bits of the COUNT match with the values indicated by the network.\nNOTE:\tThe procedure enables the network to detect packet insertion by an intruder (a 'man in the middle').", 1]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.6\tCounter check\n5.3.6.1\tGeneral"}, {"id": "5.3.6.2", "name": "Initiation", "headline": "5.3.6.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.6\tCounter check\n5.3.6.2\tInitiation", ""], ["", 0, "The network initiates the procedure by sending a CounterCheck message.\nNOTE:\tThe network may initiate the procedure when any of the COUNT values reaches a specific value.", 0]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.6\tCounter check\n5.3.6.2\tInitiation"}, {"id": "5.3.6.3", "name": "Reception of the CounterCheck message by the UE", "headline": "5.3.6.3\tReception of the CounterCheck message by the UE", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.6\tCounter check\n5.3.6.3\tReception of the CounterCheck message by the UE", ""], ["-", 0, "Upon receiving the CounterCheck message, the UE shall:", 0], ["-", 1, "1>\tfor each DRB that is established:", 1], ["-", 2, "2>\tif no COUNT exists for a given direction (uplink or downlink) because it is a uni-directional bearer configured only for the other direction:", 2], ["", 3, "3>\tassume the COUNT value to be 0 for the unused direction;", 3], ["-", 2, "2>\tif the drb-Identity is not included in the drb-CountMSB-InfoList:", 4], ["", 3, "3>\tinclude the DRB in the drb-CountInfoList in the CounterCheckResponse message by including the drb-Identity, the count-Uplink and the count-Downlink set to the value of TX_NEXT - 1 and RX_NEXT - 1 (specified in TS 38.323 [5]), respectively;", 5], ["-", 2, "2>\telse if, for at least one direction, the most significant bits of the COUNT are different from the value indicated in the drb-CountMSB-InfoList:", 6], ["", 3, "3>\tinclude the DRB in the drb-CountInfoList in the CounterCheckResponse message by including the drb-Identity, the count-Uplink and the count-Downlink set to the value of TX_NEXT - 1 and RX_NEXT - 1 (specified in TS 38.323 [5]), respectively;", 7], ["-", 1, "1>\tfor each DRB that is included in the drb-CountMSB-InfoList in the CounterCheck message that is not established:", 8], ["", 2, "2>\tinclude the DRB in the drb-CountInfoList in the CounterCheckResponse message by including the drb-Identity, the count-Uplink and the count-Downlink with the most significant bits set identical to the corresponding values in the drb-CountMSB-InfoList and the least significant bits set to zero;", 9], ["", 1, "1>\tsubmit the CounterCheckResponse message to lower layers for transmission upon which the procedure ends.", 10]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.6\tCounter check\n5.3.6.3\tReception of the CounterCheck message by the UE"}, {"id": "5.3.7", "name": "RRC connection re-establishment", "headline": "5.3.7\tRRC connection re-establishment", "aoa": [], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.7\tRRC connection re-establishment"}, {"id": "5.3.7.1", "name": "General", "headline": "5.3.7.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.7\tRRC connection re-establishment\n5.3.7.1\tGeneral", ""], ["", 0, "Figure 5.3.7.1-1: RRC connection re-establishment, successful", 0], ["", 0, "Figure 5.3.7.1-2: RRC re-establishment, fallback to RRC establishment, successful", 1], ["", 0, "The purpose of this procedure is to re-establish the RRC connection. A UE in RRC_CONNECTED, for which AS security has been activated with SRB2 and at least one DRB setup, may initiate the procedure in order to continue the RRC connection. The connection re-establishment succeeds if the network is able to find and verify a valid UE context or, if the UE context cannot be retrieved, and the network responds with an RRCSetup according to clause 5.3.3.4.", 2], ["", 0, "The network applies the procedure e.g as follows:\n-\tWhen AS security has been activated and the network retrieves or verifies the UE context:\n-\tto re-activate AS security without changing algorithms;\n-\tto re-establish and resume the SRB1;\n-\tWhen UE is re-establishing an RRC connection, and the network is not able to retrieve or verify the UE context:\n-\tto discard the stored AS Context and release all RBs;\n-\tto fallback to establish a new RRC connection.", 3], ["", 0, "If AS security has not been activated, the UE shall not initiate the procedure but instead moves to RRC_IDLE directly, with release cause 'other'. If AS security has been activated, but SRB2 and at least one DRB are not setup, the UE does not initiate the procedure but instead moves to RRC_IDLE directly, with release cause 'RRC connection failure'.", 4]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.7\tRRC connection re-establishment\n5.3.7.1\tGeneral"}, {"id": "5.3.7.2", "name": "Initiation", "headline": "5.3.7.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.7\tRRC connection re-establishment\n5.3.7.2\tInitiation", ""], ["-", 0, "The UE initiates the procedure when one of the following conditions is met:", 0], ["", 1, "1>\tupon detecting radio link failure of the MCG and T316 is not configured, in accordance with 5.3.10; or", 1], ["", 1, "1>\tupon re-configuration with sync failure of the MCG, in accordance with sub-clause <a href=\"#5.3.5.8.3\">5.3.5.8.3</a>; or", 2], ["", 1, "1>\tupon mobility from NR failure, in accordance with sub-clause <a href=\"#5.4.3.5\">5.4.3.5</a>; or", 3], ["", 1, "1>\tupon integrity check failure indication from lower layers concerning SRB1 or SRB2, except if the integrity check failure is detected on the RRCReestablishment message; or", 4], ["", 1, "1>\tupon an RRC connection reconfiguration failure, in accordance with sub-clause <a href=\"#5.3.5.8.2\">5.3.5.8.2</a>; or", 5], ["", 1, "1>\tupon detecting radio link failure for the SCG while MCG transmission is suspended, in accordance with subclause <a href=\"#5.3.10.3\">5.3.10.3</a> in NR-DC or in accordance with TS 36.331 [10] subclause 5.3.11.3 in NE-DC; or", 6], ["", 1, "1>\tupon reconfiguration with sync failure of the SCG while MCG transmission is suspended in accordance with subclause <a href=\"#5.3.5.8.3\">5.3.5.8.3</a>; or", 7], ["", 1, "1>\tupon SCG change failure while MCG transmission in NE-DC in accordance with TS 36.331 [10] subclause 5.3.5.7a; or1>\tupon SCG configuration failure while MCG transmission is suspended in accordance with subclause <a href=\"#5.3.5.8.2\">5.3.5.8.2</a> in NR-DC or in accordance with TS 36.331 [10] subclause 5.3.5.5 in NE-DC; or", 8], ["", 1, "1>\tupon integrity check failure indication from SCG lower layers concerning SRB3 while MCG is suspended; or", 9], ["", 1, "1>\tupon T316 expiry, in accordance with sub-clause 5.7.3b.5.", 10], ["-", 0, "Upon initiation of the procedure, the UE shall:", 11], ["", 1, "1>\tstop timer T310, if running;", 12], ["", 1, "1>\tstop timer T312, if running;", 13], ["", 1, "1>\tstop timer T304, if running;", 14], ["", 1, "1>\tstart timer T311;", 15], ["", 1, "1>\tstop timer T316, if running;", 16], ["", 1, "1>\treset MAC;", 17], ["", 1, "1>\trelease the MCG SCell(s), if configured;", 18], ["-", 1, "1>\tif UE is not configured with conditionalReconfiguration:", 19], ["", 2, "2>\trelease spCellConfig, if configured;", 20], ["", 2, "2>\tsuspend all RBs, except SRB0;", 21], ["-", 1, "1>\tif MR-DC is configured:", 22], ["", 2, "2>\tperform MR-DC release, as specified in clause <a href=\"#5.3.5.10\">5.3.5.10</a>;", 23], ["", 1, "1>\trelease delayBudgetReportingConfig, if configured, and stop timer T342, if running;", 24], ["", 1, "1>\trelease overheatingAssistanceConfig, if configured, and stop timer T345, if running;", 25], ["", 1, "1>\trelease idc-AssistanceConfig, if configured;", 26], ["", 1, "1>\trelease drx-PreferenceConfig, if configured, and stop timer T346a, if running;", 27], ["", 1, "1>\trelease maxBW-PreferenceConfig, if configured, and stop timer T346b, if running;", 28], ["", 1, "1>\trelease maxCC-PreferenceConfig, if configured, and stop timer T346c, if running;", 29], ["", 1, "1>\trelease maxMIMO-LayerPreferenceConfig, if configured, and stop timer T346d, if running;", 30], ["", 1, "1>\trelease minSchedulingOffsetPreferenceConfig, if configured, and stop timer T346e, if running;", 31], ["", 1, "1>\trelease releasePreferenceConfig, if configured, and stop timer T346f, if running;", 32], ["", 1, "1>\tperform cell selection in accordance with the cell selection process as specified in TS 38.304 [20], clause 5.2.6.", 33]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.7\tRRC connection re-establishment\n5.3.7.2\tInitiation"}, {"id": "5.3.7.3", "name": "Actions following cell selection while T311 is running", "headline": "5.3.7.3\tActions following cell selection while T311 is running", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.7\tRRC connection re-establishment\n5.3.7.3\tActions following cell selection while T311 is running", ""], ["-", 0, "Upon selecting a suitable NR cell, the UE shall:", 0], ["", 1, "1>\tensure having valid and up to date essential system information as specified in clause 5.2.2.2;", 1], ["", 1, "1>\tstop timer T311;", 2], ["-", 1, "1>\tif T390 is running:", 3], ["", 2, "2>\tstop timer T390 for all access categories;", 4], ["", 2, "2>\tperform the actions as specified in <a href=\"#5.3.14.4\">5.3.14.4</a>;", 5], ["", 1, "1>\tif the cell selection is triggered by detecting radio link failure of the MCG or re-configuration with sync failure of the MCG, and", 6], ["", 1, "1>\tif attemptCondReconfig is configured; and", 7], ["-", 1, "1>\tif the selected cell is one of the candidate cells which the reconfigurationWithSync is included in the masterCellGroup in VarCondtionalConfig:", 8], ["", 2, "2>\tapply the stored condRRCReconfig associated to the selected cell and perform actions as specified in <a href=\"#5.3.5.3\">5.3.5.3</a>;", 9], ["-", 1, "1>\telse:", 10], ["-", 2, "2>\tif UE is configured with conditionalReconfiguration:", 11], ["", 3, "3>\trelease spCellConfig, if configured;", 12], ["", 3, "3>\tsuspend all RBs, except SRB0;", 13], ["", 2, "2>\tremove all the entries within VarConditionalConfig, if any;", 14], ["-", 2, "2>\tfor each measId, if the associated reportConfig has a reportType set to condTriggerConfig:", 15], ["-", 3, "3>\tfor the associated reportConfigId:", 16], ["", 4, "4>\tremove the entry with the matching reportConfigId from the reportConfigList within the VarMeasConfig;", 17], ["-", 3, "3>\tif the associated measObjectId is only associated to a reportConfig with reportType set to condTriggerConfig:", 18], ["", 4, "4>\tremove the entry with the matching measObjectId from the measObjectList within the VarMeasConfig;", 19], ["", 3, "3>\tremove the entry with the matching measId from the measIdList within the VarMeasConfig;", 20], ["", 2, "2>\tstart timer T301;", 21], ["", 2, "2>\tapply the default L1 parameter values as specified in corresponding physical layer specifications except for the parameters for which values are provided in SIB1;", 22], ["", 2, "2>\tapply the default MAC Cell Group configuration as specified in 9.2.2;", 23], ["", 2, "2>\tapply the CCCH configuration as specified in 9.1.1.2;", 24], ["", 2, "2>\tapply the timeAlignmentTimerCommon included in SIB1;", 25], ["", 2, "2>\tinitiate transmission of the RRCReestablishmentRequest message in accordance with <a href=\"#5.3.7.4\">5.3.7.4</a>;\nNOTE:\tThis procedure applies also if the UE returns to the source PCell.", 26], ["-", 0, "Upon selecting an inter-RAT cell, the UE shall:", 27], ["", 1, "1>\tperform the actions upon going to RRC_IDLE as specified in 5.3.11, with release cause 'RRC connection failure'.", 28]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.7\tRRC connection re-establishment\n5.3.7.3\tActions following cell selection while T311 is running"}, {"id": "5.3.7.4", "name": "Actions related to transmission of RRCReestablishmentRequest message", "headline": "5.3.7.4\tActions related to transmission of RRCReestablishmentRequest message", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.7\tRRC connection re-establishment\n5.3.7.4\tActions related to transmission of RRCReestablishmentRequest message", ""], ["-", 0, "The UE shall set the contents of RRCReestablishmentRequest message as follows:", 0], ["-", 1, "1>\tif the procedure was initiated due to radio link failure as specified in <a href=\"#5.3.10.3\">5.3.10.3</a> or handover failure as specified in 5.3.5.8.3:", 1], ["", 2, "2>\tset the reestablishmentCellId in the VarRLF-Report to the global cell identity of the selected cell;", 2], ["-", 1, "1>\tset the ue-Identity as follows:", 3], ["", 2, "2>\tset the c-RNTI to the C-RNTI used in the source PCell (reconfiguration with sync or mobility from NR failure) or used in the PCell in which the trigger for the re-establishment occurred (other cases);", 4], ["", 2, "2>\tset the physCellId to the physical cell identity of the source PCell (reconfiguration with sync or mobility from NR failure) or of the PCell in which the trigger for the re-establishment occurred (other cases);", 5], ["-", 2, "2>\tset the shortMAC-I to the 16 least significant bits of the MAC-I calculated:", 6], ["", 3, "3>\tover the ASN.1 encoded as per clause 8 (i.e., a multiple of 8 bits) VarShortMAC-Input;", 7], ["", 3, "3>\twith the KRRCint key and integrity protection algorithm that was used in the source PCell (reconfiguration with sync or mobility from NR failure) or of the PCell in which the trigger for the re-establishment occurred (other cases); and", 8], ["", 3, "3>\twith all input bits for COUNT, BEARER and DIRECTION set to binary ones;", 9], ["-", 1, "1>\tset the reestablishmentCause as follows:", 10], ["-", 2, "2>\tif the re-establishment procedure was initiated due to reconfiguration failure as specified in 5.3.5.8.2:", 11], ["", 3, "3>\tset the reestablishmentCause to the value reconfigurationFailure;", 12], ["-", 2, "2>\telse if the re-establishment procedure was initiated due to reconfiguration with sync failure as specified in <a href=\"#5.3.5.8.3\">5.3.5.8.3</a> (intra-NR handover failure) or <a href=\"#5.4.3.5\">5.4.3.5</a> (inter-RAT mobility from NR failure):", 13], ["", 3, "3>\tset the reestablishmentCause to the value handoverFailure;", 14], ["-", 2, "2>\telse:", 15], ["", 3, "3>\tset the reestablishmentCause to the value otherFailure;", 16], ["", 1, "1>\tre-establish PDCP for SRB1;", 17], ["", 1, "1>\tre-establish RLC for SRB1;", 18], ["", 1, "1>\tapply the specified configuration defined in 9.2.1 for SRB1;", 19], ["", 1, "1>\tconfigure lower layers to suspend integrity protection and ciphering for SRB1;\nNOTE:\tCiphering is not applied for the subsequent RRCReestablishment message used to resume the connection. An integrity check is performed by lower layers, but merely upon request from RRC.", 20], ["", 1, "1>\tresume SRB1;", 21], ["", 1, "1>\tsubmit the RRCReestablishmentRequest message to lower layers for transmission.", 22]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.7\tRRC connection re-establishment\n5.3.7.4\tActions related to transmission of RRCReestablishmentRequest message"}, {"id": "5.3.7.5", "name": "Reception of the RRCReestablishment by the UE", "headline": "5.3.7.5\tReception of the RRCReestablishment by the UE", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.7\tRRC connection re-establishment\n5.3.7.5\tReception of the RRCReestablishment by the UE", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tstop timer T301;", 1], ["", 1, "1>\tconsider the current cell to be the PCell;", 2], ["", 1, "1>\tstore the nextHopChainingCount value indicated in the RRCReestablishment message;", 3], ["", 1, "1>\tupdate the KgNB key based on the current KgNB key or the NH, using the stored nextHopChainingCount value, as specified in TS 33.501 [11];", 4], ["", 1, "1>\tderive the KRRCenc and KUPenc keys associated with the previously configured cipheringAlgorithm, as specified in TS 33.501 [11];", 5], ["", 1, "1>\tderive the KRRCint and KUPint keys associated with the previously configured integrityProtAlgorithm, as specified in TS 33.501 [11].", 6], ["", 1, "1>\trequest lower layers to verify the integrity protection of the RRCReestablishment message, using the previously configured algorithm and the KRRCint key;", 7], ["-", 1, "1>\tif the integrity protection check of the RRCReestablishment message fails:", 8], ["", 2, "2>\tperform the actions upon going to RRC_IDLE as specified in 5.3.11, with release cause 'RRC connection failure', upon which the procedure ends;", 9], ["", 1, "1>\tconfigure lower layers to resume integrity protection for SRB1 using the previously configured algorithm and the KRRCint key immediately, i.e., integrity protection shall be applied to all subsequent messages received and sent by the UE, including the message used to indicate the successful completion of the procedure;", 10], ["", 1, "1>\tconfigure lower layers to resume ciphering for SRB1 using the previously configured algorithm and, the KRRCenc key immediately, i.e., ciphering shall be applied to all subsequent messages received and sent by the UE, including the message used to indicate the successful completion of the procedure;", 11], ["", 1, "1>\trelease the measurement gap configuration indicated by the measGapConfig, if configured;", 12], ["-", 1, "1>\tset the content of RRCReestablishmentComplete message as follows:", 13], ["-", 2, "2>\tif the UE has logged measurements available for NR and if the RPLMN is included in plmn-IdentityList stored in VarLogMeasReport:", 14], ["", 3, "3>\tinclude the logMeasAvailable in the RRCReestablishmentComplete message;", 15], ["-", 2, "2>\tif the UE has Bluetooth logged measurements available and if the RPLMN is included in plmn-IdentityList stored in VarLogMeasReport:", 16], ["", 3, "3>\tinclude the logMeasAvailableBT in the RRCReestablishmentComplete message;", 17], ["-", 2, "2>\tif the UE has WLAN logged measurements available and if the RPLMN is included in plmn-IdentityList stored in VarLogMeasReport:", 18], ["", 3, "3>\tinclude the logMeasAvailableWLAN in the RRCReestablishmentComplete message;", 19], ["-", 2, "2>\tif the UE has connection establishment failure information available in VarConnEstFailReport and if the RPLMN is equal to plmn-Identity stored in VarConnEstFailReport:", 20], ["", 3, "3>\tinclude connEstFailInfoAvailable in the RRCReestablishmentComplete message;", 21], ["", 2, "2>\tif the UE has radio link failure or handover failure information available in VarRLF-Report and if the RPLMN is included in plmn-IdentityList stored in VarRLF-Report:3>\tinclude rlf-InfoAvailable in the RRCReestablishmentComplete message;", 22], ["-", 2, "2>\tif the UE has radio link failure or handover failure information available in VarRLF-Report of TS 36.331 [10] and if the UE is capable of cross-RAT RLF reporting and if the RPLMN is included in plmn-IdentityList stored in VarRLF-Report of TS 36.331 [10]:", 23], ["", 3, "3>\tinclude rlf-InfoAvailable in the RRCReestablishmentComplete message;", 24], ["", 1, "1>\tsubmit the RRCReestablishmentComplete message to lower layers for transmission;", 25], ["", 1, "1>\tthe procedure ends.", 26]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.7\tRRC connection re-establishment\n5.3.7.5\tReception of the RRCReestablishment by the UE"}, {"id": "5.3.7.6", "name": "T311 expiry", "headline": "5.3.7.6\tT311 expiry", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.7\tRRC connection re-establishment\n5.3.7.6\tT311 expiry", ""], ["-", 0, "Upon T311 expiry, the UE shall:", 0], ["-", 1, "1>\tif the procedure was initiated due to radio link failure or handover failure:", 1], ["", 2, "2>\tset the noSuitableCellFound in the VarRLF-Report to true;", 2], ["", 1, "1>\tperform the actions upon going to RRC_IDLE as specified in 5.3.11, with release cause 'RRC connection failure'.", 3]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.7\tRRC connection re-establishment\n5.3.7.6\tT311 expiry"}, {"id": "5.3.7.7", "name": "T301 expiry or selected cell no longer suitable", "headline": "5.3.7.7\tT301 expiry or selected cell no longer suitable", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.7\tRRC connection re-establishment\n5.3.7.7\tT301 expiry or selected cell no longer suitable", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tif timer T301 expires; or", 1], ["-", 1, "1>\tif the selected cell becomes no longer suitable according to the cell selection criteria as specified in TS 38.304 [20]:", 2], ["", 2, "2>\tperform the actions upon going to RRC_IDLE as specified in 5.3.11, with release cause 'RRC connection failure'.", 3]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.7\tRRC connection re-establishment\n5.3.7.7\tT301 expiry or selected cell no longer suitable"}, {"id": "5.3.7.8", "name": "Reception of the RRCSetup by the UE", "headline": "5.3.7.8\tReception of the RRCSetup by the UE", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.7\tRRC connection re-establishment\n5.3.7.8\tReception of the RRCSetup by the UE", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tperform the RRC connection establishment procedure as specified in 5.3.3.4.", 1]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.7\tRRC connection re-establishment\n5.3.7.8\tReception of the RRCSetup by the UE"}, {"id": "5.3.8", "name": "RRC connection release", "headline": "5.3.8\tRRC connection release", "aoa": [], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.8\tRRC connection release"}, {"id": "5.3.8.1", "name": "General", "headline": "5.3.8.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.8\tRRC connection release\n5.3.8.1\tGeneral", ""], ["", 0, "Figure 5.3.8.1-1: RRC connection release, successful", 0], ["", 0, "The purpose of this procedure is:\n-\tto release the RRC connection, which includes the release of the established radio bearers as well as all radio resources; or\n-\tto suspend the RRC connection only if SRB2 and at least one DRB are setup, which includes the suspension of the established radio bearers.", 1]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.8\tRRC connection release\n5.3.8.1\tGeneral"}, {"id": "5.3.8.2", "name": "Initiation", "headline": "5.3.8.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.8\tRRC connection release\n5.3.8.2\tInitiation", ""], ["", 0, "The network initiates the RRC connection release procedure to transit a UE in RRC_CONNECTED to RRC_IDLE; or to transit a UE in RRC_CONNECTED to RRC_INACTIVE only if SRB2 and at least one DRB is setup in RRC_CONNECTED; or to transit a UE in RRC_INACTIVE back to RRC_INACTIVE when the UE tries to resume; or to transit a UE in RRC_INACTIVE to RRC_IDLE when the UE tries to resume. The procedure can also be used to release and redirect a UE to another frequency.", 0]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.8\tRRC connection release\n5.3.8.2\tInitiation"}, {"id": "5.3.8.3", "name": "Reception of the RRCRelease by the UE", "headline": "5.3.8.3\tReception of the RRCRelease by the UE", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.8\tRRC connection release\n5.3.8.3\tReception of the RRCRelease by the UE", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tdelay the following actions defined in this sub-clause 60 ms from the moment the RRCRelease message was received or optionally when lower layers indicate that the receipt of the RRCRelease message has been successfully acknowledged, whichever is earlier;", 1], ["", 1, "1>\tstop timer T380, if running;", 2], ["", 1, "1>\tstop timer T320, if running;", 3], ["", 1, "1>\tstop timer T316, if running;", 4], ["-", 1, "1>\tif the AS security is not activated:", 5], ["", 2, "2>\tignore any field included in RRCRelease message except waitTime;", 6], ["", 2, "2>\tperform the actions upon going to RRC_IDLE as specified in <a href=\"#5.3.11\">5.3.11</a> with the release cause 'other' upon which the procedure ends;", 7], ["-", 1, "1>\tif the RRCRelease message includes redirectedCarrierInfo indicating redirection to eutra:", 8], ["-", 2, "2>\tif cnType is included:", 9], ["", 3, "3>\tafter the cell selection, indicate the available CN Type(s) and the received cnType to upper layers;\nNOTE 1:\tHandling the case if the E-UTRA cell selected after the redirection does not support the core network type specified by the cnType, is up to UE implementation.", 10], ["-", 2, "2>\tif voiceFallbackIndication is included:", 11], ["", 3, "3>\tconsider the RRC connection release was for EPS fallback for IMS voice (see TS 23.502 [43]);", 12], ["-", 1, "1>\tif the RRCRelease message includes the cellReselectionPriorities:", 13], ["", 2, "2>\tstore the cell reselection priority information provided by the cellReselectionPriorities;", 14], ["-", 2, "2>\tif the t320 is included:", 15], ["", 3, "3>\tstart timer T320, with the timer value set according to the value of t320;", 16], ["-", 1, "1>\telse:", 17], ["", 2, "2>\tapply the cell reselection priority information broadcast in the system information;", 18], ["-", 1, "1>\tif deprioritisationReq is included:", 19], ["", 2, "2>\tstart or restart timer T325 with the timer value set to the deprioritisationTimer signalled;", 20], ["", 2, "2>\tstore the deprioritisationReq until T325 expiry;", 21], ["-", 1, "1>\tif the RRCRelease includes the measIdleConfig:", 22], ["-", 2, "2>\tif T331 is running:", 23], ["", 3, "3> stop timer T331;", 24], ["", 3, "3>\tperform the actions as specified in <a href=\"#5.7.8.3\">5.7.8.3</a>;", 25], ["-", 2, "2>\tif the measIdleConfig is set to setup:", 26], ["", 3, "3>\tstore the received measIdleDuration in VarMeasIdleConfig;", 27], ["", 3, "3>\tstart timer T331 with the value of measIdleDuration;", 28], ["-", 3, "3>\tif the measIdleConfig contains measIdleCarrierListNR:", 29], ["", 4, "4>\tstore the received measIdleCarrierListNR in VarMeasIdleConfig;", 30], ["-", 3, "3>\tif the measIdleConfig contains measIdleCarrierListEUTRA:", 31], ["", 4, "4>\tstore the received measIdleCarrierListEUTRA in VarMeasIdleConfig;", 32], ["-", 3, "3>\tif the measIdleConfig contains validityAreaList:", 33], ["", 4, "4>\tstore the received validityAreaList in VarMeasIdleConfig;", 34], ["", 3, "3>\tstart performing idle/inactive measurements as specified in 5.7.8;", 35], ["-", 1, "1>\tif the RRCRelease includes suspendConfig:", 36], ["", 2, "2>\tapply the received suspendConfig;", 37], ["", 2, "2>\tremove all the entries within VarConditionalConfig, if any;", 38], ["-", 2, "2>\tfor each measId, if the associated reportConfig has a reportType set to condTriggerConfig:", 39], ["-", 3, "3>\tfor the associated reportConfigId:", 40], ["", 4, "4>\tremove the entry with the matching reportConfigId from the reportConfigList within the VarMeasConfig;", 41], ["-", 3, "3>\tif the associated measObjectId is only associated to a reportConfig with reportType set to condTriggerConfig:", 42], ["", 4, "4>\tremove the entry with the matching measObjectId from the measObjectList within the VarMeasConfig;", 43], ["", 3, "3>\tremove the entry with the matching measId from the measIdList within the VarMeasConfig;", 44], ["", 2, "2>\treset MAC and release the default MAC Cell Group configuration, if any;", 45], ["", 2, "2>\tre-establish RLC entities for SRB1;", 46], ["-", 2, "2>\tif the RRCRelease message with suspendConfig was received in response to an RRCResumeRequest or an RRCResumeRequest1:", 47], ["", 3, "3>\tstop the timer T319 if running;", 48], ["-", 3, "3>\tin the stored UE Inactive AS context:", 49], ["", 4, "4>\treplace the KgNB and KRRCint keys with the current KgNB and KRRCint keys;", 50], ["", 4, "4>\treplace the C-RNTI with the temporary C-RNTI in the cell the UE has received the RRCRelease message;", 51], ["", 4, "4>\treplace the cellIdentity with the cellIdentity of the cell the UE has received the RRCRelease message;", 52], ["", 4, "4>\treplace the physical cell identity with the physical cell identity of the cell the UE has received the RRCRelease message;", 53], ["-", 2, "2>\telse:", 54], ["", 3, "3>\tstore in the UE Inactive AS Context the current KgNB and KRRCint keys, the ROHC state, the stored QoS flow to DRB mapping rules, the C-RNTI used in the source PCell, the cellIdentity and the physical cell identity of the source PCell, and all other parameters configured except for the ones within ReconfigurationWithSync and servingCellConfigCommonSIB;\nNOTE 2:\tNR sidelink communication related configurations is not stored as UE Inactive AS Context, when UE enters RRC_INACTIVE.", 55], ["", 2, "2>\tsuspend all SRB(s) and DRB(s), except SRB0;", 56], ["", 2, "2>\tindicate PDCP suspend to lower layers of all DRBs;", 57], ["-", 2, "2>\tif the t380 is included:", 58], ["", 3, "3>\tstart timer T380, with the timer value set to t380;", 59], ["-", 2, "2>\tif the RRCRelease message is including the waitTime:", 60], ["", 3, "3>\tstart timer T302 with the value set to the waitTime;", 61], ["", 3, "3>\tinform upper layers that access barring is applicable for all access categories except categories '0' and '2';", 62], ["-", 2, "2>\tif T390 is running:", 63], ["", 3, "3>\tstop timer T390 for all access categories;", 64], ["", 3, "3>\tperform the actions as specified in <a href=\"#5.3.14.4\">5.3.14.4</a>;", 65], ["", 2, "2>\tindicate the suspension of the RRC connection to upper layers;", 66], ["", 2, "2>\tenter RRC_INACTIVE and perform cell selection as specified in TS 38.304 [20];", 67], ["-", 0, "Editor's note: It is FFS if IAB node supports INACTIVE mode and if so, if there is a need for the BAP entity to be released/suspended on transition to INACTIVE mode.", 68], ["-", 1, "1>\telse", 69], ["", 2, "2>\tperform the actions upon going to RRC_IDLE as specified in 5.3.11, with the release cause 'other'.", 70]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.8\tRRC connection release\n5.3.8.3\tReception of the RRCRelease by the UE"}, {"id": "5.3.8.4", "name": "T320 expiry", "headline": "5.3.8.4\tT320 expiry", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.8\tRRC connection release\n5.3.8.4\tT320 expiry", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif T320 expires:", 1], ["", 2, "2>\tif stored, discard the cell reselection priority information provided by the cellReselectionPriorities or inherited from another RAT;", 2], ["", 2, "2>\tapply the cell reselection priority information broadcast in the system information.", 3]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.8\tRRC connection release\n5.3.8.4\tT320 expiry"}, {"id": "5.3.8.5", "name": "UE actions upon the expiry of DataInactivityTimer", "headline": "5.3.8.5\tUE actions upon the expiry of DataInactivityTimer", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.8\tRRC connection release\n5.3.8.5\tUE actions upon the expiry of DataInactivityTimer", ""], ["-", 0, "Upon receiving the expiry of DataInactivityTimer from lower layers while in RRC_CONNECTED, the UE shall:", 0], ["", 1, "1>\tperform the actions upon going to RRC_IDLE as specified in 5.3.11, with release cause 'RRC connection failure'.", 1]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.8\tRRC connection release\n5.3.8.5\tUE actions upon the expiry of DataInactivityTimer"}, {"id": "5.3.9", "name": "RRC connection release requested by upper layers", "headline": "5.3.9\tRRC connection release requested by upper layers", "aoa": [], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.9\tRRC connection release requested by upper layers"}, {"id": "5.3.9.1", "name": "General", "headline": "5.3.9.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.9\tRRC connection release requested by upper layers\n5.3.9.1\tGeneral", ""], ["", 0, "The purpose of this procedure is to release the RRC connection. Access to the current PCell may be barred as a result of this procedure.", 0]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.9\tRRC connection release requested by upper layers\n5.3.9.1\tGeneral"}, {"id": "5.3.9.2", "name": "Initiation", "headline": "5.3.9.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.9\tRRC connection release requested by upper layers\n5.3.9.2\tInitiation", ""], ["", 0, "The UE initiates the procedure when upper layers request the release of the RRC connection as specified in TS 24.501 [23]. The UE shall not initiate the procedure for power saving purposes.", 0], ["-", 0, "The UE shall:", 1], ["-", 1, "1>\tif the upper layers indicate barring of the PCell:", 2], ["", 2, "2>\ttreat the PCell used prior to entering RRC_IDLE as barred according to TS 38.304 [20];", 3], ["", 1, "1>\tperform the actions upon going to RRC_IDLE as specified in 5.3.11, with release cause 'other'.", 4]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.9\tRRC connection release requested by upper layers\n5.3.9.2\tInitiation"}, {"id": "5.3.10", "name": "Radio link failure related actions", "headline": "5.3.10\tRadio link failure related actions", "aoa": [], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.10\tRadio link failure related actions"}, {"id": "5.3.10.1", "name": "Detection of physical layer problems in RRC_CONNECTED", "headline": "5.3.10.1\tDetection of physical layer problems in RRC_CONNECTED", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.10\tRadio link failure related actions\n5.3.10.1\tDetection of physical layer problems in RRC_CONNECTED", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif dapsConfig is configured for any DRB, upon receiving N310 consecutive \"out-of-sync\" indications for the source from lower layers while T304 is running:", 1], ["", 2, "2>\tstart timer T310 for the source.", 2], ["-", 1, "1>\tupon receiving N310 consecutive \"out-of-sync\" indications for the SpCell from lower layers while neither T300, T301, T304, T311 nor T319 are running:", 3], ["", 2, "2>\tstart timer T310 for the corresponding SpCell.", 4], ["", 0, "Editor's note: TBC on how/whether to capture stop RLM in source after RACH successful to target PCell.", 5], ["", 0, "Editor's note: FFS, check whether \"source\" is suitable for all DAPS related changes, or \"source SpCell\" should be used in some places, e.g. the timer T310.", 6]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.10\tRadio link failure related actions\n5.3.10.1\tDetection of physical layer problems in RRC_CONNECTED"}, {"id": "5.3.10.2", "name": "Recovery of physical layer problems", "headline": "5.3.10.2\tRecovery of physical layer problems", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.10\tRadio link failure related actions\n5.3.10.2\tRecovery of physical layer problems", ""], ["-", 0, "Upon receiving N311 consecutive \"in-sync\" indications for the SpCell from lower layers while T310 is running, the UE shall:", 0], ["", 1, "1>\tstop timer T310 for the corresponding SpCell.", 1], ["", 1, "1>\tstop timer T312 for the corresponding SpCell, if running.\nNOTE 1:\tIn this case, the UE maintains the RRC connection without explicit signalling, i.e. the UE maintains the entire radio resource configuration.\nNOTE 2:\tPeriods in time where neither \"in-sync\" nor \"out-of-sync\" is reported by L1 do not affect the evaluation of the number of consecutive \"in-sync\" or \"out-of-sync\" indications.", 2]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.10\tRadio link failure related actions\n5.3.10.2\tRecovery of physical layer problems"}, {"id": "5.3.10.3", "name": "Detection of radio link failure", "headline": "5.3.10.3\tDetection of radio link failure", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.10\tRadio link failure related actions\n5.3.10.3\tDetection of radio link failure", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif dapsConfig is configured for any DRB:", 1], ["", 2, "2>\tupon T310 expiry in source; or", 2], ["", 2, "2>\tupon random access problem indication from source MCG MAC; or", 3], ["-", 2, "2>\tupon indication from source MCG RLC that the maximum number of retransmissions has been reached:", 4], ["-", 3, "3>\tconsider radio link failure to be detected for the source MCG i.e. source RLF;", 5], ["", 4, "4>\tsuspend all DRBs in the source;", 6], ["", 4, "4>\trelease the source connection.", 7], ["-", 1, "1>\telse:", 8], ["", 2, "2>\tupon T310 expiry in PCell; or", 9], ["", 2, "2>\tupon T312 expiry in PCell; or", 10], ["", 2, "2>\tupon random access problem indication from MCG MAC while neither T300, T301, T304, T311 nor T319 are running; or", 11], ["", 2, "2>\tupon indication from MCG RLC that the maximum number of retransmissions has been reached; or", 12], ["", 2, "2>\tif connected as an IAB-node, upon BH RLF indication received on BAP entity from the MCG; or", 13], ["-", 2, "2>\tupon indication of consistent uplink LBT failures from MCG MAC:", 14], ["-", 3, "3>\tif the indication is from MCG RLC and CA duplication is configured and activated, and for the corresponding logical channel allowedServingCells only includes SCell(s):", 15], ["", 4, "4>\tinitiate the failure information procedure as specified in 5.7.5 to report RLC failure.", 16], ["-", 3, "3>\telse:", 17], ["", 4, "4>\tconsider radio link failure to be detected for the MCG i.e. RLF;", 18], ["", 4, "4>\tdiscard any segments of segmented RRC messages received;", 19], ["-", 4, "4>\tstore the following radio link failure information in the VarRLF-Report by setting its fields as follows:", 20], ["", 5, "5>\tclear the information included in VarRLF-Report, if any;", 21], ["", 5, "5>\tset the plmn-IdentityList to include the list of EPLMNs stored by the UE (i.e. includes the RPLMN);", 22], ["", 5, "5>\tset the measResultLastServCell to include the RSRP, RSRQ and the available SINR, of the source PCell based on the available SSB and CSI-RS measurements collected up to the moment the UE detected radio link failure;", 23], ["", 5, "5>\tset the ssbRLMConfigBitmap and/or csi-rsRLMConfigBitmap in measResultLastServCell to include the radio link monitoring configuration of the source PCell;", 24], ["-", 5, "5>\tfor each of the configured NR frequencies in which measurements are available:", 25], ["-", 6, "6>\tif the SS/PBCH block-based measurement quantities are available:", 26], ["-", 7, "7>\tset the measResultListNR in measResultNeighCells to include all the available measurement quantities of the best measured cells, other than the source PCell, ordered such that the cell with highest SS/PBCH block RSRP is listed first if SS/PBCH block RSRP measurement results are available, otherwise the cell with highest SS/PBCH block RSRQ is listed first if SS/PBCH block RSRQ measurement results are available, otherwise the cell with highest SS/PBCH block SINR is listed first, based on the available SS/PBCH block based measurements collected up to the moment the UE detected radio link failure;", 27], ["", 8, "8>\tfor each neighbour cell included, include the optional fields that are available;", 28], ["-", 6, "6>\tif the CSI-RS based measurement quantities are available:", 29], ["-", 7, "7>\tset the measResultListNR in measResultNeighCells to include all the available measurement quantities of the best measured cells, other than the source PCell, ordered such that the cell with highest CSI-RS RSRP is listed first if CSI-RS RSRP measurement results are available, otherwise the cell with highest CSI-RS RSRQ is listed first if CSI-RS RSRQ measurement results are available, otherwise the cell with highest CSI-RS SINR is listed first, based on the available CSI-RS based measurements collected up to the moment the UE detected radio link failure;", 30], ["", 8, "8>\tfor each neighbour cell included, include the optional fields that are available;", 31], ["-", 5, "5>\tfor each of the configured EUTRA frequencies in which measurements are available:", 32], ["", 6, "6>\tset the measResultListEUTRA in measResultNeighCells to include the best measured cells ordered such that the cell with highest RSRP is listed first if RSRP measurement results are available, otherwise the cell with highest RSRQ is listed first, and based on measurements collected up to the moment the UE detected radio link failure;\nNOTE:\tThe measured quantities are filtered by the L3 filter as configured in the mobility measurement configuration. The measurements are based on the time domain measurement resource restriction, if configured. Blacklisted cells are not required to be reported.", 33], ["-", 5, "5>\tif detailed location information is available, set the content of locationInfo as follows:", 34], ["", 6, "6>\tif available, set the commonLocationInfo to include the detailed location information;", 35], ["", 6, "6>\tif available, set the bt-LocationInfo in locationInfo to include the Bluetooth measurement results, in order of decreasing RSSI for Bluetooth beacons;", 36], ["", 6, "6>\tif available, set the wlan-LocationInfo in locationInfo to include the WLAN measurement results, in order of decreasing RSSI for WLAN APs;", 37], ["", 6, "6>\tif available, set the sensor-LocationInfo in locationInfo to include the sensor measurement results;", 38], ["", 5, "5>\tset the failedPCellId to the global cell identity and the tracking area code, if available, and otherwise to the physical cell identity and carrier frequency of the PCell where radio link failure is detected;", 39], ["-", 5, "5>\tif an RRCReconfiguration message including the reconfigurationWithSync was received before the connection failure:", 40], ["-", 6, "6>\tif the last RRCReconfiguration message including the reconfigurationWithSync concerned an intra NR handover:", 41], ["", 7, "7>\tinclude the previousPCellId and set it to the global cell identity and the tracking area code of the PCell where the last RRCReconfiguration message including reconfigurationWithSync was received;", 42], ["", 7, "7>\tset the timeConnFailure to the elapsed time since reception of the last RRCReconfiguration message including the reconfigurationWithSync;", 43], ["", 5, "5>\tset the connectionFailureType to rlf;", 44], ["", 5, "5>\tset the c-RNTI to the C-RNTI used in the PCell;", 45], ["", 5, "5>\tset the rlf-Cause to the trigger for detecting radio link failure;", 46], ["-", 5, "5>\tif the rlf-Cause is set to randomAccessProblem or beamFailureRecoveryFailure:", 47], ["", 6, "6>\tset the absoluteFrequencyPointA to indicate the absolute frequency of the reference resource block associated to the random-access resources;", 48], ["", 6, "6>\tset the locationAndBandwidth and subcarrierSpacing associated to the UL BWP of the random-access resources;", 49], ["", 6, "6>\tset the msg1-FrequencyStart, msg1-FDM and msg1-SubcarrierSpacing associated to the random-access resources;", 50], ["-", 6, "6>\tset the parameters associated to individual random-access attempt in the chronological order of attmepts in the perRAInfoList as follows:", 51], ["-", 7, "7>\tif the random-access resource used is associated to a SS/PBCH block, set the associated random-access parameters for the successive random-access attempts associated to the same SS/PBCH block for one or more radom-access attempts as follows:", 52], ["", 8, "8>\tset the ssb-Index to include the SS/PBCH block index associated to the used random-access resource;", 53], ["", 8, "8>\tset the numberOfPreamblesSentOnSSB to indicate the number of successive random access attempts associated to the SS/PBCH block;", 54], ["-", 8, "8>\tfor each random-access attempt performed on the random-access resource, include the following parameters in the chronological order of the random-access attempt:", 55], ["-", 9, "9>\tif contention resolution was not successful as specified in TS 38.321 [6] for the transmitted preamble:", 56], ["", 10, "10>\tset the contentionDetected to true;", 57], ["-", 9, "9>\telse:", 58], ["", 10, "10>\tset the contentionDetected to false;", 59], ["-", 9, "9>\tif the SS/PBCH block RSRP of the SS/PBCH block corresponding to the random-access resource used in the random-access attempt is above rsrp-ThresholdSSB:", 60], ["", 10, "10>\tset the dlRSRPAboveThreshold to true;", 61], ["-", 9, "9>\telse:", 62], ["", 10, "10>\tset the dlRSRPAboveThreshold to false;", 63], ["-", 7, "7>\telse if the random-access resource used is associated to a CSI-RS, set the associated random-access parameters for the successive random-access attempts associated to the same CSI-RS for one or more radom-access attempts as follows:", 64], ["", 8, "8>\tset the csi-RS-Index to include the CSI-RS index associated to the used random-access resource;", 65], ["", 8, "8>\tset the numberOfPreamblesSentOnCSI-RS to indicate the number of successive random-access attempts associated to the CSI-RS;", 66], ["-", 8, "8>\tfor each random-access attempt performed on the random-access resource, include the following parameters in the chronological order of the random-access attempt:", 67], ["-", 9, "9>\tif contention resolution was not successful as specified in TS 38.321 [6] for the transmitted preamble:", 68], ["", 10, "10>\tset the contentionDetected to true;", 69], ["-", 9, "9>\telse:", 70], ["", 10, "10>\tset the contentionDetected to false;", 71], ["-", 9, "9>\tif the CSI-RS RSRP of the CSI-RS corresponding to the random-access resource used in the random-access attempt is above rsrp-ThresholdCSI-RS:", 72], ["", 10, "10>\tset the dlRSRPAboveThreshold to true;", 73], ["-", 9, "9>\telse:", 74], ["", 10, "10>\tset the dlRSRPAboveThreshold to false;", 75], ["-", 4, "4>\tif AS security has not been activated:", 76], ["", 5, "5>\tperform the actions upon going to RRC_IDLE as specified in 5.3.11, with release cause 'other';-", 77], ["-", 4, "4>\telse if AS security has been activated but SRB2 and at least one DRB have not been setup:", 78], ["", 5, "5>\tperform the actions upon going to RRC_IDLE as specified in 5.3.11, with release cause 'RRC connection failure';", 79], ["-", 0, "Editor's note: FFS if the check for SRB2 activation and the setup of one DRB is applicable to IAB nodes.", 80], ["-", 4, "4>\telse:", 81], ["", 5, "5>\tif T316 is configured; and", 82], ["", 5, "5>\tif SCG transmission is not suspended; and", 83], ["-", 5, "5>\tif PSCell change is not ongoing (i.e. timer T304 for the NR PSCell is not running in case of NR-DC or timer T307 of the E-UTRA PSCell is not running as specified in TS 36.331 [10], clause 5.3.10.10, in NE-DC):", 84], ["", 6, "6>\tinitiate the MCG failure information procedure as specified in 5.7.3b to report MCG radio link failure.", 85], ["-", 5, "5>\telse:", 86], ["", 6, "6>\tinitiate the connection re-establishment procedure as specified in 5.3.7.", 87], ["", 0, "The UE may discard the radio link failure information, i.e. release the UE variable VarRLF-Report, 48 hours after the radio link failure is detected.", 88], ["-", 0, "The UE shall:", 89], ["", 1, "1>\tupon T310 expiry in PSCell; or", 90], ["", 1, "1>\tupon T312 expiry in PSCell; or", 91], ["", 1, "1>\tupon random access problem indication from SCG MAC; or", 92], ["", 1, "1>\tupon indication from SCG RLC that the maximum number of retransmissions has been reached; or", 93], ["", 1, "1>\tif connected as an IAB-node, upon BH RLF failure indication received on BAP entity from the SCG;", 94], ["-", 1, "1>\tupon indication of consistent uplink LBT failures from SCG MAC:", 95], ["-", 2, "2>\tif the indication is from SCG RLC and CA duplication is configured and activated; and for the corresponding logical channel allowedServingCells only includes SCell(s):", 96], ["", 3, "3>\tinitiate the failure information procedure as specified in 5.7.5 to report RLC failure.", 97], ["-", 2, "2>\telse if MCG transmission is not suspended:", 98], ["", 3, "3>\tconsider radio link failure to be detected for the SCG, i.e. SCG RLF;", 99], ["", 3, "3>\tinitiate the SCG failure information procedure as specified in 5.7.3 to report SCG radio link failure.", 100], ["-", 2, "2>\telse:", 101], ["-", 3, "3>\tif the UE is in NR-DC:", 102], ["", 4, "4>\tinitiate the connection re-establishment procedure as specified in 5.3.7;", 103], ["-", 3, "3>\telse (the UE is in (NG)EN-DC):", 104], ["", 4, "4>\tinitiate the connection re-establishment procedure as specified in TS 36.331 [10], clause 5.3.7;", 105]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.10\tRadio link failure related actions\n5.3.10.3\tDetection of radio link failure"}, {"id": "5.3.11", "name": "UE actions upon going to RRC_IDLE", "headline": "5.3.11\tUE actions upon going to RRC_IDLE", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.11\tUE actions upon going to RRC_IDLE", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\treset MAC;", 1], ["", 1, "1>\tset the variable pendingRNA-Update to false, if that is set to true;", 2], ["-", 1, "1>\tif going to RRC_IDLE was triggered by reception of the RRCRelease message including a waitTime:", 3], ["-", 2, "2>\tif T302 is running:", 4], ["", 3, "3>\tstop timer T302;", 5], ["", 2, "2>\tstart timer T302 with the value set to the waitTime;", 6], ["", 2, "2>\tinform upper layers that access barring is applicable for all access categories except categories '0' and '2'.", 7], ["-", 1, "1>\telse:", 8], ["-", 2, "2>\tif T302 is running:", 9], ["", 3, "3>\tstop timer T302;", 10], ["", 3, "3>\tperform the actions as specified in <a href=\"#5.3.14.4\">5.3.14.4</a>;", 11], ["-", 1, "1>\tif T390 is running:", 12], ["", 2, "2>\tstop timer T390 for all access categories;", 13], ["", 2, "2>\tperform the actions as specified in <a href=\"#5.3.14.4\">5.3.14.4</a>;", 14], ["-", 1, "1>\tif the UE is leaving RRC_INACTIVE:", 15], ["-", 2, "2>\tif going to RRC_IDLE was not triggered by reception of the RRCRelease message:", 16], ["", 3, "3>\tif stored, discard the cell reselection priority information provided by the cellReselectionPriorities;", 17], ["", 3, "3>\tstop the timer T320, if running;", 18], ["", 1, "1>\tstop all timers that are running except T302, T320, T325, and T331;", 19], ["", 1, "1>\tdiscard the UE Inactive AS context, if any;", 20], ["", 1, "1>\trelease the suspendConfig, if configured;", 21], ["", 1, "1>\tremove all the entries within VarConditionalConfig, if any;", 22], ["-", 1, "1>\tfor each measId, if the associated reportConfig has a reportType set to condTriggerConfig:", 23], ["-", 2, "2>\tfor the associated reportConfigId:", 24], ["", 3, "3>\tremove the entry with the matching reportConfigId from the reportConfigList within the VarMeasConfig;", 25], ["-", 2, "2>\tif the associated measObjectId is only associated to a reportConfig with reportType set to condTriggerConfig:", 26], ["", 3, "3>\tremove the entry with the matching measObjectId from the measObjectList within the VarMeasConfig;", 27], ["", 2, "2>\tremove the entry with the matching measId from the measIdList within the VarMeasConfig;", 28], ["", 1, "1>\tdiscard the KgNB key, the S-KgNB key, the S-KeNB key, the KRRCenc key, the KRRCint key, the KUPint key and the KUPenc key, if any;", 29], ["", 1, "1>\trelease all radio resources, including release of the RLC entity, the BAP entity, the MAC configuration and the associated PDCP entity and SDAP for all established RBs;", 30], ["", 1, "1>\tindicate the release of the RRC connection to upper layers together with the release cause;", 31], ["-", 1, "1>\texcept if going to RRC_IDLE was triggered by inter-RAT cell reselection while the UE is in RRC_INACTIVE or RRC_IDLE or when selecting an inter-RAT cell while T311 was running:", 32], ["", 2, "2>\tenter RRC_IDLE and perform cell selection as specified in TS 38.304 [20];", 33], ["-", 1, "1>\tif going to RRC_IDLE was triggered by inter-RAT cell reselection while the UE is in RRC_INACTIVE or RRC_IDLE:", 34], ["-", 2, "2>\tif T331 is running:", 35], ["", 3, "3>\tstop timer T331;", 36], ["", 3, "3>\tperform the actions as specified in <a href=\"#5.7.8.3\">5.7.8.3</a>;", 37]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.11\tUE actions upon going to RRC_IDLE"}, {"id": "5.3.12", "name": "UE actions upon PUCCH/SRS release request", "headline": "5.3.12\tUE actions upon PUCCH/SRS release request", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.12\tUE actions upon PUCCH/SRS release request", ""], ["-", 0, "Upon receiving a PUCCH release request from lower layers, for all bandwidth parts of an indicated serving cell the UE shall:", 0], ["", 1, "1>\trelease PUCCH-CSI-Resources configured in CSI-ReportConfig;", 1], ["", 1, "1>\trelease SchedulingRequestResourceConfig instances configured in PUCCH-Config.", 2], ["-", 0, "Upon receiving an SRS release request from lower layers, for all bandwidth parts of an indicated serving cell the UE shall:", 3], ["", 1, "1>\trelease SRS-Resource instances configured in SRS-Config.", 4]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.12\tUE actions upon PUCCH/SRS release request"}, {"id": "5.3.13", "name": "RRC connection resume", "headline": "5.3.13\tRRC connection resume", "aoa": [], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume"}, {"id": "5.3.13.1", "name": "General", "headline": "5.3.13.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.1\tGeneral", ""], ["", 0, "Figure 5.3.13.1-1: RRC connection resume, successful", 0], ["", 0, "Figure 5.3.13.1-2: RRC connection resume fallback to RRC connection establishment, successful", 1], ["", 0, "Figure 5.3.13.1-3: RRC connection resume followed by network release, successful", 2], ["", 0, "Figure 5.3.13.1-4: RRC connection resume followed by network suspend, successful", 3], ["", 0, "Figure 5.3.13.1-5: RRC connection resume, network reject", 4], ["", 0, "The purpose of this procedure is to resume a suspended RRC connection, including resuming SRB(s) and DRB(s) or perform an RNA update.", 5]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.1\tGeneral"}, {"id": "5.3.13.1a", "name": "Conditions for resuming RRC Connection for NR sidelink communication", "headline": "5.3.13.1a\tConditions for resuming RRC Connection for NR sidelink communication", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.1a\tConditions for resuming RRC Connection for NR sidelink communication", ""], ["-", 0, "For NR sidelink communication an RRC connection is resumed only in the following cases:", 0], ["-", 1, "1>\tif configured by upper layers to transmit NR sidelink communication and related data is available for transmission:", 1], ["", 2, "2>\tif the frequency on which the UE is configured to transmit NR sidelink communication concerns the camped frequency; and if SIB12 is provided by the cell on which the UE camps; and if the valid version of SIB12 does not include sl-TxPoolSelectedNormal for the frequency; or", 2], ["", 2, "2>\tif the frequency on which the UE is configured to transmit NR sidelink communication is included in sl-FreqInfoList within SIB12 provided by the cell on which the UE camps; and if the valid version of SIB12 does not include sl-TxPoolSelectedNormal for the concerned frequency;", 3], ["", 0, "For V2X sidelink communication an RRC connection resume is initiated only when the conditions specified for V2X sidelink communication in subclause <a href=\"#5.3.3.1a\">5.3.3.1a</a> of TS 36.331 [10] are met.\nNOTE:\tUpper layers initiate an RRC connection resume. The interaction with NAS is left to UE implementation.", 4]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.1a\tConditions for resuming RRC Connection for NR sidelink communication"}, {"id": "5.3.13.2", "name": "Initiation", "headline": "5.3.13.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.2\tInitiation", ""], ["", 0, "The UE initiates the procedure when upper layers or AS (when responding to RAN paging or upon triggering RNA updates while the UE is in RRC_INACTIVE) requests the resume of a suspended RRC connection.", 0], ["", 0, "The UE shall ensure having valid and up to date essential system information as specified in clause 5.2.2.2 before initiating this procedure.", 1], ["-", 0, "Upon initiation of the procedure, the UE shall:", 2], ["-", 1, "1>\tif the resumption of the RRC connection is triggered by response to NG-RAN paging:", 3], ["", 2, "2>\tselect '0' as the Access Category;", 4], ["-", 2, "2>\tperform the unified access control procedure as specified in 5.3.14 using the selected Access Category and one or more Access Identities provided by upper layers;", 5], ["", 3, "3>\tif the access attempt is barred, the procedure ends;", 6], ["-", 1, "1>\telse if the resumption of the RRC connection is triggered by upper layers:", 7], ["-", 2, "2>\tif the upper layers provide an Access Category and one or more Access Identities:", 8], ["-", 3, "3>\tperform the unified access control procedure as specified in 5.3.14 using the Access Category and Access Identities provided by upper layers;", 9], ["", 4, "4>\tif the access attempt is barred, the procedure ends;", 10], ["", 2, "2>\tset the resumeCause in accordance with the information received from upper layers;", 11], ["-", 1, "1>\telse if the resumption of the RRC connection is triggered due to an RNA update as specified in 5.3.13.8:", 12], ["-", 2, "2>\tif an emergency service is ongoing:\nNOTE:\tHow the RRC layer in the UE is aware of an ongoing emergency service is up to UE implementation.", 13], ["", 3, "3>\tselect '2' as the Access Category;", 14], ["", 3, "3>\tset the resumeCause to emergency;", 15], ["-", 2, "2>\telse:", 16], ["", 3, "3>\tselect '8' as the Access Category;", 17], ["-", 2, "2>\tperform the unified access control procedure as specified in 5.3.14 using the selected Access Category and one or more Access Identities to be applied as specified in TS 24.501 [23];", 18], ["-", 3, "3>\tif the access attempt is barred:", 19], ["", 4, "4>\tset the variable pendingRNA-Update to true;", 20], ["", 4, "4>\tthe procedure ends;", 21], ["-", 1, "1>\tif the UE is in NE-DC or NR-DC:", 22], ["-", 2, "2>\tif the UE does not support maintaining SCG configuration upon connection resumption:", 23], ["", 3, "3>\trelease the MR-DC related configurations (i.e., as specified in 5.3.5.10) from the UE Inactive AS context, if stored;", 24], ["", 1, "1>\tif the UE does not support maintaining the MCG SCell configurations upon connection resumption:2>\trelease the MCG SCell(s) from the UE Inactive AS context, if stored;", 25], ["", 1, "1>\tapply the default L1 parameter values as specified in corresponding physical layer specifications, except for the parameters for which values are provided in SIB1;", 26], ["", 1, "1>\tapply the default SRB1 configuration as specified in 9.2.1;", 27], ["", 1, "1>\tapply the default MAC Cell Group configuration as specified in 9.2.2;", 28], ["", 1, "1>\trelease delayBudgetReportingConfig from the UE Inactive AS context, if stored;", 29], ["", 1, "1>\tstop timer T342, if running;", 30], ["", 1, "1>\trelease overheatingAssistanceConfig from the UE Inactive AS context, if stored;", 31], ["", 1, "1>\tstop timer T345, if running;", 32], ["", 1, "1>\trelease idc-AssistanceConfig from the UE Inactive AS context, if stored;", 33], ["", 1, "1>\trelease drx-PreferenceConfig from the UE Inactive AS context, if stored;", 34], ["", 1, "1>\tstop timer T346a, if running;", 35], ["", 1, "1>\trelease maxBW-PreferenceConfig from the UE Inactive AS context, if stored;", 36], ["", 1, "1>\tstop timer T346b, if running;", 37], ["", 1, "1>\trelease maxCC-PreferenceConfig from the UE Inactive AS context, if stored;", 38], ["", 1, "1>\tstop timer T346c, if running;", 39], ["", 1, "1>\trelease maxMIMO-LayerPreferenceConfig from the UE Inactive AS context, if stored;", 40], ["", 1, "1>\tstop timer T346d, if running;", 41], ["", 1, "1>\trelease minSchedulingOffsetPreferenceConfig from the UE Inactive AS context, if stored;", 42], ["", 1, "1>\tstop timer T346e, if running;", 43], ["", 1, "1>\trelease releasePreferenceConfig from the UE Inactive AS context, if stored;", 44], ["", 1, "1>\tstop timer T346f, if running;", 45], ["", 1, "1>\tapply the CCCH configuration as specified in 9.1.1.2;", 46], ["", 1, "1>\tapply the timeAlignmentTimerCommon included in SIB1;", 47], ["", 1, "1>\tstart timer T319;", 48], ["", 1, "1>\tset the variable pendingRNA-Update to false;", 49], ["", 1, "1>\tinitiate transmission of the RRCResumeRequest message or RRCResumeRequest1 in accordance with 5.3.13.3.", 50]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.2\tInitiation"}, {"id": "5.3.13.3", "name": "Actions related to transmission of RRCResumeRequest or RRCResumeRequest1 message", "headline": "5.3.13.3\tActions related to transmission of RRCResumeRequest or RRCResumeRequest1 message", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.3\tActions related to transmission of RRCResumeRequest or RRCResumeRequest1 message", ""], ["-", 0, "The UE shall set the contents of RRCResumeRequest or RRCResumeRequest1 message as follows:", 0], ["-", 1, "1>\tif field useFullResumeID is signalled in SIB1:", 1], ["", 2, "2>\tselect RRCResumeRequest1 as the message to use;", 2], ["", 2, "2>\tset the resumeIdentity to the stored fullI-RNTI value;", 3], ["-", 1, "1>\telse:", 4], ["", 2, "2>\tselect RRCResumeRequest as the message to use;", 5], ["", 2, "2>\tset the resumeIdentity to the stored shortI-RNTI value;", 6], ["", 1, "1>\trestore the RRC configuration, RoHC state, the stored QoS flow to DRB mapping rules and the KgNB and KRRCint keys from the stored UE Inactive AS context except for the following:\n-\tmasterCellGroup;\n-\tmrdc-SecondaryCellGroup, if stored; and\n-\tpdcp-Config;", 7], ["-", 1, "1>\tset the resumeMAC-I to the 16 least significant bits of the MAC-I calculated:", 8], ["", 2, "2>\tover the ASN.1 encoded as per clause 8 (i.e., a multiple of 8 bits) VarResumeMAC-Input;", 9], ["", 2, "2>\twith the KRRCint key in the UE Inactive AS Context and the previously configured integrity protection algorithm; and", 10], ["", 2, "2>\twith all input bits for COUNT, BEARER and DIRECTION set to binary ones;", 11], ["", 1, "1>\tderive the KgNB key based on the current KgNB key or the NH, using the stored nextHopChainingCount value, as specified in TS 33.501 [11];", 12], ["", 1, "1>\tderive the KRRCenc key, the KRRCint key, the KUPint key and the KUPenc key;", 13], ["", 1, "1>\tconfigure lower layers to apply integrity protection for all radio bearers except SRB0 using the configured algorithm and the KRRCint key and KUPint key derived in this subclause immediately, i.e., integrity protection shall be applied to all subsequent messages received and sent by the UE;\nNOTE 1:\tOnly DRBs with previously configured UP integrity protection shall resume integrity protection.", 14], ["", 1, "1>\tconfigure lower layers to apply ciphering for all radio bearers except SRB0 and to apply the configured ciphering algorithm, the KRRCenc key and the KUPenc key derived in this subclause, i.e. the ciphering configuration shall be applied to all subsequent messages received and sent by the UE;", 15], ["", 1, "1>\tre-establish PDCP entities for SRB1;", 16], ["", 1, "1>\tresume SRB1;", 17], ["", 1, "1>\tsubmit the selected message RRCResumeRequest or RRCResumeRequest1 for transmission to lower layers.\nNOTE 2:\tOnly DRBs with previously configured UP ciphering shall resume ciphering.", 18], ["", 0, "If lower layers indicate an integrity check failure while T319 is running, perform actions specified in 5.3.13.5.", 19], ["", 0, "The UE shall continue cell re-selection related measurements as well as cell re-selection evaluation. If the conditions for cell re-selection are fulfilled, the UE shall perform cell re-selection as specified in 5.3.13.6.", 20]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.3\tActions related to transmission of RRCResumeRequest or RRCResumeRequest1 message"}, {"id": "5.3.13.4", "name": "Reception of the RRCResume by the UE", "headline": "5.3.13.4\tReception of the RRCResume by the UE", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.4\tReception of the RRCResume by the UE", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tstop timer T319;", 1], ["", 1, "1>\tstop timer T380, if running;", 2], ["-", 1, "1>\tif T331 is running:", 3], ["", 2, "2>\tstop timer T331;", 4], ["", 2, "2>\tperform the actions as specified in <a href=\"#5.7.8.3\">5.7.8.3</a>;", 5], ["-", 1, "1>\tif the RRCResume includes the fullConfig:", 6], ["", 2, "2>\tperform the full configuration procedure as specified in <a href=\"#5.3.5.11\">5.3.5.11</a>;", 7], ["-", 1, "1>\telse:", 8], ["-", 2, "2>\tif the RRCResume does not include the restoreMCG-SCells:", 9], ["", 3, "3>\trelease the MCG SCell(s) from the UE Inactive AS context, if stored;", 10], ["-", 2, "2>\tif the RRCResume does not include the restoreSCG:", 11], ["-", 3, "3>\tif the UE is in NE-DC or NR-DC:", 12], ["", 4, "4>\trelease the MR-DC related configurations (i.e., as specified in 5.3.5.10) from the UE Inactive AS context, if stored;", 13], ["", 2, "2>\trestore the masterCellGroup, mrdc-SecondaryCellGroup, if stored, and pdcp-Config from the UE Inactive AS context;", 14], ["", 2, "2>\tconfigure lower layers to consider the restored MCG and SCG SCell(s) (if any) to be in deactivated state;", 15], ["", 1, "1>\tdiscard the UE Inactive AS context;", 16], ["", 1, "1>\trelease the suspendConfig except the ran-NotificationAreaInfo;", 17], ["-", 1, "1>\tif the RRCResume includes the masterCellGroup:", 18], ["", 2, "2>\tperform the cell group configuration for the received masterCellGroup according to 5.3.5.5;", 19], ["-", 1, "1>\tif the RRCResume includes the mrdc-SecondaryCellGroup:", 20], ["-", 2, "2>\tif the received mrdc-SecondaryCellGroup is set to nr-SCG:", 21], ["", 3, "3>\tperform the RRC reconfiguration according to <a href=\"#5.3.5.3\">5.3.5.3</a> for the RRCReconfiguration message included in nr-SCG;", 22], ["-", 2, "2>\tif the received mrdc-SecondaryCellGroup is set to eutra-SCG:", 23], ["", 3, "3>\tperform the RRC connection reconfiguration as specified in TS 36.331 [10], clause <a href=\"#5.3.5.3\">5.3.5.3</a> for the RRCConnectionReconfiguration message included in eutra-SCG;", 24], ["-", 1, "1>\tif the RRCResume includes the radioBearerConfig:", 25], ["", 2, "2>\tperform the radio bearer configuration according to 5.3.5.6;", 26], ["-", 1, "1>\tif the RRCResume message includes the sk-Counter:", 27], ["", 2, "2>\tperform security key update procedure as specified in <a href=\"#5.3.5.7\">5.3.5.7</a>;", 28], ["-", 1, "1>\tif the RRCResume message includes the radioBearerConfig2:", 29], ["", 2, "2>\tperform the radio bearer configuration according to 5.3.5.6;", 30], ["", 1, "1>\tresume SRB2, SRB3 (if configured), and all DRBs;", 31], ["", 1, "1>\tif stored, discard the cell reselection priority information provided by the cellReselectionPriorities or inherited from another RAT;", 32], ["", 1, "1>\tstop timer T320, if running;", 33], ["-", 1, "1>\tif the RRCResume message includes the measConfig:", 34], ["", 2, "2>\tperform the measurement configuration procedure as specified in 5.5.2;", 35], ["", 1, "1>\tresume measurements if suspended;", 36], ["-", 1, "1>\tif T390 is running:", 37], ["", 2, "2>\tstop timer T390 for all access categories;", 38], ["", 2, "2>\tperform the actions as specified in <a href=\"#5.3.14.4\">5.3.14.4</a>;", 39], ["-", 1, "1>\tif T302 is running:", 40], ["", 2, "2>\tstop timer T302;", 41], ["", 2, "2>\tperform the actions as specified in <a href=\"#5.3.14.4\">5.3.14.4</a>;", 42], ["", 1, "1>\tenter RRC_CONNECTED;", 43], ["", 1, "1>\tindicate to upper layers that the suspended RRC connection has been resumed;", 44], ["", 1, "1>\tstop the cell re-selection procedure;", 45], ["", 1, "1>\tconsider the current cell to be the PCell;", 46], ["-", 1, "1>\tset the content of the of RRCResumeComplete message as follows:", 47], ["", 2, "2>\tif the upper layer provides NAS PDU, set the dedicatedNAS-Message to include the information received from upper layers;", 48], ["", 2, "2>\tif the upper layer provides a PLMN, set the selectedPLMN-Identity to PLMN selected by upper layers (TS 24.501 [23]) from the PLMN(s) included in the plmn-IdentityList in SIB1;", 49], ["-", 2, "2>\tif the masterCellGroup contains the reportUplinkTxDirectCurrent:", 50], ["", 3, "3>\tinclude the uplinkTxDirectCurrentList for each MCG serving cell with UL;", 51], ["", 3, "3>\tinclude uplinkDirectCurrentBWP-SUL for each MCG serving cell configured with SUL carrier, if any, within the uplinkTxDirectCurrentList;", 52], ["-", 2, "2>\tif the UE has idle/inactive measurement information concerning cells other than the PCell available in VarMeasIdleReport:", 53], ["", 3, "3>\tif the idleModeMeasurementReq is included in the RRCResume message:", 54], ["-", 0, "Editor's note: FFS if the idleModeMeasuremnetReq indicates all results (EUTRA and NR), or can request only NR results. The procedure below assumes the former.", 55], ["", 4, "4>\tset the measResultIdleEUTRA in the RRCResumeComplete message to the value of measReportIdleEUTRA in the VarMeasIdleReport, if available;", 56], ["", 4, "4>\tset the measResultIdleNR in the RRCResumeComplete message to the value of measReportIdleNR in the VarMeasIdleReport, if measurement information concerning cells other than the PCell is available;", 57], ["", 4, "4>\tdiscard the VarMeasIdleReport upon successful delivery of the RRCResumeComplete message is confirmed by lower layers;", 58], ["-", 3, "3>\telse if the SIB1 contains idleModeMeasurements:", 59], ["", 4, "4>\tinclude the idleMeasAvailable;", 60], ["-", 2, "2>\tif the RRCResume message includes the mrdc-SecondaryCellGroupConfig with mrdc-SecondaryCellGroup set to eutra-SCG:", 61], ["", 3, "3>\tinclude in the eutra-SCG-Response the E-UTRA RRCConnectionReconfigurationComplete message in accordance with TS 36.331 [10] clause <a href=\"#5.3.5.3\">5.3.5.3</a>;", 62], ["-", 2, "2>\tif the RRCResume message includes the mrdc-SecondaryCellGroupConfig with mrdc-SecondaryCellGroup set to nr-SCG:", 63], ["", 3, "3>\tinclude in the nr-SCG-Response the SCG RRCReconfigurationComplete message;", 64], ["-", 2, "2>\tif the UE has logged measurements available for NR and if the RPLMN is included in plmn-IdentityList stored in VarLogMeasReport:", 65], ["", 3, "3>\tinclude the logMeasAvailable in the RRCResumeComplete message;", 66], ["-", 2, "2>\tif the UE has Bluetooth logged measurements available and if the RPLMN is included in plmn-IdentityList stored in VarLogMeasReport:", 67], ["", 3, "3>\tinclude the logMeasAvailableBT in the RRCResumeComplete message;", 68], ["-", 2, "2>\tif the UE has WLAN logged measurements available and if the RPLMN is included in plmn-IdentityList stored in VarLogMeasReport:", 69], ["", 3, "3>\tinclude the logMeasAvailableWLAN in the RRCResumeComplete message;", 70], ["-", 2, "2>\tif the UE has connection establishment failure information available in VarConnEstFailReport and if the RPLMN is equal to plmn-Identity stored in VarConnEstFailReport:", 71], ["", 3, "3>\tinclude connEstFailInfoAvailable in the RRCResumeComplete message;", 72], ["-", 2, "2>\tif the UE has radio link failure or handover failure information available in VarRLF-Report and if the RPLMN is included in plmn-IdentityList stored in VarRLF-Report:", 73], ["", 3, "3>\tinclude rlf-InfoAvailable in the RRCResumeComplete message;", 74], ["-", 2, "2>\tif the UE has radio link failure or handover failure information available in VarRLF-Report of TS 36.331 [10] and if the UE is capable of cross-RAT RLF reporting and if the RPLMN is included in plmn-IdentityList stored in VarRLF-Report of TS 36.331 [10]:", 75], ["", 3, "3>\tinclude rlf-InfoAvailable in the RRCResumeComplete message;", 76], ["-", 2, "2>\tif the UE supports storage of mobility history information and the UE has mobility history information available in VarMobilityHistoryReport:", 77], ["", 3, "3>\tinclude the mobilityHistoryAvail in the RRCResumeComplete message;", 78], ["", 2, "2>\tinclude the mobilityState in the RRCResumeComplete message and set it to the mobility state (as specified in TS 38.304 [20]) of the UE just prior to entering RRC_CONNECTED state;", 79], ["", 1, "1>\tsubmit the RRCResumeComplete message to lower layers for transmission;", 80], ["", 1, "1>\tthe procedure ends.", 81]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.4\tReception of the RRCResume by the UE"}, {"id": "5.3.13.5", "name": "T319 expiry or Integrity check failure from lower layers while T319 is running", "headline": "5.3.13.5\tT319 expiry or Integrity check failure from lower layers while T319 is running", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.5\tT319 expiry or Integrity check failure from lower layers while T319 is running", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif timer T319 expires or upon receiving Integrity check failure indication from lower layers while T319 is running:", 1], ["", 2, "2>\tclear the content included in VarConnEstFailReport except for the numberOfConnFail, if any;", 2], ["-", 2, "2>\tif the UE has connection resume failure informaton available in VarConnEstFailReport and if the RPLMN is not equal to plmn-identity stored in VarConnEstFailReport:", 3], ["", 3, "3>\treset the numberOfConnFail to 0;", 4], ["-", 2, "2>\tstore the following connection resume failure information in the VarConnEstFailReport by setting its fields as follows:", 5], ["", 3, "3>\tset the plmn-Identity to the PLMN selected by upper layers (see TS 23.122 [54], TS 24.501 [23]) from the PLMN(s) included in the plmn-IdentityList in SIB1;", 6], ["", 3, "3>\tset the measResultFailedCell to include the global cell identity, physical cell id, the RSRP, and RSRQ, of the failed cell based on the available SSB measurements collected up to the moment the UE detected connection establishment failure;", 7], ["-", 3, "3>\tif available, set the measResultNeighCells, in order of decreasing ranking-criterion as used for cell re-selection, to include neighbouring cell measurements for at most the following number of neighbouring cells: 6 intra-frequency and 3 inter-frequency neighbours per frequency as well as 3 inter-RAT neighbours, per frequency/ set of frequencies per RAT and according to the following:", 8], ["", 4, "4>\tfor each neighbour cell included, include the optional fields that are available;\nNOTE:\tThe UE includes the latest results of the available measurements as used for cell reselection evaluation, which are performed in accordance with the performance requirements as specified in TS 38.133 [14].", 9], ["-", 3, "3>\tif available, set the locationInfo as follows:", 10], ["", 4, "4>\tif available, set the commonLocationInfo to include the detailed location information;", 11], ["", 4, "4>\tif available, set the bt-LocationInfo to include the Bluetooth measurement results, in order of decreasing RSSI for Bluetooth beacons;", 12], ["", 4, "4>\tif available, set the wlan-LocationInfo to include the WLAN measurement results, in order of decreasing RSSI for WLAN APs;", 13], ["", 4, "4>\tif available, set the sensor-LocationInfo to include the sensor measurement results;", 14], ["", 3, "3>\tset perRAInfoList to indicate random access failure information as specified in <a href=\"#5.3.10.3\">5.3.10.3</a>;", 15], ["-", 3, "3>\tif numberOfConnFail is smaller than 7:", 16], ["", 4, "4>\tincrement the numberOfConnFail by 1;", 17], ["", 2, "2>\tperform the actions upon going to RRC_IDLE as specified in <a href=\"#5.3.11\">5.3.11</a> with release cause 'RRC Resume failure'.", 18], ["", 0, "The UE may discard the connection resume failure information, i.e. release the UE variable VarConnEsFailReport, 48 hours after the last connection resume failure is detected.", 19]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.5\tT319 expiry or Integrity check failure from lower layers while T319 is running"}, {"id": "5.3.13.6", "name": "Cell re-selection or cell selection while T390, T319 or T302 is running (UE in RRC_INACTIVE)", "headline": "5.3.13.6\tCell re-selection or cell selection while T390, T319 or T302 is running (UE in RRC_INACTIVE)", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.6\tCell re-selection or cell selection while T390, T319 or T302 is running (UE in RRC_INACTIVE)", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif cell reselection occurs while T319 or T302 is running:", 1], ["", 2, "2>\tperform the actions upon going to RRC_IDLE as specified in <a href=\"#5.3.11\">5.3.11</a> with release cause 'RRC Resume failure';", 2], ["-", 1, "1>\telse if cell selection or reselection occurs while T390 is running:", 3], ["", 2, "2>\tstop T390 for all access categories;", 4], ["", 2, "2>\tperform the actions as specified in 5.3.14.4.", 5]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.6\tCell re-selection or cell selection while T390, T319 or T302 is running (UE in RRC_INACTIVE)"}, {"id": "5.3.13.7", "name": "Reception of the RRCSetup by the UE", "headline": "5.3.13.7\tReception of the RRCSetup by the UE", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.7\tReception of the RRCSetup by the UE", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tperform the RRC connection setup procedure as specified in 5.3.3.4.", 1]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.7\tReception of the RRCSetup by the UE"}, {"id": "5.3.13.8", "name": "RNA update", "headline": "5.3.13.8\tRNA update", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.8\tRNA update", ""], ["-", 0, "In RRC_INACTIVE state, the UE shall:", 0], ["", 1, "1>\tif T380 expires; or", 1], ["-", 1, "1>\tif RNA Update is triggered at reception of SIB1, as specified in 5.2.2.4.2:", 2], ["", 2, "2>\tinitiate RRC connection resume procedure in <a href=\"#5.3.13.2\">5.3.13.2</a> with resumeCause set to rna-Update;", 3], ["-", 1, "1>\tif barring is alleviated for Access Category '8' or Access Category '2', as specified in 5.3.14.4:", 4], ["", 2, "2>\tif upper layers do not request RRC the resumption of an RRC connection, and", 5], ["-", 2, "2>\tif the variable pendingRNA-Update is set to true:", 6], ["", 3, "3>\tinitiate RRC connection resume procedure in <a href=\"#5.3.13.2\">5.3.13.2</a> with resumeCause value set to rna-Update.", 7], ["-", 0, "If the UE in RRC_INACTIVE state fails to find a suitable cell and camps on the acceptable cell to obtain limited service as defined in TS 38.304 [20], the UE shall:", 8], ["", 1, "1>\tperform the actions upon going to RRC_IDLE as specified in <a href=\"#5.3.11\">5.3.11</a> with release cause 'other'.\nNOTE:\tIt is left to UE implementation how to behave when T380 expires while the UE is camped neither on a suitable nor on an acceptable cell.", 9]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.8\tRNA update"}, {"id": "5.3.13.9", "name": "Reception of the RRCRelease by the UE", "headline": "5.3.13.9\tReception of the RRCRelease by the UE", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.9\tReception of the RRCRelease by the UE", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tperform the actions as specified in 5.3.8.", 1]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.9\tReception of the RRCRelease by the UE"}, {"id": "5.3.13.10", "name": "Reception of the RRCReject by the UE", "headline": "5.3.13.10\tReception of the RRCReject by the UE", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.10\tReception of the RRCReject by the UE", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tperform the actions as specified in 5.3.15.", 1]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.10\tReception of the RRCReject by the UE"}, {"id": "5.3.13.11", "name": "Inability to comply with RRCResume", "headline": "5.3.13.11\tInability to comply with RRCResume", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.11\tInability to comply with RRCResume", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif the UE is unable to comply with (part of) the configuration included in the RRCResume message;", 1], ["", 2, "2>\tperform the actions upon going to RRC_IDLE as specified in <a href=\"#5.3.11\">5.3.11</a> with release cause \u2032RRC Resume failure\u2032.\nNOTE 1:\tThe UE may apply above failure handling also in case the RRCResume message causes a protocol error for which the generic error handling as defined in 10 specifies that the UE shall ignore the message.\nNOTE 2:\tIf the UE is unable to comply with part of the configuration, it does not apply any part of the configuration, i.e. there is no partial success/failure.", 2]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.11\tInability to comply with RRCResume"}, {"id": "5.3.13.12", "name": "Inter RAT cell reselection", "headline": "5.3.13.12\tInter RAT cell reselection", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.12\tInter RAT cell reselection", ""], ["-", 0, "Upon reselecting to an inter-RAT cell, the UE shall:", 0], ["", 1, "1>\tperform the actions upon going to RRC_IDLE as specified in 5.3.11, with release cause 'other'.", 1]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.13\tRRC connection resume\n5.3.13.12\tInter RAT cell reselection"}, {"id": "5.3.14", "name": "Unified Access Control", "headline": "5.3.14\tUnified Access Control", "aoa": [], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.14\tUnified Access Control"}, {"id": "5.3.14.1", "name": "General", "headline": "5.3.14.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.14\tUnified Access Control\n5.3.14.1\tGeneral", ""], ["", 0, "The purpose of this procedure is to perform access barring check for an access attempt associated with a given Access Category and one or more Access Identities upon request from upper layers according to TS 24.501 [23] or the RRC layer.", 0], ["", 0, "After a PCell change in RRC_CONNECTED the UE shall defer access barring checks until it has obtained SIB1 (as specified in 5.2.2.2) from the target cell.", 1]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.14\tUnified Access Control\n5.3.14.1\tGeneral"}, {"id": "5.3.14.2", "name": "Initiation", "headline": "5.3.14.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.14\tUnified Access Control\n5.3.14.2\tInitiation", ""], ["-", 0, "Upon initiation of the procedure, the UE shall:", 0], ["-", 1, "1>\tif timer T390 is running for the Access Category:", 1], ["", 2, "2>\tconsider the access attempt as barred;", 2], ["-", 1, "1>\telse if timer T302 is running and the Access Category is neither '2' nor '0':", 3], ["", 2, "2>\tconsider the access attempt as barred;", 4], ["-", 1, "1>\telse:", 5], ["-", 2, "2>\tif the Access Category is '0':", 6], ["", 3, "3>\tconsider the access attempt as allowed;", 7], ["-", 2, "2>\telse:", 8], ["-", 3, "3>\tif SIB1 includes uac-BarringPerPLMN-List and the uac-BarringPerPLMN-List contains an UAC-BarringPerPLMN entry with the plmn-IdentityIndex corresponding to the PLMN or SNPN selected by upper layers (see TS 24.501 [23]):", 9], ["", 4, "4>\tselect the UAC-BarringPerPLMN entry with the plmn-IdentityIndex corresponding to the PLMN or to the SNPN selected by upper layers;", 10], ["", 4, "4>\tin the remainder of this procedure, use the selected UAC-BarringPerPLMN entry (i.e. presence or absence of access barring parameters in this entry) irrespective of the uac-BarringForCommon included in SIB1;", 11], ["-", 3, "3>\telse if SIB1 includes uac-BarringForCommon:", 12], ["", 4, "4>\tin the remainder of this procedure use the uac-BarringForCommon (i.e. presence or absence of these parameters) included in SIB1;", 13], ["-", 3, "3>\telse:", 14], ["", 4, "4>\tconsider the access attempt as allowed;", 15], ["-", 3, "3>\tif uac-BarringForCommon is applicable or the uac-ACBarringListType indicates that uac-ExplicitACBarringList is used:", 16], ["-", 4, "4>\tif the corresponding UAC-BarringPerCatList contains a UAC-BarringPerCat entry corresponding to the Access Category:", 17], ["", 5, "5>\tselect the UAC-BarringPerCat entry;", 18], ["-", 5, "5>\tif the uac-BarringInfoSetList contains a UAC-BarringInfoSet entry corresponding to the selected uac-barringInfoSetIndex in the UAC-BarringPerCat:", 19], ["", 6, "6>\tselect the UAC-BarringInfoSet entry;", 20], ["", 6, "6>\tperform access barring check for the Access Category as specified in 5.3.14.5, using the selected UAC-BarringInfoSet as \"UAC barring parameter\";", 21], ["-", 5, "5>\telse:", 22], ["", 6, "6>\tconsider the access attempt as allowed;", 23], ["-", 4, "4>\telse:", 24], ["", 5, "5>\tconsider the access attempt as allowed;", 25], ["-", 3, "3>\telse if the uac-ACBarringListType indicates that uac-ImplicitACBarringList is used:", 26], ["", 4, "4>\tselect the uac-BarringInfoSetIndex corresponding to the Access Category in the uac-ImplicitACBarringList;", 27], ["-", 4, "4>\tif the uac-BarringInfoSetList contains the UAC-BarringInfoSet entry corresponding to the selected uac-BarringInfoSetIndex:", 28], ["", 5, "5>\tselect the UAC-BarringInfoSet entry;", 29], ["", 5, "5>\tperform access barring check for the Access Category as specified in 5.3.14.5, using the selected UAC-BarringInfoSet as \"UAC barring parameter\";", 30], ["-", 4, "4>\telse:", 31], ["", 5, "5>\tconsider the access attempt as allowed;", 32], ["-", 3, "3>\telse:", 33], ["", 4, "4>\tconsider the access attempt as allowed;", 34], ["-", 1, "1>\tif the access barring check was requested by upper layers:", 35], ["-", 2, "2>\tif the access attempt is considered as barred:", 36], ["-", 3, "3>\tif timer T302 is running:", 37], ["-", 4, "4>\tif timer T390 is running for Access Category '2':", 38], ["", 5, "5>\tinform the upper layer that access barring is applicable for all access categories except categories '0', upon which the procedure ends;", 39], ["-", 4, "4>\telse", 40], ["", 5, "5>\tinform the upper layer that access barring is applicable for all access categories except categories '0' and '2', upon which the procedure ends;", 41], ["-", 3, "3>\telse:", 42], ["", 4, "4>\tinform upper layers that the access attempt for the Access Category is barred, upon which the procedure ends;", 43], ["-", 2, "2>\telse:", 44], ["", 3, "3>\tinform upper layers that the access attempt for the Access Category is allowed, upon which the procedure ends;", 45], ["-", 1, "1>\telse:", 46], ["", 2, "2>\tthe procedure ends.", 47]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.14\tUnified Access Control\n5.3.14.2\tInitiation"}, {"id": "5.3.14.3", "name": "Void", "headline": "5.3.14.3\tVoid", "aoa": [], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.14\tUnified Access Control\n5.3.14.3\tVoid"}, {"id": "5.3.14.4", "name": "T302, T390 expiry or stop (Barring alleviation)", "headline": "5.3.14.4\tT302, T390 expiry or stop (Barring alleviation)", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.14\tUnified Access Control\n5.3.14.4\tT302, T390 expiry or stop (Barring alleviation)", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif timer T302 expires or is stopped:", 1], ["-", 2, "2>\tfor each Access Category for which T390 is not running:", 2], ["", 3, "3>\tconsider the barring for this Access Category to be alleviated:", 3], ["-", 1, "1>\telse if timer T390 corresponding to an Access Category other than '2' expires or is stopped, and if timer T302 is not running:", 4], ["", 2, "2>\tconsider the barring for this Access Category to be alleviated;", 5], ["-", 1, "1>\telse if timer T390 corresponding to the Access Category '2' expires or is stopped:", 6], ["", 2, "2>\tconsider the barring for this Access Category to be alleviated;", 7], ["-", 1, "1>\twhen barring for an Access Category is considered being alleviated:", 8], ["-", 2, "2>\tif the Access Category was informed to upper layers as barred:", 9], ["", 3, "3>\tinform upper layers about barring alleviation for the Access Category.", 10], ["-", 2, "2>\tif barring is alleviated for Access Category '8':", 11], ["", 3, "3>\tperform actions specified in <a href=\"#5.3.13.8\">5.3.13.8</a>;", 12]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.14\tUnified Access Control\n5.3.14.4\tT302, T390 expiry or stop (Barring alleviation)"}, {"id": "5.3.14.5", "name": "Access barring check", "headline": "5.3.14.5\tAccess barring check", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.14\tUnified Access Control\n5.3.14.5\tAccess barring check", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tif one or more Access Identities are indicated according to TS 24.501 [23], and", 1], ["-", 1, "1>\tif for at least one of these Access Identities the corresponding bit in the uac-BarringForAccessIdentity contained in \"UAC barring parameter\" is set to zero:", 2], ["", 2, "2>\tconsider the access attempt as allowed;", 3], ["-", 1, "1>\telse:", 4], ["", 2, "2>\tdraw a random number 'rand' uniformly distributed in the range: 0 \u2264 rand < 1;", 5], ["-", 2, "2>\tif 'rand' is lower than the value indicated by uac-BarringFactor included in \"UAC barring parameter\":", 6], ["", 3, "3>\tconsider the access attempt as allowed;", 7], ["-", 2, "2>\telse:", 8], ["", 3, "3>\tconsider the access attempt as barred;", 9], ["-", 1, "1>\tif the access attempt is considered as barred:", 10], ["", 2, "2>\tdraw a random number 'rand' that is uniformly distributed in the range 0 \u2264 rand < 1;", 11], ["", 2, "2>\tstart timer T390 for the Access Category with the timer value calculated as follows, using the uac-BarringTime included in \"AC barring parameter\":", 12], ["", 0, "T390 = (0.7+ 0.6 * rand) * uac-BarringTime.", 13]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.14\tUnified Access Control\n5.3.14.5\tAccess barring check"}, {"id": "5.3.15", "name": "RRC connection reject", "headline": "5.3.15\tRRC connection reject", "aoa": [], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.15\tRRC connection reject"}, {"id": "5.3.15.1", "name": "Initiation", "headline": "5.3.15.1\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.15\tRRC connection reject\n5.3.15.1\tInitiation", ""], ["", 0, "The UE initiates the procedure upon the reception of RRCReject when the UE tries to establish or resume an RRC connection.", 0]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.15\tRRC connection reject\n5.3.15.1\tInitiation"}, {"id": "5.3.15.2", "name": "Reception of the RRCReject by the UE", "headline": "5.3.15.2\tReception of the RRCReject by the UE", "aoa": [["-", -1, "5\t Procedures\n5.3\tConnection control\n5.3.15\tRRC connection reject\n5.3.15.2\tReception of the RRCReject by the UE", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tstop timer T300, if running;", 1], ["", 1, "1>\tstop timer T319, if running;", 2], ["", 1, "1>\tstop timer T302, if running;", 3], ["", 1, "1>\treset MAC and release the default MAC Cell Group configuration;", 4], ["-", 1, "1>\tif waitTime is configured in the RRCReject:", 5], ["", 2, "2>\tstart timer T302, with the timer value set to the waitTime;", 6], ["-", 1, "1>\tif RRCReject is received in response to a request from upper layers:", 7], ["", 2, "2>\tinform the upper layer that access barring is applicable for all access categories except categories '0' and '2';", 8], ["-", 1, "1>\tif RRCReject is received in response to an RRCSetupRequest:", 9], ["", 2, "2>\tinform upper layers about the failure to setup the RRC connection, upon which the procedure ends;", 10], ["-", 1, "1>\telse if RRCReject is received in response to an RRCResumeRequest or an RRCResumeRequest1:", 11], ["-", 2, "2>\tif resume is triggered by upper layers:", 12], ["", 3, "3>\tinform upper layers about the failure to resume the RRC connection;", 13], ["-", 2, "2>\tif resume is triggered due to an RNA update:", 14], ["", 3, "3>\tset the variable pendingRNA-Update to true;", 15], ["", 2, "2>\tdiscard the current KgNB key, the KRRCenc key, the KRRCint key, the KUPint key and the KUPenc key derived in accordance with <a href=\"#5.3.13.3\">5.3.13.3</a>;", 16], ["", 2, "2>\tsuspend SRB1, upon which the procedure ends;", 17], ["", 0, "The RRC_INACTIVE UE shall continue to monitor paging while the timer T302 is running.\nNOTE:\tIf configured, the UE continues to perform idle/inactive measurements while the timer T331 is running.", 18]], "desc": "5\t Procedures\n5.3\tConnection control\n5.3.15\tRRC connection reject\n5.3.15.2\tReception of the RRCReject by the UE"}, {"id": "5.4", "name": "Inter-RAT mobility", "headline": "5.4\tInter-RAT mobility", "aoa": [], "desc": "5\t Procedures\n5.4\tInter-RAT mobility"}, {"id": "5.4.1", "name": "Introduction", "headline": "5.4.1\tIntroduction", "aoa": [["-", -1, "5\t Procedures\n5.4\tInter-RAT mobility\n5.4.1\tIntroduction", ""], ["", 0, "Network controlled inter-RAT mobility between NR and E-UTRA is supported, where E-UTRA can be connected to either EPC or 5GC.", 0]], "desc": "5\t Procedures\n5.4\tInter-RAT mobility\n5.4.1\tIntroduction"}, {"id": "5.4.2", "name": "Handover to NR", "headline": "5.4.2\tHandover to NR", "aoa": [], "desc": "5\t Procedures\n5.4\tInter-RAT mobility\n5.4.2\tHandover to NR"}, {"id": "5.4.2.1", "name": "General", "headline": "5.4.2.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.4\tInter-RAT mobility\n5.4.2\tHandover to NR\n5.4.2.1\tGeneral", ""], ["", 0, "Figure 5.4.2.1-1: Handover to NR, successful", 0], ["", 0, "The purpose of this procedure is to, under the control of the network, transfer a connection between the UE and another Radio Access Network (e.g. E-UTRAN) to NR.", 1], ["", 0, "The handover to NR procedure applies when SRBs, possibly in combination with DRBs, are established in another RAT. Handover from E-UTRA to NR applies only after integrity has been activated in E-UTRA.", 2]], "desc": "5\t Procedures\n5.4\tInter-RAT mobility\n5.4.2\tHandover to NR\n5.4.2.1\tGeneral"}, {"id": "5.4.2.2", "name": "Initiation", "headline": "5.4.2.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.4\tInter-RAT mobility\n5.4.2\tHandover to NR\n5.4.2.2\tInitiation", ""], ["", 0, "The RAN using another RAT initiates the handover to NR procedure, in accordance with the specifications applicable for the other RAT, by sending the RRCReconfiguration message via the radio access technology from which the inter-RAT handover is performed.", 0], ["", 0, "The network applies the procedure as follows:\n-\tto activate ciphering, possibly using NULL algorithm, if not yet activated in the other RAT;\n-\tto re-establish SRBs and one or more DRBs;", 1]], "desc": "5\t Procedures\n5.4\tInter-RAT mobility\n5.4.2\tHandover to NR\n5.4.2.2\tInitiation"}, {"id": "5.4.2.3", "name": "Reception of the RRCReconfiguration by the UE", "headline": "5.4.2.3\tReception of the RRCReconfiguration by the UE", "aoa": [["-", -1, "5\t Procedures\n5.4\tInter-RAT mobility\n5.4.2\tHandover to NR\n5.4.2.3\tReception of the RRCReconfiguration by the UE", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tapply the default L1 parameter values as specified in corresponding physical layer specifications except for the parameters for which values are provided in SIB1;", 1], ["", 1, "1>\tapply the default MAC Cell Group configuration as specified in 9.2.2;", 2], ["", 1, "1>\tperform RRC reconfiguration procedure as specified in 5.3.5;\nNOTE:\tIf the UE is connected to 5GC of the source E-UTRA cell, the delta configuration for PDCP and SDAP can be used for intra-system inter-RAT handover. For other cases, source RAT configuration is not considered when the UE applies the reconfiguration message of target RAT.", 3]], "desc": "5\t Procedures\n5.4\tInter-RAT mobility\n5.4.2\tHandover to NR\n5.4.2.3\tReception of the RRCReconfiguration by the UE"}, {"id": "5.4.3", "name": "Mobility from NR", "headline": "5.4.3\tMobility from NR", "aoa": [], "desc": "5\t Procedures\n5.4\tInter-RAT mobility\n5.4.3\tMobility from NR"}, {"id": "5.4.3.1", "name": "General", "headline": "5.4.3.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.4\tInter-RAT mobility\n5.4.3\tMobility from NR\n5.4.3.1\tGeneral", ""], ["", 0, "Figure 5.4.3.1-1: Mobility from NR, successful", 0], ["", 0, "Figure 5.4.3.1-2: Mobility from NR, failure", 1], ["", 0, "The purpose of this procedure is to move a UE in RRC_CONNECTED to a cell using other RAT, e.g. E-UTRA, UTRA-FDD. The mobility from NR procedure covers the following type of mobility:\n-\thandover, i.e. the MobilityFromNRCommand message includes radio resources that have been allocated for the UE in the target cell;", 2]], "desc": "5\t Procedures\n5.4\tInter-RAT mobility\n5.4.3\tMobility from NR\n5.4.3.1\tGeneral"}, {"id": "5.4.3.2", "name": "Initiation", "headline": "5.4.3.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.4\tInter-RAT mobility\n5.4.3\tMobility from NR\n5.4.3.2\tInitiation", ""], ["", 0, "The network initiates the mobility from NR procedure to a UE in RRC_CONNECTED, possibly in response to a MeasurementReport message, by sending a MobilityFromNRCommand message. The network applies the procedure as follows:\n-\tthe procedure is initiated only when AS security has been activated, and SRB2 with at least one DRB are setup and not suspended.", 0]], "desc": "5\t Procedures\n5.4\tInter-RAT mobility\n5.4.3\tMobility from NR\n5.4.3.2\tInitiation"}, {"id": "5.4.3.3", "name": "Reception of the MobilityFromNRCommand by the UE", "headline": "5.4.3.3\tReception of the MobilityFromNRCommand by the UE", "aoa": [["-", -1, "5\t Procedures\n5.4\tInter-RAT mobility\n5.4.3\tMobility from NR\n5.4.3.3\tReception of the MobilityFromNRCommand by the UE", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif T390 is running:", 1], ["", 2, "2>\tstop timer T390 for all access categories;", 2], ["", 2, "2>\tperform the actions as specified in <a href=\"#5.3.14.4\">5.3.14.4</a>;", 3], ["-", 1, "1>\tif the targetRAT-Type is set to eutra:", 4], ["", 2, "2>\tconsider inter-RAT mobility as initiated towards E-UTRA;", 5], ["", 2, "2>\tforward the nas-SecurityParamFromNR to the upper layers, if included;", 6], ["-", 1, "1>\telse if the targetRAT-Type is set to utra-fdd:", 7], ["", 2, "2>\tconsider inter-RAT mobility as initiated towards UTRA-FDD;", 8], ["", 2, "2>\tforward the nas-SecurityParamFromNR to the upper layers, if included;", 9], ["", 1, "1>\taccess the target cell indicated in the inter-RAT message in accordance with the specifications of the target RAT.", 10]], "desc": "5\t Procedures\n5.4\tInter-RAT mobility\n5.4.3\tMobility from NR\n5.4.3.3\tReception of the MobilityFromNRCommand by the UE"}, {"id": "5.4.3.4", "name": "Successful completion of the mobility from NR", "headline": "5.4.3.4\tSuccessful completion of the mobility from NR", "aoa": [["-", -1, "5\t Procedures\n5.4\tInter-RAT mobility\n5.4.3\tMobility from NR\n5.4.3.4\tSuccessful completion of the mobility from NR", ""], ["-", 0, "Upon successfully completing the handover, at the source side the UE shall:", 0], ["", 1, "1>\treset MAC;", 1], ["", 1, "1>\tstop all timers that are running;", 2], ["", 1, "1>\trelease ran-NotificationAreaInfo, if stored;", 3], ["", 1, "1>\trelease the AS security context including the KRRCenc key, the KRRCint key, the KUPint key and the KUPenc key, if stored;", 4], ["", 1, "1>\trelease all radio resources, including release of the RLC entity and the MAC configuration;", 5], ["", 1, "1>\trelease the associated PDCP entity and SDAP entity for all established RBs;\nNOTE :\tPDCP and SDAP configured by the source RAT prior to the handover that are reconfigured and re-used by target RAT when delta signalling (i.e., during inter-RAT intra-system handover when fullConfig is not present) is used, are not released as part of this procedure.", 6], ["-", 1, "1>\tif the targetRAT-Type is set to eutra and the nas-SecurityParamFromNR is included:", 7], ["", 2, "2>\tindicate the release of the RRC connection to upper layers together with the release cause 'other'.", 8]], "desc": "5\t Procedures\n5.4\tInter-RAT mobility\n5.4.3\tMobility from NR\n5.4.3.4\tSuccessful completion of the mobility from NR"}, {"id": "5.4.3.5", "name": "Mobility from NR failure", "headline": "5.4.3.5\tMobility from NR failure", "aoa": [["-", -1, "5\t Procedures\n5.4\tInter-RAT mobility\n5.4.3\tMobility from NR\n5.4.3.5\tMobility from NR failure", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif the UE does not succeed in establishing the connection to the target radio access technology:", 1], ["-", 2, "2>\tif voiceFallbackIndication is included in the MobilityFromNRCommand message:", 2], ["-", 3, "3>\tattempt to select an E-UTRA cell:", 3], ["-", 4, "4>\tif a suitable E-UTRA cell is selected:", 4], ["", 5, "5>\tperform the actions upon going to RRC_IDLE as specified in 5.3.11, with release cause 'RRC connection failure';", 5], ["-", 4, "4>\telse:", 6], ["", 5, "5>\trevert back to the configuration used in the source PCell;", 7], ["", 5, "5>\tinitiate the connection re-establishment procedure as specified in subclause 5.3.7;", 8], ["-", 2, "2>\telse:", 9], ["", 3, "3>\trevert back to the configuration used in the source PCell;", 10], ["", 3, "3>\tinitiate the connection re-establishment procedure as specified in subclause 5.3.7;", 11], ["", 1, "1>\telse if the UE is unable to comply with any part of the configuration included in the MobilityFromNRCommand message; or", 12], ["-", 1, "1>\tif there is a protocol error in the inter RAT information included in the MobilityFromNRCommand message, causing the UE to fail the procedure according to the specifications applicable for the target RAT:", 13], ["", 2, "2>\trevert back to the configuration used in the source PCell;", 14], ["", 2, "2>\tinitiate the connection re-establishment procedure as specified in subclause 5.3.7.", 15]], "desc": "5\t Procedures\n5.4\tInter-RAT mobility\n5.4.3\tMobility from NR\n5.4.3.5\tMobility from NR failure"}, {"id": "5.5", "name": "Measurements", "headline": "5.5\tMeasurements", "aoa": [], "desc": "5\t Procedures\n5.5\tMeasurements"}, {"id": "5.5.1", "name": "Introduction", "headline": "5.5.1\tIntroduction", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.1\tIntroduction", ""], ["", 0, "The network may configure an RRC_CONNECTED UE to perform measurements. The network may configure the UE to report them in accordance with the measurement configuration or perform conditional configuration evaluation in accordance with the conditional configuration. The measurement configuration is provided by means of dedicated signalling i.e. using the RRCReconfiguration or RRCResume.", 0], ["", 0, "The network may configure the UE to perform the following types of measurements:\n-\tNR measurements;\n-\tInter-RAT measurements of E-UTRA frequencies.\n-\tInter-RAT measurements of UTRA-FDD frequencies.", 1], ["", 0, "The network may configure the UE to report the following measurement information based on SS/PBCH block(s):\n-\tMeasurement results per SS/PBCH block;\n-\tMeasurement results per cell based on SS/PBCH block(s);\n-\tSS/PBCH block(s) indexes.", 2], ["", 0, "The network may configure the UE to report the following measurement information based on CSI-RS resources:\n-\tMeasurement results per CSI-RS resource;\n-\tMeasurement results per cell based on CSI-RS resource(s);\n-\tCSI-RS resource measurement identifiers.", 3], ["", 0, "The network may configure the UE to perform the following types of measurements for sidelink:\n-\tCBR measurements.", 4], ["", 0, "The network may configure the UE to report the following measurement information based on SRS resources:\n-\tMeasurement results per SRS resource;\n-\tSRS resource(s) indexes.", 5], ["", 0, "The network may configure the UE to report the following measurement information based on CLI-RSSI resources:\n-\tMeasurement results per CLI-RSSI resource;\n-\tCLI-RSSI resource(s) indexes.", 6], ["", 0, "The measurement configuration includes the following parameters:\n1.\tMeasurement objects: A list of objects on which the UE shall perform the measurements.\n-\tFor intra-frequency and inter-frequency measurements a measurement object indicates the frequency/time location and subcarrier spacing of reference signals to be measured. Associated with this measurement object, the network may configure a list of cell specific offsets, a list of 'blacklisted' cells and a list of 'whitelisted' cells. Blacklisted cells are not applicable in event evaluation or measurement reporting. Whitelisted cells are the only ones applicable in event evaluation or measurement reporting.\n-\tThe measObjectId of the MO which corresponds to each serving cell is indicated by servingCellMO within the serving cell configuration.\n-\tFor inter-RAT E-UTRA measurements a measurement object is a single E-UTRA carrier frequency. Associated with this E-UTRA carrier frequency, the network can configure a list of cell specific offsets, a list of 'blacklisted' cells and a list of 'whitelisted' cells. Blacklisted cells are not applicable in event evaluation or measurement reporting. Whitelisted cells are the only ones applicable in event evaluation or measurement reporting.\n-\tFor inter-RAT UTRA-FDD measurements a measurement object is a set of cells on a single UTRA-FDD carrier frequency.\n-\tFor CBR measurement of NR sidelink communication, a measurement object is a set of transmission resource pool(s) on a single carrier frequency for NR sidelink communication.\n-\tFor CBR measurement of V2X sidelink communication, a measurement object is a set of transmission resource pool(s) on a carrier frequency for V2X sidelink communication.\n-\tFor CLI measurements a measurement object indicates the frequency/time location of SRS resources and/or CLI-RSSI resources, and subcarrier spacing of SRS resources to be measured.\n2.\tReporting configurations: A list of reporting configurations where there can be one or multiple reporting configurations per measurement object. Each measurement reporting configuration consists of the following:\n-\tReporting criterion: The criterion that triggers the UE to send a measurement report. This can either be periodical or a single event description.\n-\tRS type: The RS that the UE uses for beam and cell measurement results (SS/PBCH block or CSI-RS).\n-\tReporting format: The quantities per cell and per beam that the UE includes in the measurement report (e.g. RSRP) and other associated information such as the maximum number of cells and the maximum number beams per cell to report.", 7], ["", 0, "In case of conditional configuration triggering configuration, each configuration consists of the following:\n-\tExecution criteria: The criteria that triggers the UE to perform conditional configuration execution.\n-\tRS type: The RS that the UE uses for beam and cell measurement results (SS/PBCH block or CSI-RS) for conditional configuration execution condition.\n3.\tMeasurement identities: For measurement reporting, a list of measurement identities where each measurement identity links one measurement object with one reporting configuration. By configuring multiple measurement identities, it is possible to link more than one measurement object to the same reporting configuration, as well as to link more than one reporting configuration to the same measurement object. The measurement identity is also included in the measurement report that triggered the reporting, serving as a reference to the network. For conditional configuration triggering, one measurement identity links to exactly one conditional configuration trigger configuration. And up to 2 measurement identities can be linked to one conditional configuration execution condition.\n4.\tQuantity configurations: The quantity configuration defines the measurement filtering configuration used for all event evaluation and related reporting, and for periodical reporting of that measurement. For NR measurements, the network may configure up to 2 quantity configurations with a reference in the NR measurement object to the configuration that is to be used. In each configuration, different filter coefficients can be configured for different measurement quantities, for different RS types, and for measurements per cell and per beam.\n5.\tMeasurement gaps: Periods that the UE may use to perform measurements.", 8], ["", 0, "A UE in RRC_CONNECTED maintains a measurement object list, a reporting configuration list, and a measurement identities list according to signalling and procedures in this specification. The measurement object list possibly includes NR measurement object(s) , CLI measurement object(s) and inter-RAT objects. Similarly, the reporting configuration list includes NR and inter-RAT reporting configurations. Any measurement object can be linked to any reporting configuration of the same RAT type. Some reporting configurations may not be linked to a measurement object. Likewise, some measurement objects may not be linked to a reporting configuration.", 9], ["", 0, "The measurement procedures distinguish the following types of cells:\n1.\tThe NR serving cell(s) - these are the SpCell and one or more SCells.\n2.\tListed cells - these are cells listed within the measurement object(s).\n3.\tDetected cells - these are cells that are not listed within the measurement object(s) but are detected by the UE on the SSB frequency(ies) and subcarrier spacing(s) indicated by the measurement object(s).", 10], ["", 0, "For NR measurement object(s), the UE measures and reports on the serving cell(s), listed cells and/or detected cells. For inter-RAT measurements object(s) of E-UTRA, the UE measures and reports on listed cells and detected cells and, for RSSI and channel occupancy measurements, the UE measures and reports on any reception on the indicated frequency. For inter-RAT measurements object(s) of UTRA-FDD, the UE measures and reports on listed cells. For CLI measurement object(s), the UE measures and reports on configured CLI measurement resources (i.e. SRS resources and/or CLI-RSSI resources).", 11], ["", 0, "Whenever the procedural specification, other than contained in sub-clause 5.5.2, refers to a field it concerns a field included in the VarMeasConfig unless explicitly stated otherwise i.e. only the measurement configuration procedure covers the direct UE action related to the received measConfig.", 12], ["", 0, "In NR-DC, the UE may receive two independent measConfig:\n-\ta measConfig, associated with MCG, that is included in the RRCReconfiguration message received via SRB1; and\n-\ta measConfig, associated with SCG, that is included in the RRCReconfiguration message received via SRB3, or, alternatively, included within a RRCReconfiguration message embedded in a RRCReconfiguration message received via SRB1.", 13], ["", 0, "The configurations related to CBR measurments are only included in the measConfig associated with MCG.", 14], ["", 0, "In this case, the UE maintains two independent VarMeasConfig and VarMeasReportList, one associated with each measConfig, and independently performs all the procedures in clause 5.5 for each measConfig and the associated VarMeasConfig and VarMeasReportList, unless explicitly stated otherwise.", 15]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.1\tIntroduction"}, {"id": "5.5.2", "name": "Measurement configuration", "headline": "5.5.2\tMeasurement configuration", "aoa": [], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration"}, {"id": "5.5.2.1", "name": "General", "headline": "5.5.2.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.1\tGeneral", ""], ["", 0, "The network applies the procedure as follows:\n-\tto ensure that, whenever the UE has a measConfig associated with a CG, it includes a measObject for the SpCell and for each NR SCell of the CG to be measured;\n-\tto configure at most one measurement identity across all CGs using a reporting configuration with the reportType set to reportCGI;\n-\tto configure at most one measurement identity per CG using a reporting configuration with the ul-DelayValueConfig;\n-\tto ensure that, in the measConfig associated with a CG:\n-\tfor all SSB based measurements there is at most one measurement object with the same ssbFrequency;\n-\tan smtc1 included in any measurement object with the same ssbFrequency has the same value and that an smtc2 included in any measurement object with the same ssbFrequency has the same value;\n-\tto ensure that all measurement objects configured in this specification and in TS 36.331 [10] with the same ssbFrequency have the same ssbSubcarrierSpacing;\n-\tto ensure that, if a measurement object associated with the MCG has the same ssbFrequency as a measurement object associated with the SCG:\n-\tfor that ssbFrequency, the measurement window according to the smtc1 configured by the MCG includes the measurement window according to the smtc1 configured by the SCG, or vice-versa, with an accuracy of the maximum receive timing difference specified in TS 38.133 [14].\n-\tif both measurement objects are used for RSSI measurements, bits in measurementSlots in both objects corresponding to the same slot are set to the same value. Also, the endSymbol is the same in both objects.\n-\tto ensure that, if a measurement object has the same ssbFrequency as a measurement object configured in TS 36.331 [10]:\n-\tfor that ssbFrequency, the measurement window according to the smtc configured in TS 36.331 [10] includes the measurement window according to the smtc1 configured in TS 38.331, or vice-versa, with an accuracy of the maximum receive timing difference specified in TS 38.133 [14].\n-\tif both measurement objects are used for RSSI measurements, bits in measurementSlots in both objects corresponding to the same slot are set to the same value. Also, the endSymbol is the same in both objects.\n-\twhen the UE is in NE-DC, NR-DC, or NR standalone, to configure at most one measurement identity across all CGs using a reporting configuration with the reportType set to reportSFTD;", 0], ["", 0, "For CSI-RS resources, the network applies the procedure as follows:\n-\tto ensure that all CSI-RS resources configured in each measurement object have the same center frequency, (startPRB+floor(nrofPRBs/2))", 1], ["-", 0, "The UE shall:", 2], ["-", 1, "1>\tif the received measConfig includes the measObjectToRemoveList:", 3], ["", 2, "2>\tperform the measurement object removal procedure as specified in <a href=\"#5.5.2.4\">5.5.2.4</a>;", 4], ["-", 1, "1>\tif the received measConfig includes the measObjectToAddModList:", 5], ["", 2, "2>\tperform the measurement object addition/modification procedure as specified in <a href=\"#5.5.2.5\">5.5.2.5</a>;", 6], ["-", 1, "1>\tif the received measConfig includes the reportConfigToRemoveList:", 7], ["", 2, "2>\tperform the reporting configuration removal procedure as specified in <a href=\"#5.5.2.6\">5.5.2.6</a>;", 8], ["-", 1, "1>\tif the received measConfig includes the reportConfigToAddModList:", 9], ["", 2, "2>\tperform the reporting configuration addition/modification procedure as specified in <a href=\"#5.5.2.7\">5.5.2.7</a>;", 10], ["-", 1, "1>\tif the received measConfig includes the quantityConfig:", 11], ["", 2, "2>\tperform the quantity configuration procedure as specified in <a href=\"#5.5.2.8\">5.5.2.8</a>;", 12], ["-", 1, "1>\tif the received measConfig includes the measIdToRemoveList:", 13], ["", 2, "2>\tperform the measurement identity removal procedure as specified in <a href=\"#5.5.2.2\">5.5.2.2</a>;", 14], ["-", 1, "1>\tif the received measConfig includes the measIdToAddModList:", 15], ["", 2, "2>\tperform the measurement identity addition/modification procedure as specified in <a href=\"#5.5.2.3\">5.5.2.3</a>;", 16], ["-", 1, "1>\tif the received measConfig includes the measGapConfig:", 17], ["", 2, "2>\tperform the measurement gap configuration procedure as specified in <a href=\"#5.5.2.9\">5.5.2.9</a>;", 18], ["-", 1, "1>\tif the received measConfig includes the measGapSharingConfig:", 19], ["", 2, "2>\tperform the measurement gap sharing configuration procedure as specified in <a href=\"#5.5.2.11\">5.5.2.11</a>;", 20], ["-", 1, "1>\tif the received measConfig includes the s-MeasureConfig:", 21], ["", 2, "2>\tif s-MeasureConfig is set to ssb-RSRP, set parameter ssb-RSRP of s-MeasureConfig within VarMeasConfig to the lowest value of the RSRP ranges indicated by the received value of s-MeasureConfig;", 22], ["", 2, "2>\telse, set parameter csi-RSRP of s-MeasureConfig within VarMeasConfig to the lowest value of the RSRP ranges indicated by the received value of s-MeasureConfig.", 23]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.1\tGeneral"}, {"id": "5.5.2.2", "name": "Measurement identity removal", "headline": "5.5.2.2\tMeasurement identity removal", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.2\tMeasurement identity removal", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tfor each measId included in the received measIdToRemoveList that is part of the current UE configuration in VarMeasConfig:", 1], ["", 2, "2>\tremove the entry with the matching measId from the measIdList within the VarMeasConfig;", 2], ["", 2, "2>\tremove the measurement reporting entry for this measId from the VarMeasReportList, if included;", 3], ["", 2, "2>\tstop the periodical reporting timer or timer T321 or timer T322, whichever one is running, and reset the associated information (e.g. timeToTrigger) for this measId.\nNOTE:\tThe UE does not consider the message as erroneous if the measIdToRemoveList includes any measId value that is not part of the current UE configuration.", 4]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.2\tMeasurement identity removal"}, {"id": "5.5.2.3", "name": "Measurement identity addition/modification", "headline": "5.5.2.3\tMeasurement identity addition/modification", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.3\tMeasurement identity addition/modification", ""], ["", 0, "The network applies the procedure as follows:\n-\tconfigure a measId only if the corresponding measurement object, the corresponding reporting configuration and the corresponding quantity configuration, are configured.", 0], ["-", 0, "The UE shall:", 1], ["-", 1, "1>\tfor each measId included in the received measIdToAddModList:", 2], ["-", 2, "2>\tif an entry with the matching measId exists in the measIdList within the VarMeasConfig:", 3], ["", 3, "3>\treplace the entry with the value received for this measId;", 4], ["-", 2, "2>\telse:", 5], ["", 3, "3>\tadd a new entry for this measId within the VarMeasConfig;", 6], ["", 2, "2>\tremove the measurement reporting entry for this measId from the VarMeasReportList, if included;", 7], ["", 2, "2>\tstop the periodical reporting timer or timer T321 or timer T322, whichever one is running, and reset the associated information (e.g. timeToTrigger) for this measId;", 8], ["-", 2, "2>\tif the reportType is set to reportCGI in the reportConfig associated with this measId:", 9], ["-", 3, "3>\tif the measObject associated with this measId concerns E-UTRA:", 10], ["-", 4, "4>\tif the useAutonomousGaps is included in the reportConfig associated with this measId:", 11], ["", 5, "5>\tstart timer T321 with the timer value set to [FFS] for this measId;", 12], ["-", 4, "4>\telse:", 13], ["", 5, "5>\tstart timer T321 with the timer value set to 1 second for this measId;", 14], ["-", 3, "3>\tif the measObject associated with this measId concerns NR:", 15], ["-", 4, "4>\tif the measObject associated with this measId concerns FR1:", 16], ["-", 5, "5>\tif the useAutonomousGaps is included in the reportConfig associated with this measId:", 17], ["", 6, "6>\tstart timer T321 with the timer value set to [FFS] for this measId;", 18], ["-", 5, "5>\telse:", 19], ["", 6, "6>\tstart timer T321 with the timer value set to 2 seconds for this measId;", 20], ["-", 4, "4>\tif the measObject associated with this measId concerns FR2:", 21], ["-", 5, "5>\tif the useAutonomousGaps is included in the reportConfig associated with this measId:", 22], ["", 6, "6>\tstart timer T321 with the timer value set to [FFS] for this measId;", 23], ["-", 5, "5>\telse:", 24], ["", 6, "6>\tstart timer T321 with the timer value set to 16 seconds for this measId.", 25], ["-", 2, "2>\tif the reportType is set to reportSFTD in the reportConfigNR associated with this measId and the drx-SFTD-NeighMeas is included:", 26], ["-", 3, "3>\tif the measObject associated with this measId concerns FR1:", 27], ["", 4, "4>\tstart timer T322 with the timer value set to 3 seconds for this measId;", 28], ["-", 3, "3>\tif the measObject associated with this measId concerns FR2:", 29], ["", 4, "4>\tstart timer T322 with the timer value set to 24 seconds for this measId.", 30]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.3\tMeasurement identity addition/modification"}, {"id": "5.5.2.4", "name": "Measurement object removal", "headline": "5.5.2.4\tMeasurement object removal", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.4\tMeasurement object removal", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tfor each measObjectId included in the received measObjectToRemoveList that is part of measObjectList in VarMeasConfig:", 1], ["", 2, "2>\tremove the entry with the matching measObjectId from the measObjectList within the VarMeasConfig;", 2], ["", 2, "2>\tremove all measId associated with this measObjectId from the measIdList within the VarMeasConfig, if any;", 3], ["-", 2, "2>\tif a measId is removed from the measIdList:", 4], ["", 3, "3>\tremove the measurement reporting entry for this measId from the VarMeasReportList, if included;", 5], ["", 3, "3>\tstop the periodical reporting timer or timer T321 or timer T322, whichever is running, and reset the associated information (e.g. timeToTrigger) for this measId.\nNOTE:\tThe UE does not consider the message as erroneous if the measObjectToRemoveList includes any measObjectId value that is not part of the current UE configuration.", 6]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.4\tMeasurement object removal"}, {"id": "5.5.2.5", "name": "Measurement object addition/modification", "headline": "5.5.2.5\tMeasurement object addition/modification", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.5\tMeasurement object addition/modification", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tfor each measObjectId included in the received measObjectToAddModList:", 1], ["-", 2, "2>\tif an entry with the matching measObjectId exists in the measObjectList within the VarMeasConfig, for this entry:", 2], ["", 3, "3>\treconfigure the entry with the value received for this measObject, except for the fields cellsToAddModList, blackCellsToAddModList, whiteCellsToAddModList, cellsToRemoveList, blackCellsToRemoveList and whiteCellsToRemoveList;", 3], ["-", 3, "3>\tif the received measObject includes the cellsToRemoveList:", 4], ["-", 4, "4>\tfor each physCellId included in the cellsToRemoveList:", 5], ["", 5, "5>\tremove the entry with the matching physCellId from the cellsToAddModList;", 6], ["-", 3, "3>\tif the received measObject includes the cellsToAddModList:", 7], ["-", 4, "4>\tfor each physCellId value included in the cellsToAddModList:", 8], ["-", 5, "5>\tif an entry with the matching physCellId exists in the cellsToAddModList:", 9], ["", 6, "6>\treplace the entry with the value received for this physCellId;", 10], ["-", 5, "5>\telse:", 11], ["", 6, "6>\tadd a new entry for the received physCellId to the cellsToAddModList;", 12], ["-", 3, "3>\tif the received measObject includes the blackCellsToRemoveList:", 13], ["-", 4, "4>\tfor each pci-RangeIndex included in the blackCellsToRemoveList:", 14], ["", 5, "5>\tremove the entry with the matching pci-RangeIndex from the blackCellsToAddModList;\nNOTE 1:\tFor each pci-RangeIndex included in the blackCellsToRemoveList that concerns overlapping ranges of cells, a cell is removed from the blacklist of cells only if all PCI ranges containing it are removed.", 15], ["-", 3, "3>\tif the received measObject includes the blackCellsToAddModList:", 16], ["-", 4, "4>\tfor each pci-RangeIndex included in the blackCellsToAddModList:", 17], ["-", 5, "5>\tif an entry with the matching pci-RangeIndex is included in the blackCellsToAddModList:", 18], ["", 6, "6>\treplace the entry with the value received for this pci-RangeIndex;", 19], ["-", 5, "5>\telse:", 20], ["", 6, "6>\tadd a new entry for the received pci-RangeIndex to the blackCellsToAddModList;", 21], ["-", 3, "3>\tif the received measObject includes the whiteCellsToRemoveList:", 22], ["-", 4, "4>\tfor each pci-RangeIndex included in the whiteCellsToRemoveList:", 23], ["", 5, "5>\tremove the entry with the matching pci-RangeIndex from the whiteCellsToAddModList;\nNOTE2:\tFor each pci-RangeIndex included in the whiteCellsToRemoveList that concerns overlapping ranges of cells, a cell is removed from the whitelist of cells only if all PCI ranges containing it are removed.", 24], ["-", 3, "3>\tif the received measObject includes the whiteCellsToAddModList:", 25], ["-", 4, "4>\tfor each pci-RangeIndex included in the whiteCellsToAddModList:", 26], ["-", 5, "5>\tif an entry with the matching pci-RangeIndex is included in the whiteCellsToAddModList:", 27], ["", 6, "6>\treplace the entry with the value received for this pci-RangeIndex;", 28], ["-", 5, "5>\telse:", 29], ["", 6, "6>\tadd a new entry for the received pci-RangeIndex to the whiteCellsToAddModList", 30], ["-", 3, "3>\tfor each measId associated with this measObjectId in the measIdList within the VarMeasConfig, if any:", 31], ["", 4, "4>\tremove the measurement reporting entry for this measId from the VarMeasReportList, if included;", 32], ["", 4, "4>\tstop the periodical reporting timer or timer T321 or timer T322, whichever one is running, and reset the associated information (e.g. timeToTrigger) for this measId;", 33], ["-", 3, "3>\tif the received measObject includes the tx-PoolMeasToRemoveList (for NR sidelink communication):", 34], ["-", 4, "4>\tfor each transmission resource pool indicated in tx-PoolMeasToRemoveList:", 35], ["", 5, "5>\tremove the entry with the matching identity of the transmission resource pool from the tx-PoolMeasToAddModList;", 36], ["-", 3, "3>\tif the received measObject includes the tx-PoolMeasToAddModList (for NR sidelink communication):", 37], ["-", 4, "4>\tfor each transmission resource pool indicated in tx-PoolMeasToAddModList:", 38], ["-", 5, "5>\tif an entry with the matching identity of the transmission resource pool exists in the tx-PoolMeasToAddModList:", 39], ["", 6, "6>\treplace the entry with the value received for this transmission resource pool;", 40], ["-", 5, "5>\telse:", 41], ["", 6, "6>\tadd a new entry for the received identity of the transmission resource pool to the tx-PoolMeasToAddModList;", 42], ["-", 2, "2>\telse:", 43], ["", 3, "3>\tadd a new entry for the received measObject to the measObjectList within VarMeasConfig.", 44]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.5\tMeasurement object addition/modification"}, {"id": "5.5.2.6", "name": "Reporting configuration removal", "headline": "5.5.2.6\tReporting configuration removal", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.6\tReporting configuration removal", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tfor each reportConfigId included in the received reportConfigToRemoveList that is part of the current UE configuration in VarMeasConfig:", 1], ["", 2, "2>\tremove the entry with the matching reportConfigId from the reportConfigList within the VarMeasConfig;", 2], ["", 2, "2>\tremove all measId associated with the reportConfigId from the measIdList within the VarMeasConfig, if any;", 3], ["-", 2, "2>\tif a measId is removed from the measIdList:", 4], ["", 3, "3>\tremove the measurement reporting entry for this measId from the VarMeasReportList, if included;", 5], ["", 3, "3>\tstop the periodical reporting timer or timer T321 or timer T322, whichever one is running, and reset the associated information (e.g. timeToTrigger) for this measId.\nNOTE:\tThe UE does not consider the message as erroneous if the reportConfigToRemoveList includes any reportConfigId value that is not part of the current UE configuration.", 6]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.6\tReporting configuration removal"}, {"id": "5.5.2.7", "name": "Reporting configuration addition/modification", "headline": "5.5.2.7\tReporting configuration addition/modification", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.7\tReporting configuration addition/modification", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tfor each reportConfigId included in the received reportConfigToAddModList:", 1], ["-", 2, "2>\tif an entry with the matching reportConfigId exists in the reportConfigList within the VarMeasConfig, for this entry:", 2], ["", 3, "3>\treconfigure the entry with the value received for this reportConfig;", 3], ["-", 3, "3>\tfor each measId associated with this reportConfigId included in the measIdList within the VarMeasConfig, if any:", 4], ["", 4, "4>\tremove the measurement reporting entry for this measId from the VarMeasReportList, if included;", 5], ["", 4, "4>\tstop the periodical reporting timer or timer T321 or timer T322, whichever one is running, and reset the associated information (e.g. timeToTrigger) for this measId;", 6], ["-", 2, "2>\telse:", 7], ["", 3, "3>\tadd a new entry for the received reportConfig to the reportConfigList within the VarMeasConfig.", 8]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.7\tReporting configuration addition/modification"}, {"id": "5.5.2.8", "name": "Quantity configuration", "headline": "5.5.2.8\tQuantity configuration", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.8\tQuantity configuration", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tfor each RAT for which the received quantityConfig includes parameter(s):", 1], ["", 2, "2>\tset the corresponding parameter(s) in quantityConfig within VarMeasConfig to the value of the received quantityConfig parameter(s);", 2], ["-", 1, "1>\tfor each measId included in the measIdList within VarMeasConfig:", 3], ["", 2, "2>\tremove the measurement reporting entry for this measId from the VarMeasReportList, if included;", 4], ["", 2, "2>\tstop the periodical reporting timer or timer T321 or timer T322, whichever one is running, and reset the associated information (e.g. timeToTrigger) for this measId.", 5]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.8\tQuantity configuration"}, {"id": "5.5.2.9", "name": "Measurement gap configuration", "headline": "5.5.2.9\tMeasurement gap configuration", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.9\tMeasurement gap configuration", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif gapFR1 is set to setup:", 1], ["", 2, "2>\tif an FR1 measurement gap configuration is already setup, release the FR1 measurement gap configuration;", 2], ["", 2, "2>\tsetup the FR1 measurement gap configuration indicated by the measGapConfig in accordance with the received gapOffset, i.e., the first subframe of each gap occurs at an SFN and subframe meeting the following condition:", 3], ["-", 0, "SFN mod T = FLOOR(gapOffset/10);\nsubframe = gapOffset mod 10;\nwith T = MGRP/10 as defined in TS 38.133 [14];", 4], ["", 2, "2>\tapply the specified timing advance mgta to the gap occurrences calculated above (i.e. the UE starts the measurement mgta ms before the gap subframe occurrences);", 5], ["-", 1, "1>\telse if gapFR1 is set to release:", 6], ["", 2, "2>\trelease the FR1 measurement gap configuration;", 7], ["-", 1, "1>\tif gapFR2 is set to setup:", 8], ["", 2, "2>\tif an FR2 measurement gap configuration is already setup, release the FR2 measurement gap configuration;", 9], ["", 2, "2>\tsetup the FR2 measurement gap configuration indicated by the measGapConfig in accordance with the received gapOffset, i.e., the first subframe of each gap occurs at an SFN and subframe meeting the following condition:", 10], ["-", 0, "SFN mod T = FLOOR(gapOffset/10);\nsubframe = gapOffset mod 10;\nwith T = MGRP/10 as defined in TS 38.133 [14];", 11], ["", 2, "2>\tapply the specified timing advance mgta to the gap occurrences calculated above (i.e. the UE starts the measurement mgta ms before the gap subframe occurrences);", 12], ["-", 1, "1>\telse if gapFR2 is set to release:", 13], ["", 2, "2>\trelease the FR2 measurement gap configuration;", 14], ["-", 1, "1>\tif gapUE is set to setup:", 15], ["", 2, "2>\tif a per UE measurement gap configuration is already setup, release the per UE measurement gap configuration;", 16], ["", 2, "2>\tsetup the per UE measurement gap configuration indicated by the measGapConfig in accordance with the received gapOffset, i.e., the first subframe of each gap occurs at an SFN and subframe meeting the following condition:", 17], ["-", 0, "SFN mod T = FLOOR(gapOffset/10);\nsubframe = gapOffset mod 10;\nwith T = MGRP/10 as defined in TS 38.133 [14];", 18], ["", 2, "2>\tapply the specified timing advance mgta to the gap occurrences calculated above (i.e. the UE starts the measurement mgta ms before the gap subframe occurrences);", 19], ["-", 1, "1>\telse if gapUE is set to release:", 20], ["", 2, "2>\trelease the per UE measurement gap configuration.\nNOTE 1:\tFor gapFR2 configuration with synchrnonous CA, for the UE in NE-DC or NR-DC, the SFN and subframe of the serving cell indicated by the refServCellIndicator in gapFR2 is used in the gap calculation. Otherwise, the SFN and subframe of a serving cell on FR2 frequency is used in the gap calculation\nNOTE 2:\tFor gapFR1 or gapUE configuration, for the UE in NE-DC or NR-DC, the SFN and subframe of the serving cell indicated by the refServCellIndicator in corresponding gapFR1 or gapUE is used in the gap calculation. Otherwise, the SFN and subframe of the PCell is used in the gap calculation.\nNOTE 3:\tFor gapFR2 configuration with asynchronous CA, for the UE in NE-DC or NR-DC, the SFN and subframe of the serving cell indicated by the refServCellIndicator and refFR2ServCellAsyncCA in gapFR2 is used in the gap calculation. Otherwise, the SFN and subframe of a serving cell on FR2 frequency indicated by the refFR2ServCellAsyncCA in gapFR2 is used in the gap calculation", 21]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.9\tMeasurement gap configuration"}, {"id": "5.5.2.10", "name": "Reference signal measurement timing configuration", "headline": "5.5.2.10\tReference signal measurement timing configuration", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.10\tReference signal measurement timing configuration", ""], ["", 0, "The UE shall setup the first SS/PBCH block measurement timing configuration (SMTC) in accordance with the received periodicityAndOffset parameter (providing Periodicity and Offset value for the following condition) in the smtc1 configuration. The first subframe of each SMTC occasion occurs at an SFN and subframe of the NR SpCell meeting the following condition:", 0], ["", 0, "SFN mod T = (FLOOR (Offset/10));\nif the Periodicity is larger than sf5:\nsubframe = Offset mod 10;\nelse:\nsubframe = Offset or (Offset +5);\nwith T = CEIL(Periodicity/10).", 1], ["", 0, "If smtc2 is present, for cells indicated in the pci-List parameter in smtc2 in the same MeasObjectNR, the UE shall setup an additional SS/PBCH block measurement timing configuration (SMTC) in accordance with the received periodicity parameter in the smtc2 configuration and use the Offset (derived from parameter periodicityAndOffset) and duration parameter from the smtc1 configuration. The first subframe of each SMTC occasion occurs at an SFN and subframe of the NR SpCell meeting the above condition.", 2], ["", 0, "If smtc2-LP is present, for cells indicated in the pci-List parameter in smtc2-LP in the same frequency (for intra frequency cell reselection) or different frequency (for inter frequency cell reselecion), the UE shall setup an additional SS/PBCH block measurement timing configuration (SMTC) in accordance with the received periodicity parameter in the smtc2-LP configuration and use the Offset (derived from parameter periodicityAndOffset) and duration parameter from the smtc configuration for that frequency. The first subframe of each SMTC occasion occurs at an SFN and subframe of the NR SpCell or serving cell (for cell reselection) meeting the above condition.", 3], ["", 0, "On the indicated ssbFrequency, the UE shall not consider SS/PBCH block transmission in subframes outside the SMTC occasion for RRM measurements based on SS/PBCH blocks and for RRM measurements based on CSI-RS except for SFTD measurement (see TS 38.133 [14], subclause 9.3.8).", 4]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.10\tReference signal measurement timing configuration"}, {"id": "5.5.2.10a", "name": "RSSI measurement timing configuration", "headline": "5.5.2.10a\tRSSI measurement timing configuration", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.10a\tRSSI measurement timing configuration", ""], ["", 0, "The UE shall setup the RSSI measurement timing configuration (RMTC) in accordance with the received rmtc-Periodicity, rmtc-SubframeOffset if configured otherwise determined by the UE randomly, i.e. the first symbol of each RMTC occasion occurs at first symbol of an SFN and subframe of the PCell meeting the following condition:", 0], ["", 0, "SFN mod T = FLOOR(rmtc-SubframeOffset/10);\nsubframe = rmtc-SubframeOffset mod 10;\nwith T = rmtc-Periodicity/10;", 1], ["", 0, "On the concerned frequency, the UE shall not consider RSSI measurements outside the configured RMTC occasion which lasts for measDuration for RSSI and channel occupancy measurements.", 2]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.10a\tRSSI measurement timing configuration"}, {"id": "5.5.2.11", "name": "Measurement gap sharing configuration", "headline": "5.5.2.11\tMeasurement gap sharing configuration", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.11\tMeasurement gap sharing configuration", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif gapSharingFR1 is set to setup:", 1], ["-", 2, "2>\tif an FR1 measurement gap sharing configuration is already setup:", 2], ["", 3, "3>\trelease the FR1 measurement gap sharing configuration;", 3], ["", 2, "2>\tsetup the FR1 measurement gap sharing configuration indicated by the measGapSharingConfig in accordance with the received gapSharingFR1 as defined in TS 38.133 [14];", 4], ["-", 1, "1>\telse if gapSharingFR1 is set to release:", 5], ["", 2, "2>\trelease the FR1 measurement gap sharing configuration;", 6], ["-", 1, "1>\tif gapSharingFR2 is set to setup:", 7], ["-", 2, "2>\tif an FR2 measurement gap sharing configuration is already setup:", 8], ["", 3, "3>\trelease the FR2 measurement gap sharing configuration;", 9], ["", 2, "2>\tsetup the FR2 measurement gap sharing configuration indicated by the measGapSharingConfig in accordance with the received gapSharingFR2 as defined in TS 38.133 [14];", 10], ["-", 1, "1>\telse if gapSharingFR2 is set to release:", 11], ["", 2, "2>\trelease the FR2 measurement gap sharing configuration.", 12], ["-", 1, "1>\tif gapSharingUE is set to setup:", 13], ["-", 2, "2>\tif a per UE measurement gap sharing configuration is already setup:", 14], ["", 3, "3>\trelease the per UE measurement gap sharing configuration;", 15], ["", 2, "2>\tsetup the per UE measurement gap sharing configuration indicated by the measGapSharingConfig in accordance with the received gapSharingUE as defined in TS 38.133 [14];", 16], ["-", 1, "1>\telse if gapSharingUE is set to release:", 17], ["", 2, "2>\trelease the per UE measurement gap sharing configuration.", 18]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.2\tMeasurement configuration\n5.5.2.11\tMeasurement gap sharing configuration"}, {"id": "5.5.3", "name": "Performing measurements", "headline": "5.5.3\tPerforming measurements", "aoa": [], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.3\tPerforming measurements"}, {"id": "5.5.3.1", "name": "General", "headline": "5.5.3.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.3\tPerforming measurements\n5.5.3.1\tGeneral", ""], ["", 0, "An RRC_CONNECTED UE shall derive cell measurement results by measuring one or multiple beams associated per cell as configured by the network, as described in 5.5.3.3. For all cell measurement results and CLI measurement results in RRC_CONNECTED, except for RSSI, the UE applies the layer 3 filtering as specified in 5.5.3.2, before using the measured results for evaluation of reporting criteria, measurement reporting or the criteria to trigger conditional configuration execution. For cell measurements, the network can configure RSRP, RSRQ, SINR, RSCP or EcN0 as trigger quantity. For CLI measurements, the network can configure SRS-RSRP or CLI-RSSI as trigger quantity. For cell and beam measurements, reporting quantities can be any combination of quantities (i.e. only RSRP; only RSRQ; only SINR; RSRP and RSRQ; RSRP and SINR; RSRQ and SINR; RSRP, RSRQ and SINR; only RSCP; only EcN0; RSCP and EcN0), irrespective of the trigger quantity, and for CLI measurements, reporting quantities can be only SRS-RSRP or only CLI-RSSI. For conditional configuration execution triggering quantities, the network can configure up to 2 quantities. The UE does not apply the layer 3 filtering as specified in <a href=\"#5.5.3.2\">5.5.3.2</a> to derive the CBR measurements.", 0], ["", 0, "The network may also configure the UE to report measurement information per beam (which can either be measurement results per beam with respective beam identifier(s) or only beam identifier(s)), derived as described in 5.5.3.3a. If beam measurement information is configured to be included in measurement reports, the UE applies the layer 3 beam filtering as specified in 5.5.3.2. On the other hand, the exact L1 filtering of beam measurements used to derive cell measurement results is implementation dependent.", 1], ["-", 0, "The UE shall:", 2], ["-", 1, "1>\twhenever the UE has a measConfig, perform RSRP and RSRQ measurements for each serving cell for which servingCellMO is configured as follows:", 3], ["-", 2, "2>\tif the reportConfig associated with at least one measId included in the measIdList within VarMeasConfig contains an rsType set to ssb and ssb-ConfigMobility is configured in the measObject indicated by the servingCellMO:", 4], ["-", 3, "3>\tif the reportConfig associated with at least one measId included in the measIdList within VarMeasConfig contains a reportQuantityRS-Indexes and maxNrofRS-IndexesToReport and contains an rsType set to ssb:", 5], ["", 4, "4>\tderive layer 3 filtered RSRP and RSRQ per beam for the serving cell based on SS/PBCH block, as described in <a href=\"#5.5.3.3a\">5.5.3.3a</a>;", 6], ["", 3, "3>\tderive serving cell measurement results based on SS/PBCH block, as described in <a href=\"#5.5.3.3\">5.5.3.3</a>;", 7], ["-", 2, "2>\tif the reportConfig associated with at least one measId included in the measIdList within VarMeasConfig contains an rsType set to csi-rs and CSI-RS-ResourceConfigMobility is configured in the measObject indicated by the servingCellMO:", 8], ["-", 3, "3>\tif the reportConfig associated with at least one measId included in the measIdList within VarMeasConfig contains a reportQuantityRS-Indexes and maxNrofRS-IndexesToReport and contains an rsType set to csi-rs:", 9], ["", 4, "4>\tderive layer 3 filtered RSRP and RSRQ per beam for the serving cell based on CSI-RS, as described in <a href=\"#5.5.3.3a\">5.5.3.3a</a>;", 10], ["", 3, "3>\tderive serving cell measurement results based on CSI-RS, as described in <a href=\"#5.5.3.3\">5.5.3.3</a>;", 11], ["-", 1, "1>\tfor each serving cell for which servingCellMO is configured, if the reportConfig associated with at least one measId included in the measIdList within VarMeasConfig contains SINR as trigger quantity and/or reporting quantity:", 12], ["-", 2, "2>\tif the reportConfig contains rsType set to ssb and ssb-ConfigMobility is configured in the servingCellMO:", 13], ["-", 3, "3>\tif the reportConfigcontains a reportQuantityRS-Indexes and maxNrofRS-IndexesToReport:", 14], ["", 4, "4>\tderive layer 3 filtered SINR per beam for the serving cell based on SS/PBCH block, as described in <a href=\"#5.5.3.3a\">5.5.3.3a</a>;", 15], ["", 3, "3>\tderive serving cell SINR based on SS/PBCH block, as described in <a href=\"#5.5.3.3\">5.5.3.3</a>;", 16], ["-", 2, "2>\tif the reportConfig contains rsType set to csi-rs and CSI-RS-ResourceConfigMobility is configured in the servingCellMO:", 17], ["-", 3, "3>\tif the reportConfigcontains a reportQuantityRS-Indexes and maxNrofRS-IndexesToReport:", 18], ["", 4, "4>\tderive layer 3 filtered SINR per beam for the serving cell based on CSI-RS, as described in <a href=\"#5.5.3.3a\">5.5.3.3a</a>;", 19], ["", 3, "3>\tderive serving cell SINR based on CSI-RS, as described in <a href=\"#5.5.3.3\">5.5.3.3</a>;", 20], ["-", 1, "1>\tfor each measId included in the measIdList within VarMeasConfig:", 21], ["-", 2, "2>\tif the reportType for the associated reportConfig is set to reportCGI and timer T321 is running:", 22], ["-", 3, "3>\tif useAutonomousGaps is configured for the associated reportConfig:", 23], ["", 4, "4>\tperform the corresponding measurements on the frequency and RAT indicated in the associated measObject using autonomous gaps as necessary;", 24], ["-", 3, "3>\telse:", 25], ["", 4, "4>\tperform the corresponding measurements on the frequency and RAT indicated in the associated measObject using available idle periods;", 26], ["-", 3, "3>\tif the cell indicated by reportCGI field for the associated measObject is an NR cell and that indicated cell is broadcasting SIB1 (see TS 38.213 [13], clause 13):", 27], ["", 4, "4>\ttry to acquire SIB1 in the concerned cell;", 28], ["-", 3, "3>\tif the cell indicated by reportCGI field is an E-UTRA cell:", 29], ["", 4, "4>\ttry to acquire SystemInformationBlockType1 in the concerned cell;", 30], ["-", 2, "2>\tif the ul-DelayValueConfig is configured for the associated reportConfig:", 31], ["", 3, "3>\tignore the measObject;", 32], ["", 3, "3>\tfor each of the configured DRBs, configure the PDCP layer to perform corresponding average UL PDCP packet delay measurement per DRB;", 33], ["-", 2, "2>\tif the reportType for the associated reportConfig is periodical, eventTriggered or condTriggerConfig:", 34], ["", 3, "3>\tif a measurement gap configuration is setup, or", 35], ["-", 3, "3>\tif the UE does not require measurement gaps to perform the concerned measurements:", 36], ["", 4, "4>\tif s-MeasureConfig is not configured, or", 37], ["", 4, "4>\tif s-MeasureConfig is set to ssb-RSRP and the NR SpCell RSRP based on SS/PBCH block, after layer 3 filtering, is lower than ssb-RSRP, or", 38], ["-", 4, "4>\tif s-MeasureConfig is set to csi-RSRP and the NR SpCell RSRP based on CSI-RS, after layer 3 filtering, is lower than csi-RSRP:", 39], ["-", 5, "5>\tif the measObject is associated to NR and the rsType is set to csi-rs:", 40], ["-", 6, "6>\tif reportQuantityRS-Indexes and maxNrofRS-IndexesToReport for the associated reportConfig are configured:", 41], ["", 7, "7>\tderive layer 3 filtered beam measurements only based on CSI-RS for each measurement quantity indicated in reportQuantityRS-Indexes, as described in <a href=\"#5.5.3.3a\">5.5.3.3a</a>;", 42], ["", 6, "6>\tderive cell measurement results based on CSI-RS for the trigger quantity and each measurement quantity indicated in reportQuantityCell using parameters from the associated measObject, as described in <a href=\"#5.5.3.3\">5.5.3.3</a>;", 43], ["-", 5, "5>\tif the measObject is associated to NR and the rsType is set to ssb:", 44], ["-", 6, "6>\tif reportQuantityRS-Indexes and maxNrofRS-IndexesToReport for the associated reportConfig are configured:", 45], ["", 7, "7>\tderive layer 3 beam measurements only based on SS/PBCH block for each measurement quantity indicated in reportQuantityRS-Indexes, as described in <a href=\"#5.5.3.3a\">5.5.3.3a</a>;", 46], ["", 6, "6>\tderive cell measurement results based on SS/PBCH block for the trigger quantity and each measurement quantity indicated in reportQuantityCell using parameters from the associated measObject, as described in <a href=\"#5.5.3.3\">5.5.3.3</a>;", 47], ["-", 5, "5>\tif the measObject is associated to E-UTRA:", 48], ["", 6, "6>\tperform the corresponding measurements associated to neighbouring cells on the frequencies indicated in the concerned measObject, as described in <a href=\"#5.5.3.2\">5.5.3.2</a>;", 49], ["-", 5, "5>\tif the measObject is associated to UTRA-FDD:", 50], ["", 6, "6>\tperform the corresponding measurements associated to neighbouring cells on the frequencies indicated in the concerned measObject, as described in <a href=\"#5.5.3.2\">5.5.3.2</a>;", 51], ["-", 4, "4>\tif the measRSSI-ReportConfig is configured in the associated reportConfig:", 52], ["", 5, "5>\tperform the RSSI and channel occupancy measurements on the frequency indicated in the associated measObject;", 53], ["-", 2, "2>\tif the reportType for the associated reportConfig is set to reportSFTD:", 54], ["-", 3, "3>\tif the reportSFTD-Meas is set to true:", 55], ["-", 4, "4>\tif the measObject is associated to E-UTRA:", 56], ["", 5, "5>\tperform SFTD measurements between the PCell and the E-UTRA PSCell;", 57], ["-", 5, "5>\tif the reportRSRP is set to true;", 58], ["", 6, "6>\tperform RSRP measurements for the E-UTRA PSCell;", 59], ["-", 4, "4>\telse if the measObject is associated to NR:", 60], ["", 5, "5>\tperform SFTD measurements between the PCell and the NR PSCell;", 61], ["-", 5, "5>\tif the reportRSRP is set to true;", 62], ["", 6, "6>\tperform RSRP measurements for the NR PSCell based on SSB;", 63], ["-", 3, "3>\telse if the reportSFTD-NeighMeas is included:", 64], ["-", 4, "4>\tif the measObject is associated to NR:", 65], ["-", 5, "5>\tif the drx-SFTD-NeighMeas is included:", 66], ["", 6, "6>\tperform SFTD measurements between the PCell and the NR neighbouring cell(s) detected based on parameters in the associated measObject using available idle periods;", 67], ["-", 5, "5>\telse:", 68], ["", 6, "6>\tperform SFTD measurements between the PCell and the NR neighbouring cell(s) detected based on parameters in the associated measObject;", 69], ["-", 5, "5>\tif the reportRSRP is set to true:", 70], ["", 6, "6>\tperform RSRP measurements based on SSB for the NR neighbouring cell(s) detected based on parameters in the associated measObject;", 71], ["-", 2, "2>\tif the reportType for the associated reportConfig is cli-Periodical or cli-EventTriggered:", 72], ["", 3, "3>\tperform the corresponding measurements associated to CLI measurement resources indicated in the concerned measObjectCLI;", 73], ["", 2, "2>\tperform the evaluation of reporting criteria as specified in 5.5.4, except if reportConfig is condTriggerConfig.\nNOTE 1:\tThe evaluation of conditional configuration execution criteria is specified in 5.3.5.13.", 74], ["", 0, "Editor's Note: It needs to be confirmed with RAN1 whether L3 filtering is applicable to RSSI measurements or not.", 75], ["-", 0, "The UE capable of CBR measurement when configured to transmit NR sidelink communication shall:", 76], ["-", 1, "1>\tIf the frequency used for NR sidelink communication is included in sl-FreqInfoToAddModList in sl-ConfigDedicatedNR within RRCReconfiguration message or included in sl-ConfigCommonNR within SIB12:", 77], ["-", 2, "2>\tif the UE is in RRC_IDLE or in RRC_INACTIVE:", 78], ["-", 3, "3>\tif the cell chosen for NR sidelink communication provides SIB12 which includes sl-TxPoolSelectedNormal or sl-TxPoolExceptional for the concerned frequency:", 79], ["", 4, "4>\tperform CBR measurement on pools in sl-TxPoolSelectedNormal and sl-TxPoolExceptional for the concerned frequency in SIB12;", 80], ["-", 2, "2>\tif the UE is in RRC_CONNECTED:", 81], ["-", 3, "3>\tif tx-PoolMeasToAddModList is included in VarMeasConfig:", 82], ["", 4, "4>\tperform CBR measurements on each transmission resource pool indicated in the tx-PoolMeasToAddModList;", 83], ["-", 3, "3>\tif sl-TxPoolSelectedNormal, sl-TxPoolScheduling or sl-TxPoolExceptional is included in sl-ConfigDedicatedNR for the concerned frequency within RRCReconfiguration:", 84], ["", 4, "4>\tperform CBR measurement on pools in sl-TxPoolSelectedNormal, sl-TxPoolScheduling or sl-TxPoolExceptional if included in sl-ConfigDedicatedNR for the concerned frequency within RRCReconfiguration;", 85], ["-", 3, "3>\telse if the cell chosen for NR sidelink communication provides SIB12 which includes sl-TxPoolSelectedNormal or sl-TxPoolExceptional for the concerned frequency:", 86], ["", 4, "4>\tperform CBR measurement on pools in sl-TxPoolSelectedNormal and sl-TxPoolExceptional for the concerned frequency in SIB12;", 87], ["-", 1, "1>\telse:", 88], ["", 2, "2>\tperform CBR measurement on pools in sl-TxPoolSelectedNormal and sl-TxPoolExceptional in sl-PreconfigurationNR for the concerned frequency.\nNOTE 2:\tIn case the configurations for NR sidelink communication and CBR measurement are acquired via the E-UTRA, configurations for NR sidelink communication in SIB12, sl-ConfigDedicatedNR within RRCReconfiguration used in this subclause are provided by the configurations in SystemInformationBlockTypeXX2, sl-ConfigDedicatedNR within RRCConnectionReconfiguration as specified in TS 36.331[10], respectively.", 89], ["", 0, "If a UE that is configured by upper layers to transmit V2X sidelink communication is configured with transmission resource pool(s) and the measurement objects concerning V2X sidelink communication (i.e. measObjectEUTRA-SL) by NR, it shall perform CBR measurement as specified in subclause 5.5.3.X of TS 36.331 [10], based on the transmission resource pool(s) and the measurement object(s) concerning V2X sidelink communication configured by NR.", 90]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.3\tPerforming measurements\n5.5.3.1\tGeneral"}, {"id": "5.5.3.2", "name": "Layer 3 filtering", "headline": "5.5.3.2\tLayer 3 filtering", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.3\tPerforming measurements\n5.5.3.2\tLayer 3 filtering", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tfor each cell measurement quantity, each beam measurement quantity and for each CLI measurement quantity that the UE performs measurements according to 5.5.3.1:", 1], ["", 2, "2>\tfilter the measured result, before using for evaluation of reporting criteria or for measurement reporting, by the following formula:", 2], ["", 0, "Fn = (1 - a)*Fn-1 + a*Mn\nwhere", 3], ["", 0, "Mn is the latest received measurement result from the physical layer;", 4], ["", 0, "Fn is the updated filtered measurement result, that is used for evaluation of reporting criteria or for measurement reporting;", 5], ["-", 0, "Fn-1 is the old filtered measurement result, where F0 is set to M1 when the first measurement result from the physical layer is received; and for MeasObjectNR, a = 1/2(ki/4), where ki is the filterCoefficient for the corresponding measurement quantity of the i:th QuantityConfigNR in quantityConfigNR-List, and i is indicated by quantityConfigIndex in MeasObjectNR; for other measurements, a = 1/2(k/4), where k is the filterCoefficient for the corresponding measurement quantity received by the quantityConfig; for UTRA-FDD, a = 1/2(k/4), where k is the filterCoefficient for the corresponding measurement quantity received by quantityConfigUTRA-FDD in the QuantityConfig;", 6], ["", 2, "2>\tadapt the filter such that the time characteristics of the filter are preserved at different input rates, observing that the filterCoefficient k assumes a sample rate equal to X ms; The value of X is equivalent to one intra-frequency L1 measurement period as defined in TS 38.133 [14] assuming non-DRX operation, and depends on frequency range.\nNOTE 1:\tIf k is set to 0, no layer 3 filtering is applicable.\nNOTE 2:\tThe filtering is performed in the same domain as used for evaluation of reporting criteria or for measurement reporting, i.e., logarithmic filtering for logarithmic measurements.\nNOTE 3:\tThe filter input rate is implementation dependent, to fulfil the performance requirements set in TS 38.133 [14]. For further details about the physical layer measurements, see TS 38.133 [14].\nNOTE 4:\tFor CLI-RSSI measurement, it is up to UE implementation whether to reset filtering upon BWP switch.", 7]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.3\tPerforming measurements\n5.5.3.2\tLayer 3 filtering"}, {"id": "5.5.3.3", "name": "Derivation of cell measurement results", "headline": "5.5.3.3\tDerivation of cell measurement results", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.3\tPerforming measurements\n5.5.3.3\tDerivation of cell measurement results", ""], ["", 0, "The network may configure the UE to derive RSRP, RSRQ and SINR measurement results per cell associated to NR measurement objects based on parameters configured in the measObject (e.g. maximum number of beams to be averaged and beam consolidation thresholds) and in the reportConfig (rsType to be measured, SS/PBCH block or CSI-RS).", 0], ["-", 0, "The UE shall:", 1], ["-", 1, "1>\tfor each cell measurement quantity to be derived based on SS/PBCH block:", 2], ["", 2, "2>\tif nrofSS-BlocksToAverage in the associated measObject is not configured; or", 3], ["", 2, "2>\tif absThreshSS-BlocksConsolidation in the associated measObject is not configured; or", 4], ["-", 2, "2>\tif the highest beam measurement quantity value is below or equal to absThreshSS-BlocksConsolidation:", 5], ["", 3, "3>\tderive each cell measurement quantity based on SS/PBCH block as the highest beam measurement quantity value, where each beam measurement quantity is described in TS 38.215 [9];", 6], ["-", 2, "2>\telse:", 7], ["", 3, "3>\tderive each cell measurement quantity based on SS/PBCH block as the linear power scale average of the highest beam measurement quantity values above absThreshSS-BlocksConsolidation where the total number of averaged beams shall not exceed nrofSS-BlocksToAverage;", 8], ["", 2, "2>\tapply layer 3 cell filtering as described in <a href=\"#5.5.3.2\">5.5.3.2</a>;", 9], ["-", 1, "1>\tfor each cell measurement quantity to be derived based on CSI-RS:", 10], ["", 2, "2>\tconsider a CSI-RS resource to be applicable for deriving cell measurements when the concerned CSI-RS resource is included in the csi-rs-CellMobility including the physCellId of the cell in theCSI-RS-ResourceConfigMobility in the associated measObject;", 11], ["", 2, "2>\tif nrofCSI-RS-ResourcesToAverage in the associated measObject is not configured; or", 12], ["", 2, "2>\tif absThreshCSI-RS-Consolidation in the associated measObject is not configured; or", 13], ["-", 2, "2>\tif the highest beam measurement quantity value is below or equal to absThreshCSI-RS-Consolidation:", 14], ["", 3, "3>\tderive each cell measurement quantity based on applicable CSI-RS resources for the cell as the highest beam measurement quantity value, where each beam measurement quantity is described in TS 38.215 [9];", 15], ["-", 2, "2>\telse:", 16], ["", 3, "3>\tderive each cell measurement quantity based on CSI-RS as the linear power scale average of the highest beam measurement quantity values above absThreshCSI-RS-Consolidation where the total number of averaged beams shall not exceed nrofCSI-RS-ResourcesToAverage;", 17], ["", 2, "2>\tapply layer 3 cell filtering as described in 5.5.3.2.", 18]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.3\tPerforming measurements\n5.5.3.3\tDerivation of cell measurement results"}, {"id": "5.5.3.3a", "name": "Derivation of layer 3 beam filtered measurement", "headline": "5.5.3.3a\tDerivation of layer 3 beam filtered measurement", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.3\tPerforming measurements\n5.5.3.3a\tDerivation of layer 3 beam filtered measurement", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tfor each layer 3 beam filtered measurement quantity to be derived based on SS/PBCH block;", 1], ["", 2, "2>\tderive each configured beam measurement quantity based on SS/PBCH block as described in TS 38.215[9], and apply layer 3 beam filtering as described in <a href=\"#5.5.3.2\">5.5.3.2</a>;", 2], ["-", 1, "1>\tfor each layer 3 beam filtered measurement quantity to be derived based on CSI-RS;", 3], ["", 2, "2>\tderive each configured beam measurement quantity based on CSI-RS as described in TS 38.215 [9], and apply layer 3 beam filtering as described in 5.5.3.2.", 4]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.3\tPerforming measurements\n5.5.3.3a\tDerivation of layer 3 beam filtered measurement"}, {"id": "5.5.4", "name": "Measurement report triggering", "headline": "5.5.4\tMeasurement report triggering", "aoa": [], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering"}, {"id": "5.5.4.1", "name": "General", "headline": "5.5.4.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.1\tGeneral", ""], ["-", 0, "If AS security has been activated successfully, the UE shall:", 0], ["-", 1, "1>\tfor each measId included in the measIdList within VarMeasConfig:", 1], ["-", 2, "2>\tif the corresponding reportConfig includes a reportType set to eventTriggered or periodical:", 2], ["-", 3, "3>\tif the corresponding measObject concerns NR:", 3], ["-", 4, "4>\tif the eventA1 or eventA2 is configured in the corresponding reportConfig:", 4], ["", 5, "5>\tconsider only the serving cell to be applicable;", 5], ["-", 4, "4>\tif the eventA3 or eventA5 is configured in the corresponding reportConfig:", 6], ["", 5, "5>\tif a serving cell is associated with a measObjectNR and neighbours are associated with another measObjectNR, consider any serving cell associated with the other measObjectNR to be a neighbouring cell as well;", 7], ["", 4, "4>\tif corresponding reportConfig includes reportType set to periodical; or", 8], ["-", 4, "4>\tfor measurement events other than eventA1 or eventA2:", 9], ["-", 5, "5>\tif useWhiteCellList is set to true:", 10], ["", 6, "6>\tconsider any neighbouring cell detected based on parameters in the associated measObjectNR to be applicable when the concerned cell is included in the whiteCellsToAddModList defined within the VarMeasConfig for this measId;", 11], ["-", 5, "5>\telse:", 12], ["", 6, "6>\tconsider any neighbouring cell detected based on parameters in the associated measObjectNR to be applicable when the concerned cell is not included in the blackCellsToAddModList defined within the VarMeasConfig for this measId;", 13], ["-", 3, "3>\telse if the corresponding measObject concerns E-UTRA:", 14], ["-", 4, "4>\tif eventB1 or eventB2 is configured in the corresponding reportConfig:", 15], ["", 5, "5>\tconsider a serving cell, if any, on the associated E-UTRA frequency as neighbour cell;", 16], ["-", 4, "4>\telse:", 17], ["", 5, "5>\tconsider any neighbouring cell detected on the associated frequency to be applicable when the concerned cell is not included in the blackCellsToAddModListEUTRAN defined within the VarMeasConfig for this measId;", 18], ["-", 3, "3>\telse if the corresponding measObject concerns UTRA-FDD:", 19], ["", 4, "4>\tif eventB1-UTRA-FDD or eventB2-UTRA-FDD is configured in the corresponding reportConfig; or", 20], ["-", 4, "4>\tif corresponding reportConfig includes reportType set to periodical:", 21], ["", 5, "5>\tconsider a neighbouring cell on the associated frequency to be applicable when the concerned cell is included in the cellsToAddModList defined within the VarMeasConfig for this measId;", 22], ["-", 2, "2>\telse if the corresponding reportConfig includes a reportType set to reportCGI:", 23], ["", 3, "3>\tconsider the cell detected on the associated measObject which has a physical cell identity matching the value of the cellForWhichToReportCGI included in the corresponding reportConfig within the VarMeasConfig to be applicable;", 24], ["-", 2, "2>\telse if the corresponding reportConfig includes a reportType set to reportSFTD:", 25], ["-", 3, "3>\tif the corresponding measObject concerns NR:", 26], ["-", 4, "4>\tif the reportSFTD-Meas is set to true:", 27], ["", 5, "5>\tconsider the NR PSCell to be applicable;", 28], ["-", 4, "4>\telse if the reportSFTD-NeighMeas is included:", 29], ["-", 5, "5>\tif cellsForWhichToReportSFTD is configured in the corresponding reportConfig:", 30], ["", 6, "6>\tconsider any NR neighbouring cell detected on the associated measObjectNR which has a physical cell identity that is included in the cellsForWhichToReportSFTD to be applicable;", 31], ["-", 5, "5>\telse:", 32], ["", 6, "6>\tconsider up to 3 strongest NR neighbouring cells detected based on parameters in the associated measObjectNR to be applicable when the concerned cells are not included in the blackCellsToAddModList defined within the VarMeasConfig for this measId;", 33], ["-", 3, "3>\telse if the corresponding measObject concerns E-UTRA:", 34], ["-", 4, "4>\tif the reportSFTD-Meas is set to true:", 35], ["", 5, "5>\tconsider the E-UTRA PSCell to be applicable;", 36], ["-", 2, "2>\telse if the corresponding reportConfig includes measRSSI-ReportConfig:", 37], ["", 3, "3>\tconsider the resource indicated by the rmtc-Config on the associated frequency to be applicable;", 38], ["-", 2, "2>\telse if the corresponding reportConfig includes a reportType set to cli-Periodical or cli-EventTriggered:", 39], ["", 3, "3>\tconsider all CLI measurement resources included in the corresponding measObject to be applicable;", 40], ["-", 2, "2>\tif the corresponding reportConfig concerns the reporting for NR sidelink communication or V2X sidelink communication (i.e. reportConfigNR-SL or reportConfigEUTRA-SL):", 41], ["", 3, "3>\tconsider the transmission resource pools indicated by the tx-PoolMeasToAddModList defined within the VarMeasConfig for this measId to be applicable;", 42], ["-", 2, "2>\tif the reportType is set to eventTriggered and if the entry condition applicable for this event, i.e. the event corresponding with the eventId of the corresponding reportConfig within VarMeasConfig, is fulfilled for one or more applicable cells for all measurements after layer 3 filtering taken during timeToTrigger defined for this event within the VarMeasConfig, while the VarMeasReportList does not include a measurement reporting entry for this measId (a first cell triggers the event):", 43], ["", 3, "3>\tinclude a measurement reporting entry within the VarMeasReportList for this measId;", 44], ["", 3, "3>\tset the numberOfReportsSent defined within the VarMeasReportList for this measId to 0;", 45], ["", 3, "3>\tinclude the concerned cell(s) in the cellsTriggeredList defined within the VarMeasReportList for this measId;", 46], ["-", 3, "3>\tif useT312 is included in reportConfig for this event:", 47], ["", 4, "4>\tif T310 for the corresponding SpCell is running; and", 48], ["-", 4, "4>\tif T312 is not running for corresponding SpCell:", 49], ["", 5, "5>\tstart timer T312 for the corresponding SpCell with the value of T312 configured in the corresponding measObjectNR;", 50], ["", 3, "3>\tinitiate the measurement reporting procedure, as specified in 5.5.5;", 51], ["-", 2, "2>\telse if the reportType is set to eventTriggered and if the entry condition applicable for this event, i.e. the event corresponding with the eventId of the corresponding reportConfig within VarMeasConfig, is fulfilled for one or more applicable cells not included in the cellsTriggeredList for all measurements after layer 3 filtering taken during timeToTrigger defined for this event within the VarMeasConfig (a subsequent cell triggers the event):", 52], ["", 3, "3>\tset the numberOfReportsSent defined within the VarMeasReportList for this measId to 0;", 53], ["", 3, "3>\tinclude the concerned cell(s) in the cellsTriggeredList defined within the VarMeasReportList for this measId;", 54], ["-", 3, "3>\tif useT312 is included in reportConfig for this event:", 55], ["", 4, "4>\tif T310 for the corresponding SpCell is running; and", 56], ["-", 4, "4>\tif T312 is not running for corresponding SpCell:", 57], ["", 5, "5>\tstart timer T312 for the corresponding SpCell with the value of T312 configured in the corresponding measObjectNR;", 58], ["", 3, "3>\tinitiate the measurement reporting procedure, as specified in 5.5.5;", 59], ["-", 2, "2>\telse if the reportType is set to eventTriggered and if the leaving condition applicable for this event is fulfilled for one or more of the cells included in the cellsTriggeredList defined within the VarMeasReportList for this measId for all measurements after layer 3 filtering taken during timeToTrigger defined within the VarMeasConfig for this event:", 60], ["", 3, "3>\tremove the concerned cell(s) in the cellsTriggeredList defined within the VarMeasReportList for this measId;", 61], ["-", 3, "3>\tif reportOnLeave is set to true for the corresponding reporting configuration:", 62], ["", 4, "4>\tinitiate the measurement reporting procedure, as specified in 5.5.5;", 63], ["-", 3, "3>\tif the cellsTriggeredList defined within the VarMeasReportList for this measId is empty:", 64], ["", 4, "4>\tremove the measurement reporting entry within the VarMeasReportList for this measId;", 65], ["", 4, "4>\tstop the periodical reporting timer for this measId, if running;", 66], ["-", 2, "2>\telse if the reportType is set to eventTriggered and if the entry condition applicable for this event, i.e. the event corresponding with the eventId of the corresponding reportConfig within VarMeasConfig, is fulfilled for one or more applicable transmission resource pools for all measurements taken during timeToTrigger defined for this event within the VarMeasConfig, while the VarMeasReportList does not include an measurement reporting entry for this measId (a first transmission resource pool triggers the event):", 67], ["", 3, "3>\tinclude a measurement reporting entry within the VarMeasReportList for this measId;", 68], ["", 3, "3>\tset the numberOfReportsSent defined within the VarMeasReportList for this measId to 0;", 69], ["", 3, "3>\tinclude the concerned transmission resource pool(s) in the poolsTriggeredList defined within the VarMeasReportList for this measId;", 70], ["", 3, "3>\tinitiate the measurement reporting procedure, as specified in 5.5.5;", 71], ["-", 2, "2>\telse if the reportType is set to eventTriggered and if the entry condition applicable for this event, i.e. the event corresponding with the eventId of the corresponding reportConfig within VarMeasConfig, is fulfilled for one or more applicable transmission resource pools not included in the poolsTriggeredList for all measurements taken during timeToTrigger defined for this event within the VarMeasConfig (a subsequent transmission resource pool triggers the event):", 72], ["", 3, "3>\tset the numberOfReportsSent defined within the VarMeasReportList for this measId to 0;", 73], ["", 3, "3>\tinclude the concerned transmission resource pool(s) in the poolsTriggeredList defined within the VarMeasReportList for this measId;", 74], ["", 3, "3>\tinitiate the measurement reporting procedure, as specified in 5.5.5;", 75], ["-", 2, "2>\telse if the reportType is set to eventTriggered and if the leaving condition applicable for this event is fulfilled for one or more applicable transmission resource pools included in the poolsTriggeredList defined within the VarMeasReportList for this measId for all measurements taken during timeToTrigger defined within the VarMeasConfig for this event:", 76], ["", 3, "3>\tremove the concerned transmission resource pool(s) in the poolsTriggeredList defined within the VarMeasReportList for this measId;", 77], ["-", 3, "3>\tif the poolsTriggeredList defined within the VarMeasReportList for this measId is empty:", 78], ["", 4, "4>\tremove the measurement reporting entry within the VarMeasReportList for this measId;", 79], ["", 4, "4>\tstop the periodical reporting timer for this measId, if running\nNOTE 1:\tFor the report configurations concerning V2X sidelink communication, the UE decides whether to initiate the measurement reporting procedure as specified in 5.5.5 based on the CBR measurement results acquired from the transmission resource pools configured for V2X sidelink communication as specified in subclause 5.5.3.1.", 80], ["-", 2, "2>\tif reportType is set to periodical and if a (first) measurement result is available:", 81], ["", 3, "3>\tinclude a measurement reporting entry within the VarMeasReportList for this measId;", 82], ["", 3, "3>\tset the numberOfReportsSent defined within the VarMeasReportList for this measId to 0;", 83], ["-", 3, "3>\tif the reportAmount exceeds 1:", 84], ["", 4, "4>\tinitiate the measurement reporting procedure, as specified in 5.5.5, immediately after the quantity to be reported becomes available for the NR SpCell;", 85], ["-", 3, "3>\telse (i.e. the reportAmount is equal to 1):", 86], ["", 4, "4>\tinitiate the measurement reporting procedure, as specified in 5.5.5, immediately after the quantity to be reported becomes available for the NR SpCell and for the strongest cell among the applicable cells;", 87], ["-", 2, "2>\tif, in case the corresponding reportConfig concerns the reporting for NR sidelink communication or V2X sidelink communication, reportType is set to periodical and if a (first) measurement result is available:", 88], ["", 3, "3>\tinclude a measurement reporting entry within the VarMeasReportList for this measId;", 89], ["", 3, "3>\tset the numberOfReportsSent defined within the VarMeasReportList for this measId to 0;", 90], ["", 3, "3>\tinitiate the measurement reporting procedure, as specified in 5.5.5, immediately after the quantity to be reported becomes available for the NR SpCell and CBR measurement results become available;", 91], ["-", 2, "2>\tif the reportType is set to cli-EventTriggered and if the entry condition applicable for this event, i.e. the event corresponding with the eventId of the corresponding reportConfig within VarMeasConfig, is fulfilled for one or more applicable CLI measurement resources for all measurements after layer 3 filtering taken during timeToTrigger defined for this event within the VarMeasConfig, while the VarMeasReportList does not include a measurement reporting entry for this measId (a first CLI measurement resource triggers the event):", 92], ["", 3, "3>\tinclude a measurement reporting entry within the VarMeasReportList for this measId;", 93], ["", 3, "3>\tset the numberOfReportsSent defined within the VarMeasReportList for this measId to 0;", 94], ["", 3, "3>\tinclude the concerned CLI measurement resource(s) in the cli-TriggeredList defined within the VarMeasReportList for this measId;", 95], ["", 3, "3>\tinitiate the measurement reporting procedure, as specified in 5.5.5;", 96], ["-", 2, "2>\telse if the reportType is set to cli-EventTriggered and if the entry condition applicable for this event, i.e. the event corresponding with the eventId of the corresponding reportConfig within VarMeasConfig, is fulfilled for one or more CLI measurement resources not included in the cli-TriggeredList for all measurements after layer 3 filtering taken during timeToTrigger defined for this event within the VarMeasConfig (a subsequent CLI measurement resource triggers the event):", 97], ["", 3, "3>\tset the numberOfReportsSent defined within the VarMeasReportList for this measId to 0;", 98], ["", 3, "3>\tinclude the concerned CLI measurement resource(s) in the cli-TriggeredList defined within the VarMeasReportList for this measId;", 99], ["", 3, "3>\tinitiate the measurement reporting procedure, as specified in 5.5.5;", 100], ["-", 2, "2>\telse if the reportType is set to cli-EventTriggered and if the leaving condition applicable for this event is fulfilled for one or more of the CLI measurement resources included in the cli-TriggeredList defined within the VarMeasReportList for this measId for all measurements after layer 3 filtering taken during timeToTrigger defined within the VarMeasConfig for this event:", 101], ["", 3, "3>\tremove the concerned CLI measurement resource(s) in the cli-TriggeredList defined within the VarMeasReportList for this measId;", 102], ["-", 3, "3>\tif reportOnLeave is set to true for the corresponding reporting configuration:", 103], ["", 4, "4>\tinitiate the measurement reporting procedure, as specified in 5.5.5;", 104], ["-", 3, "3>\tif the cli-TriggeredList defined within the VarMeasReportList for this measId is empty:", 105], ["", 4, "4>\tremove the measurement reporting entry within the VarMeasReportList for this measId;", 106], ["", 4, "4>\tstop the periodical reporting timer for this measId, if running;", 107], ["-", 2, "2>\tif reportType is set to cli-Periodical and if a (first) measurement result is available:", 108], ["", 3, "3>\tinclude a measurement reporting entry within the VarMeasReportList for this measId;", 109], ["", 3, "3>\tset the numberOfReportsSent defined within the VarMeasReportList for this measId to 0;", 110], ["", 3, "3>\tinitiate the measurement reporting procedure, as specified in 5.5.5, immediately after the quantity to be reported becomes available for at least one CLI measurement resource;", 111], ["-", 2, "2>\tupon expiry of the periodical reporting timer for this measId:", 112], ["", 3, "3>\tinitiate the measurement reporting procedure, as specified in 5.5.5.", 113], ["-", 2, "2>\tif the corresponding reportConfig includes a reportType is set to reportSFTD:", 114], ["-", 3, "3>\tif the corresponding measObject concerns NR:", 115], ["-", 4, "4>\tif the drx-SFTD-NeighMeas is included:", 116], ["-", 5, "5>\tif the quantity to be reported becomes available for each requested pair of PCell and NR cell:", 117], ["", 6, "6>\tstop timer T322;", 118], ["", 6, "6>\tinitiate the measurement reporting procedure, as specified in 5.5.5;", 119], ["-", 4, "4>\telse", 120], ["", 5, "5>\tinitiate the measurement reporting procedure, as specified in 5.5.5, immediately after the quantity to be reported becomes available for each requested pair of PCell and NR cell or the maximal measurement reporting delay as specified in TS 38.133 [14];", 121], ["-", 3, "3>\telse if the corresponding measObject concerns E-UTRA:", 122], ["", 4, "4>\tinitiate the measurement reporting procedure, as specified in 5.5.5, immediately after the quantity to be reported becomes available for the pair of PCell and E-UTRA PSCell or the maximal measurement reporting delay as specified in TS 38.133 [14];", 123], ["-", 2, "2>\tif reportType is set to reportCGI:", 124], ["", 3, "3>\tif the UE acquired the SIB1 or SystemInformationBlockType1 for the requested cell; or", 125], ["-", 3, "3>\tif the UE detects that the requested NR cell is not transmitting SIB1 (see TS 38.213 [13], clause 13):", 126], ["", 4, "4>\tstop timer T321;", 127], ["", 4, "4>\tinclude a measurement reporting entry within the VarMeasReportList for this measId;", 128], ["", 4, "4>\tset the numberOfReportsSent defined within the VarMeasReportList for this measId to 0;", 129], ["", 4, "4>\tinitiate the measurement reporting procedure, as specified in 5.5.5;", 130], ["-", 2, "2>\tif the corresponding reportConfig includes the ul-DelayValueConfig:", 131], ["", 3, "3>\tinitiate the measurement reporting procedure, as specified in 5.5.5, immediately after a first measurement result is provided by all lower layers of the associated DRB identity;", 132], ["-", 2, "2>\tupon the expiry of T321 for this measId:", 133], ["", 3, "3>\tinclude a measurement reporting entry within the VarMeasReportList for this measId;", 134], ["", 3, "3>\tset the numberOfReportsSent defined within the VarMeasReportList for this measId to 0;", 135], ["", 3, "3>\tinitiate the measurement reporting procedure, as specified in 5.5.5.", 136], ["-", 2, "2>\tupon the expiry of T322 for this measId:", 137], ["", 3, "3>\tinitiate the measurement reporting procedure, as specified in 5.5.5;", 138], ["-", 2, "2>\tif the corresponding reportConfig includes measRSSI-ReportConfig and if a (first) measurement result is available:", 139], ["", 3, "3>\tinclude a measurement reporting entry within the VarMeasReportList for this measId;", 140], ["", 3, "3>\tset the numberOfReportsSent defined within the VarMeasReportList for this measId to 0;", 141], ["", 3, "3>\tinitiate the measurement reporting procedure as specified in 5.5.5 immediately when RSSI sample values are reported by the physical layer after the first L1 measurement duration.", 142]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.1\tGeneral"}, {"id": "5.5.4.2", "name": "Event A1 (Serving becomes better than threshold)", "headline": "5.5.4.2\tEvent A1 (Serving becomes better than threshold)", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.2\tEvent A1 (Serving becomes better than threshold)", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tconsider the entering condition for this event to be satisfied when condition A1-1, as specified below, is fulfilled;", 1], ["", 1, "1>\tconsider the leaving condition for this event to be satisfied when condition A1-2, as specified below, is fulfilled;", 2], ["", 1, "1>\tfor this measurement, consider the NR serving cell corresponding to the associated measObjectNR associated with this event.", 3], ["", 0, "Inequality A1-1 (Entering condition)", 4], ["", 0, "Ms - Hys > Thresh", 5], ["", 0, "Inequality A1-2 (Leaving condition)", 6], ["", 0, "Ms + Hys < Thresh", 7], ["", 0, "The variables in the formula are defined as follows:", 8], ["", 0, "Ms is the measurement result of the serving cell, not taking into account any offsets.", 9], ["", 0, "Hys is the hysteresis parameter for this event (i.e. hysteresis as defined within reportConfigNR for this event).", 10], ["", 0, "Thresh is the threshold parameter for this event (i.e. a1-Threshold as defined within reportConfigNR for this event).", 11], ["", 0, "Ms is expressed in dBm in case of RSRP, or in dB in case of RSRQ and RS-SINR.", 12], ["", 0, "Hys is expressed in dB.", 13], ["", 0, "Thresh is expressed in the same unit as Ms.", 14]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.2\tEvent A1 (Serving becomes better than threshold)"}, {"id": "5.5.4.3", "name": "Event A2 (Serving becomes worse than threshold)", "headline": "5.5.4.3\tEvent A2 (Serving becomes worse than threshold)", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.3\tEvent A2 (Serving becomes worse than threshold)", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tconsider the entering condition for this event to be satisfied when condition A2-1, as specified below, is fulfilled;", 1], ["", 1, "1>\tconsider the leaving condition for this event to be satisfied when condition A2-2, as specified below, is fulfilled;", 2], ["", 1, "1>\tfor this measurement, consider the serving cell indicated by the measObjectNR associated to this event.", 3], ["", 0, "Inequality A2-1 (Entering condition)", 4], ["", 0, "Ms + Hys < Thresh", 5], ["", 0, "Inequality A2-2 (Leaving condition)", 6], ["", 0, "Ms - Hys > Thresh", 7], ["", 0, "The variables in the formula are defined as follows:", 8], ["", 0, "Ms is the measurement result of the serving cell, not taking into account any offsets.", 9], ["", 0, "Hys is the hysteresis parameter for this event (i.e. hysteresis as defined within reportConfigNR for this event).", 10], ["", 0, "Thresh is the threshold parameter for this event (i.e. a2-Threshold as defined within reportConfigNR for this event).", 11], ["", 0, "Ms is expressed in dBm in case of RSRP, or in dB in case of RSRQ and RS-SINR.", 12], ["", 0, "Hys is expressed in dB.", 13], ["", 0, "Thresh is expressed in the same unit as Ms.", 14]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.3\tEvent A2 (Serving becomes worse than threshold)"}, {"id": "5.5.4.4", "name": "Event A3 (Neighbour becomes offset better than SpCell)", "headline": "5.5.4.4\tEvent A3 (Neighbour becomes offset better than SpCell)", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.4\tEvent A3 (Neighbour becomes offset better than SpCell)", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tconsider the entering condition for this event to be satisfied when condition A3-1, as specified below, is fulfilled;", 1], ["", 1, "1>\tconsider the leaving condition for this event to be satisfied when condition A3-2, as specified below, is fulfilled;", 2], ["", 1, "1>\tuse the SpCell for Mp, Ofp and Ocp.\nNOTE\tThe cell(s) that triggers the event has reference signals indicated in the measObjectNR associated to this event which may be different from the NR SpCell measObjectNR.", 3], ["", 0, "Inequality A3-1 (Entering condition)", 4], ["", 0, "Mn + Ofn + Ocn - Hys > Mp + Ofp + Ocp + Off", 5], ["", 0, "Inequality A3-2 (Leaving condition)", 6], ["", 0, "Mn + Ofn + Ocn + Hys < Mp + Ofp + Ocp + Off", 7], ["", 0, "The variables in the formula are defined as follows:", 8], ["", 0, "Mn is the measurement result of the neighbouring cell, not taking into account any offsets.", 9], ["", 0, "Ofn is the measurement object specific offset of the reference signal of the neighbour cell (i.e. offsetMO as defined within measObjectNR corresponding to the neighbour cell).", 10], ["", 0, "Ocn is the cell specific offset of the neighbour cell (i.e. cellIndividualOffset as defined within measObjectNR corresponding to the frequency of the neighbour cell), and set to zero if not configured for the neighbour cell.", 11], ["", 0, "Mp is the measurement result of the SpCell, not taking into account any offsets.", 12], ["", 0, "Ofp is the measurement object specific offset of the SpCell (i.e. offsetMO as defined within measObjectNR corresponding to the SpCell).", 13], ["", 0, "Ocp is the cell specific offset of the SpCell (i.e. cellIndividualOffset as defined within measObjectNR corresponding to the SpCell), and is set to zero if not configured for the SpCell.", 14], ["", 0, "Hys is the hysteresis parameter for this event (i.e. hysteresis as defined within reportConfigNR for this event).", 15], ["", 0, "Off is the offset parameter for this event (i.e. a3-Offset as defined within reportConfigNR for this event).", 16], ["", 0, "Mn, Mp are expressed in dBm in case of RSRP, or in dB in case of RSRQ and RS-SINR.", 17], ["", 0, "Ofn, Ocn, Ofp, Ocp, Hys, Off are expressed in dB.", 18]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.4\tEvent A3 (Neighbour becomes offset better than SpCell)"}, {"id": "5.5.4.5", "name": "Event A4 (Neighbour becomes better than threshold)", "headline": "5.5.4.5\tEvent A4 (Neighbour becomes better than threshold)", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.5\tEvent A4 (Neighbour becomes better than threshold)", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tconsider the entering condition for this event to be satisfied when condition A4-1, as specified below, is fulfilled;", 1], ["", 1, "1>\tconsider the leaving condition for this event to be satisfied when condition A4-2, as specified below, is fulfilled.", 2], ["", 0, "Inequality A4-1 (Entering condition)", 3], ["", 0, "Mn + Ofn + Ocn - Hys > Thresh", 4], ["", 0, "Inequality A4-2 (Leaving condition)", 5], ["", 0, "Mn + Ofn + Ocn + Hys < Thresh", 6], ["", 0, "The variables in the formula are defined as follows:", 7], ["", 0, "Mn is the measurement result of the neighbouring cell, not taking into account any offsets.", 8], ["", 0, "Ofn is the measurement object specific offset of the neighbour cell (i.e. offsetMO as defined within measObjectNR corresponding to the neighbour cell).", 9], ["", 0, "Ocn is the measurement object specific offset of the neighbour cell (i.e. cellIndividualOffset as defined within measObjectNR corresponding to the neighbour cell), and set to zero if not configured for the neighbour cell.", 10], ["", 0, "Hys is the hysteresis parameter for this event (i.e. hysteresis as defined within reportConfigNR for this event).", 11], ["", 0, "Thresh is the threshold parameter for this event (i.e. a4-Threshold as defined within reportConfigNR for this event).", 12], ["", 0, "Mn is expressed in dBm in case of RSRP, or in dB in case of RSRQ and RS-SINR.", 13], ["", 0, "Ofn, Ocn, Hys are expressed in dB.", 14], ["", 0, "Thresh is expressed in the same unit as Mn.", 15]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.5\tEvent A4 (Neighbour becomes better than threshold)"}, {"id": "5.5.4.6", "name": "Event A5 (SpCell becomes worse than threshold1 and neighbour becomes better than threshold2)", "headline": "5.5.4.6\tEvent A5 (SpCell becomes worse than threshold1 and neighbour becomes better than threshold2)", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.6\tEvent A5 (SpCell becomes worse than threshold1 and neighbour becomes better than threshold2)", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tconsider the entering condition for this event to be satisfied when both condition A5-1 and condition A5-2, as specified below, are fulfilled;", 1], ["", 1, "1>\tconsider the leaving condition for this event to be satisfied when condition A5-3 or condition A5-4, i.e. at least one of the two, as specified below, is fulfilled;", 2], ["", 1, "1>\tuse the SpCell for Mp.\nNOTE:\tThe parameters of the reference signal(s) of the cell(s) that triggers the event are indicated in the measObjectNR associated to the event which may be different from the measObjectNR of the NR SpCell.", 3], ["", 0, "Inequality A5-1 (Entering condition 1)", 4], ["", 0, "Mp + Hys < Thresh1", 5], ["", 0, "Inequality A5-2 (Entering condition 2)", 6], ["", 0, "Mn + Ofn + Ocn - Hys > Thresh2", 7], ["", 0, "Inequality A5-3 (Leaving condition 1)", 8], ["", 0, "Mp - Hys > Thresh1", 9], ["", 0, "Inequality A5-4 (Leaving condition 2)", 10], ["", 0, "Mn + Ofn + Ocn + Hys < Thresh2", 11], ["", 0, "The variables in the formula are defined as follows:", 12], ["", 0, "Mp is the measurement result of the NR SpCell, not taking into account any offsets.", 13], ["", 0, "Mn is the measurement result of the neighbouring cell, not taking into account any offsets.", 14], ["", 0, "Ofn is the measurement object specific offset of the neighbour cell (i.e. offsetMO as defined within measObjectNR corresponding to the neighbour cell).", 15], ["", 0, "Ocn is the cell specific offset of the neighbour cell (i.e. cellIndividualOffset as defined within measObjectNR corresponding to the neighbour cell), and set to zero if not configured for the neighbour cell.", 16], ["", 0, "Hys is the hysteresis parameter for this event (i.e. hysteresis as defined within reportConfigNR for this event).", 17], ["", 0, "Thresh1 is the threshold parameter for this event (i.e. a5-Threshold1 as defined within reportConfigNR for this event).", 18], ["", 0, "Thresh2 is the threshold parameter for this event (i.e. a5-Threshold2 as defined within reportConfigNR for this event).", 19], ["", 0, "Mn, Mp are expressed in dBm in case of RSRP, or in dB in case of RSRQ and RS-SINR.", 20], ["", 0, "Ofn, Ocn, Hys are expressed in dB.", 21], ["", 0, "Thresh1is expressed in the same unit as Mp.", 22], ["", 0, "Thresh2 is expressed in the same unit as Mn.", 23]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.6\tEvent A5 (SpCell becomes worse than threshold1 and neighbour becomes better than threshold2)"}, {"id": "5.5.4.7", "name": "Event A6 (Neighbour becomes offset better than SCell)", "headline": "5.5.4.7\tEvent A6 (Neighbour becomes offset better than SCell)", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.7\tEvent A6 (Neighbour becomes offset better than SCell)", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tconsider the entering condition for this event to be satisfied when condition A6-1, as specified below, is fulfilled;", 1], ["", 1, "1>\tconsider the leaving condition for this event to be satisfied when condition A6-2, as specified below, is fulfilled;", 2], ["", 1, "1>\tfor this measurement, consider the (secondary) cell corresponding to the measObjectNR associated to this event to be the serving cell.\nNOTE:\tThe reference signal(s) of the neighbour(s) and the reference signal(s) of the SCell are both indicated in the associated measObjectNR.", 3], ["", 0, "Inequality A6-1 (Entering condition)", 4], ["", 0, "Mn + Ocn - Hys > Ms + Ocs + Off", 5], ["", 0, "Inequality A6-2 (Leaving condition)", 6], ["", 0, "Mn + Ocn + Hys < Ms + Ocs + Off", 7], ["", 0, "The variables in the formula are defined as follows:", 8], ["", 0, "Mn is the measurement result of the neighbouring cell, not taking into account any offsets.", 9], ["", 0, "Ocn is the cell specific offset of the neighbour cell (i.e. cellIndividualOffset as defined within the associated measObjectNR), and set to zero if not configured for the neighbour cell.", 10], ["", 0, "Ms is the measurement result of the serving cell, not taking into account any offsets.", 11], ["", 0, "Ocs is the cell specific offset of the serving cell (i.e. cellIndividualOffset as defined within the associated measObjectNR), and is set to zero if not configured for the serving cell.", 12], ["", 0, "Hys is the hysteresis parameter for this event (i.e. hysteresis as defined within reportConfigNR for this event).", 13], ["", 0, "Off is the offset parameter for this event (i.e. a6-Offset as defined within reportConfigNR for this event).", 14], ["", 0, "Mn, Ms are expressed in dBm in case of RSRP, or in dB in case of RSRQ and RS-SINR.", 15], ["", 0, "Ocn, Ocs, Hys, Off are expressed in dB.", 16]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.7\tEvent A6 (Neighbour becomes offset better than SCell)"}, {"id": "5.5.4.8", "name": "Event B1 (Inter RAT neighbour becomes better than threshold)", "headline": "5.5.4.8\tEvent B1 (Inter RAT neighbour becomes better than threshold)", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.8\tEvent B1 (Inter RAT neighbour becomes better than threshold)", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tconsider the entering condition for this event to be satisfied when condition B1-1, as specified below, is fulfilled;", 1], ["", 1, "1>\tconsider the leaving condition for this event to be satisfied when condition B1-2, as specified below, is fulfilled.", 2], ["", 0, "Inequality B1-1 (Entering condition)", 3], ["", 0, "Mn + Ofn + Ocn - Hys > Thresh", 4], ["", 0, "Inequality B1-2 (Leaving condition)", 5], ["", 0, "Mn + Ofn + Ocn + Hys < Thresh", 6], ["", 0, "The variables in the formula are defined as follows:", 7], ["", 0, "Mn is the measurement result of the inter-RAT neighbour cell, not taking into account any offsets.", 8], ["", 0, "Ofn is the measurement object specific offset of the frequency of the inter-RAT neighbour cell (i.e. eutra-Q-OffsetRange as defined within the measObjectEUTRA corresponding to the frequency of the neighbour inter-RAT cell, utra-FDD-Q-OffsetRange as defined within the measObjectUTRA-FDD corresponding to the frequency of the neighbour inter-RAT cell).", 9], ["", 0, "Ocn is the cell specific offset of the inter-RAT neighbour cell (i.e. cellIndividualOffset as defined within the measObjectEUTRA corresponding to the neighbour inter-RAT cell), and set to zero if not configured for the neighbour cell.", 10], ["", 0, "Hys is the hysteresis parameter for this event (i.e. hysteresis as defined within reportConfigInterRAT for this event).", 11], ["", 0, "Thresh is the threshold parameter for this event (i.e. b1-ThresholdEUTRA as defined within reportConfigInterRAT for this event, b1-ThresholdUTRA-FDD as defined for UTRA-FDD within reportConfigInterRAT for this event).", 12], ["", 0, "Mn is expressed in dBm or in dB, depending on the measurement quantity of the inter-RAT neighbour cell.", 13], ["", 0, "Ofn, Ocn, Hys are expressed in dB.", 14], ["", 0, "Thresh is expressed in the same unit as Mn.", 15]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.8\tEvent B1 (Inter RAT neighbour becomes better than threshold)"}, {"id": "5.5.4.9", "name": "Event B2 (PCell becomes worse than threshold1 and inter RAT neighbour becomes better than threshold2)", "headline": "5.5.4.9\tEvent B2 (PCell becomes worse than threshold1 and inter RAT neighbour becomes better than threshold2)", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.9\tEvent B2 (PCell becomes worse than threshold1 and inter RAT neighbour becomes better than threshold2)", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tconsider the entering condition for this event to be satisfied when both condition B2-1 and condition B2-2, as specified below, are fulfilled;", 1], ["", 1, "1>\tconsider the leaving condition for this event to be satisfied when condition B2-3 or condition B2-4, i.e. at least one of the two, as specified below, is fulfilled;", 2], ["", 0, "Inequality B2-1 (Entering condition 1)", 3], ["", 0, "Mp + Hys < Thresh1", 4], ["", 0, "Inequality B2-2 (Entering condition 2)", 5], ["", 0, "Mn + Ofn + Ocn - Hys > Thresh2", 6], ["", 0, "Inequality B2-3 (Leaving condition 1)", 7], ["", 0, "Mp - Hys > Thresh1", 8], ["", 0, "Inequality B2-4 (Leaving condition 2)", 9], ["", 0, "Mn + Ofn + Ocn + Hys < Thresh2", 10], ["", 0, "The variables in the formula are defined as follows:", 11], ["", 0, "Mp is the measurement result of the PCell, not taking into account any offsets.", 12], ["", 0, "Mn is the measurement result of the inter-RAT neighbour cell, not taking into account any offsets.", 13], ["", 0, "Ofn is the measurement object specific offset of the frequency of the inter-RAT neighbour cell (i.e. eutra-Q-OffsetRange as defined within the measObjectEUTRA corresponding to the frequency of the inter-RAT neighbour cell, utra-FDD-Q-OffsetRange as defined within the measObjectUTRA-FDD corresponding to the frequency of the neighbour inter-RAT cell).", 14], ["", 0, "Ocn is the cell specific offset of the inter-RAT neighbour cell (i.e. cellIndividualOffset as defined within the measObjectEUTRA corresponding to the neighbour inter-RAT cell), and set to zero if not configured for the neighbour cell.", 15], ["", 0, "Hys is the hysteresis parameter for this event (i.e. hysteresis as defined within reportConfigInterRAT for this event).", 16], ["", 0, "Thresh1 is the threshold parameter for this event (i.e. b2-Threshold1 as defined within reportConfigInterRAT for this event).", 17], ["", 0, "Thresh2 is the threshold parameter for this event (i.e. b2-Threshold2EUTRA as defined within reportConfigInterRAT for this event, b2-Threshold2UTRA-FDD as defined for UTRA-FDD within reportConfigInterRAT for this event).", 18], ["", 0, "Mp is expressed in dBm in case of RSRP, or in dB in case of RSRQ and SINR.", 19], ["", 0, "Mn is expressed in dBm or dB, depending on the measurement quantity of the inter-RAT neighbour cell.", 20], ["", 0, "Ofn, Ocn, Hys are expressed in dB.", 21], ["", 0, "Thresh1 is expressed in the same unit as Mp.", 22], ["", 0, "Thresh2 is expressed in the same unit as Mn.", 23]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.9\tEvent B2 (PCell becomes worse than threshold1 and inter RAT neighbour becomes better than threshold2)"}, {"id": "5.5.4.10", "name": "Event I1 (Interference becomes higher than threshold)", "headline": "5.5.4.10\tEvent I1 (Interference becomes higher than threshold)", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.10\tEvent I1 (Interference becomes higher than threshold)", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tconsider the entering condition for this event to be satisfied when condition I1-1, as specified below, is fulfilled;", 1], ["", 1, "1>\tconsider the leaving condition for this event to be satisfied when condition I1-2, as specified below, is fulfilled.", 2], ["", 0, "Inequality I1-1 (Entering condition)", 3], ["", 0, "Mi - Hys > Thresh", 4], ["", 0, "Inequality I1-2 (Leaving condition)", 5], ["", 0, "Mi+ Hys < Thresh", 6], ["", 0, "The variables in the formula are defined as follows:", 7], ["", 0, "Mi is the measurement result of the interference, not taking into account any offsets.", 8], ["", 0, "Hys is the hysteresis parameter for this event (i.e. hysteresis as defined within reportConfigNR for this event).", 9], ["", 0, "Thresh is the threshold parameter for this event (i.e. i1-Threshold as defined within reportConfigNR for this event).", 10], ["", 0, "Mi, Thresh are expressed in dBm.", 11], ["", 0, "Hys is expressed in dB.", 12]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.10\tEvent I1 (Interference becomes higher than threshold)"}, {"id": "5.5.4.11", "name": "Event C1 (The NR sidelink channel busy ratio is above a threshold)", "headline": "5.5.4.11\tEvent C1 (The NR sidelink channel busy ratio is above a threshold)", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.11\tEvent C1 (The NR sidelink channel busy ratio is above a threshold)", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tconsider the entering condition for this event to be satisfied when condition C1-1, as specified below, is fulfilled;", 1], ["", 1, "1>\tconsider the leaving condition for this event to be satisfied when condition C1-2, as specified below, is fulfilled;", 2], ["", 0, "Inequality C1-1 (Entering condition)", 3], ["", 0, "Inequality C1-2 (Leaving condition)", 4], ["", 0, "The variables in the formula are defined as follows:", 5], ["", 0, "Ms is the measurement result of channel busy ratio of the transmission resource pool, not taking into account any offsets.", 6], ["", 0, "Hys is the hysteresis parameter for this event (i.e. hysteresis as defined within reportConfigNR-SL for this event).", 7], ["", 0, "Thresh is the threshold parameter for this event (i.e. s1-Threshold as defined within reportConfigNR-SL for this event).", 8], ["", 0, "Ms is expressed in decimal from 0 to 1 in steps of 0.01.", 9], ["", 0, "Hys is expressed is in the same unit as Ms.", 10], ["", 0, "Thresh is expressed in the same unit as Ms.", 11]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.11\tEvent C1 (The NR sidelink channel busy ratio is above a threshold)"}, {"id": "5.5.4.12", "name": "Event C2 (The NR sidelink channel busy ratio is below a threshold)", "headline": "5.5.4.12\tEvent C2 (The NR sidelink channel busy ratio is below a threshold)", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.12\tEvent C2 (The NR sidelink channel busy ratio is below a threshold)", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tconsider the entering condition for this event to be satisfied when condition C2-1, as specified below, is fulfilled;", 1], ["", 1, "1>\tconsider the leaving condition for this event to be satisfied when condition C2-2, as specified below, is fulfilled;", 2], ["", 0, "Inequality C2-1 (Entering condition)", 3], ["", 0, "Inequality C2-2 (Leaving condition)", 4], ["", 0, "The variables in the formula are defined as follows:", 5], ["", 0, "Ms is the measurement result of channel busy ratio of the transmission resource pool, not taking into account any offsets.", 6], ["", 0, "Hys is the hysteresis parameter for this event (i.e. hysteresis as defined within reportConfigNR-SL for this event).", 7], ["", 0, "Thresh is the threshold parameter for this event (i.e. v2-Threshold as defined within reportConfigNR-SL for this event).", 8], ["", 0, "Ms is expressed in decimal from 0 to 1 in steps of 0.01.", 9], ["", 0, "Hys is expressed is in the same unit as Ms.", 10], ["", 0, "Thresh is expressed in the same unit as Ms.", 11]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.12\tEvent C2 (The NR sidelink channel busy ratio is below a threshold)"}, {"id": "5.5.4.13", "name": "Event V1 (The V2X sidelink channel busy ratio is above a threshold)", "headline": "5.5.4.13\tEvent V1 (The V2X sidelink channel busy ratio is above a threshold)", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.13\tEvent V1 (The V2X sidelink channel busy ratio is above a threshold)", ""], ["", 0, "The UE behaviour is specified in subclause <a href=\"#5.5.4.14\">5.5.4.14</a> of TS 36.331 [10].", 0]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.13\tEvent V1 (The V2X sidelink channel busy ratio is above a threshold)"}, {"id": "5.5.4.14", "name": "Event V2 (The V2X sidelink channel busy ratio is below a threshold)", "headline": "5.5.4.14\tEvent V2 (The V2X sidelink channel busy ratio is below a threshold)", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.14\tEvent V2 (The V2X sidelink channel busy ratio is below a threshold)", ""], ["", 0, "The UE behaviour is specified in subclause 5.5.4.15 of TS 36.331 [10].", 0]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.4\tMeasurement report triggering\n5.5.4.14\tEvent V2 (The V2X sidelink channel busy ratio is below a threshold)"}, {"id": "5.5.5", "name": "Measurement reporting", "headline": "5.5.5\tMeasurement reporting", "aoa": [], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.5\tMeasurement reporting"}, {"id": "5.5.5.1", "name": "General", "headline": "5.5.5.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.5\tMeasurement reporting\n5.5.5.1\tGeneral", ""], ["", 0, "Figure 5.5.5.1-1: Measurement reporting", 0], ["", 0, "The purpose of this procedure is to transfer measurement results from the UE to the network. The UE shall initiate this procedure only after successful AS security activation.", 1], ["-", 0, "For the measId for which the measurement reporting procedure was triggered, the UE shall set the measResults within the MeasurementReport message as follows:", 2], ["", 1, "1>\tset the measId to the measurement identity that triggered the measurement reporting;", 3], ["-", 1, "1>\tfor each serving cell configured with servingCellMO:", 4], ["-", 2, "2>\tif the reportConfig associated with the measId that triggered the measurement reporting includes rsType:", 5], ["-", 3, "3>\tif the serving cell measurements based on the rsType included in the reportConfig that triggered the measurement report are available:", 6], ["", 4, "4>\tset the measResultServingCell within measResultServingMOList to include RSRP, RSRQ and the available SINR of the serving cell, derived based on the rsType included in the reportConfig that triggered the measurement report;", 7], ["-", 2, "2>\telse:", 8], ["-", 3, "3>\tif SSB based serving cell measurements are available:", 9], ["", 4, "4>\tset the measResultServingCell within measResultServingMOList to include RSRP, RSRQ and the available SINR of the serving cell, derived based on SSB;", 10], ["-", 3, "3>\telse if CSI-RS based serving cell measurements are available:", 11], ["", 4, "4>\tset the measResultServingCell within measResultServingMOList to include RSRP, RSRQ and the available SINR of the serving cell, derived based on CSI-RS;", 12], ["", 1, "1>\tset the servCellId within measResultServingMOList to include each NR serving cell that is configured with servingCellMO, if any;", 13], ["-", 1, "1>\tif the reportConfig associated with the measId that triggered the measurement reporting includes reportQuantityRS-Indexes and maxNrofRS-IndexesToReport:", 14], ["", 2, "2>\tfor each serving cell configured with servingCellMO, include beam measurement information according to the associated reportConfig as described in <a href=\"#5.5.5.2\">5.5.5.2</a>;", 15], ["-", 1, "1>\tif the reportConfig associated with the measId that triggered the measurement reporting includes reportAddNeighMeas:", 16], ["-", 2, "2>\tfor each measObjectId referenced in the measIdList which is also referenced with servingCellMO, other than the measObjectId corresponding with the measId that triggered the measurement reporting:", 17], ["-", 3, "3>\tif the measObjectNR indicated by the servingCellMO includes the RS resource configuration corresponding to the rsType indicated in the reportConfig:", 18], ["", 4, "4>\tset the measResultBestNeighCell within measResultServingMOList to include the physCellId and the available measurement quantities based on the reportQuantityCell and rsType indicated in reportConfig of the non-serving cell corresponding to the concerned measObjectNR with the highest measured RSRP if RSRP measurement results are available for cells corresponding to this measObjectNR, otherwise with the highest measured RSRQ if RSRQ measurement results are available for cells corresponding to this measObjectNR, otherwise with the highest measured SINR;", 19], ["-", 4, "4>\tif the reportConfig associated with the measId that triggered the measurement reporting includes reportQuantityRS-Indexes and maxNrofRS-IndexesToReport:", 20], ["-", 5, "5>\tfor each best non-serving cell included in the measurement report:", 21], ["", 6, "6>\tinclude beam measurement information according to the associated reportConfig as described in <a href=\"#5.5.5.2\">5.5.5.2</a>;", 22], ["-", 1, "1>\tif the reportConfig associated with the measId that triggered the measurement reporting is set to eventTriggered and eventID is set to eventA3, or eventA4, or eventA5, or eventB1, or eventB2:", 23], ["-", 2, "2>\tif the UE is in NE-DC and the measurement configuration that triggered this measurement report is associated with the MCG:", 24], ["-", 3, "3>\tset the measResultServFreqListEUTRA-SCG to include an entry for each E-UTRA SCG serving frequency with the following:", 25], ["", 4, "4>\tinclude carrierFreq of the E-UTRA serving frequency;", 26], ["", 4, "4>\tset the measResultServingCell to include the available measurement quantities that the UE is configured to measure by the measurement configuration associated with the SCG;", 27], ["-", 4, "4>\tif reportConfig associated with the measId that triggered the measurement reporting includes reportAddNeighMeas:", 28], ["", 5, "5>\tset the measResultServFreqListEUTRA-SCG to include within measResultBestNeighCell the quantities of the best non-serving cell, based on RSRP, on the concerned serving frequency;", 29], ["-", 1, "1>\tif reportConfig associated with the measId that triggered the measurement reporting is set to eventTriggered and eventID is set to eventA3, or eventA4, or eventA5:", 30], ["-", 2, "2>\tif the UE is in NR-DC and the measurement configuration that triggered this measurement report is associated with the MCG:", 31], ["-", 3, "3>\tset the measResultServFreqListNR-SCG to include for each NR SCG serving cell that is configured with servingCellMO, if any, the following:", 32], ["-", 4, "4>\tif the reportConfig associated with the measId that triggered the measurement reporting includes rsType:", 33], ["-", 5, "5>\tif the serving cell measurements based on the rsType included in the reportConfig that triggered the measurement report are available according to the measurement configuration associated with the SCG:", 34], ["", 6, "6>\tset the measResultServingCell within measResultServFreqListNR-SCG to include RSRP, RSRQ and the available SINR of the serving cell, derived based on the rsType included in the reportConfig that triggered the measurement report;", 35], ["-", 4, "4>\telse:", 36], ["-", 5, "5>\tif SSB based serving cell measurements are available according to the measurement configuration associated with the SCG:", 37], ["", 6, "6>\tset the measResultServingCell within measResultServFreqListNR-SCG to include RSRP, RSRQ and the available SINR of the serving cell, derived based on SSB;", 38], ["-", 5, "5>\telse if CSI-RS based serving cell measurements are available according to the measurement configuration associated with the SCG:", 39], ["", 6, "6>\tset the measResultServingCell within measResultServFreqListNR-SCG to include RSRP, RSRQ and the available SINR of the serving cell, derived based on CSI-RS;", 40], ["-", 4, "4>\tif results for the serving cell derived based on SSB are included:", 41], ["", 5, "5>\tinclude the ssbFrequency to the value indicated by ssbFrequency as included in the MeasObjectNR of the serving cell;", 42], ["-", 4, "4>\tif results for the serving cell derived based on CSI-RS are included:", 43], ["", 5, "5>\tinclude the refFreqCSI-RS to the value indicated by refFreqCSI-RS as included in the MeasObjectNR of the serving cell;", 44], ["-", 4, "4>\tif the reportConfig associated with the measId that triggered the measurement reporting includes reportQuantityRS-Indexes and maxNrofRS-IndexesToReport:", 45], ["", 5, "5>\tfor each serving cell configured with servingCellMO, include beam measurement information according to the associated reportConfig as described in 5.5.5.2, where availability is considered according to the measurement configuration associated with the SCG;", 46], ["-", 4, "4>\tif reportConfig associated with the measId that triggered the measurement reporting includes reportAddNeighMeas:", 47], ["-", 5, "5>\tif the measObjectNR indicated by the servingCellMO includes the RS resource configuration corresponding to the rsType indicated in the reportConfig:", 48], ["-", 6, "6>\tset the measResultBestNeighCellListNR within measResultServFreqListNR-SCG to include one entry with the physCellId and the available measurement quantities based on the reportQuantityCell and rsType indicated in reportConfig of the non-serving cell corresponding to the concerned measObjectNR with the highest measured RSRP if RSRP measurement results are available for cells corresponding to this measObjectNR, otherwise with the highest measured RSRQ if RSRQ measurement results are available for cells corresponding to this measObjectNR, otherwise with the highest measured SINR, where availability is considered according to the measurement configuration associated with the SCG;", 49], ["-", 7, "7>\tif the reportConfig associated with the measId that triggered the measurement reporting includes reportQuantityRS-Indexes and maxNrofRS-IndexesToReport:", 50], ["-", 8, "8>\tfor each best non-serving cell included in the measurement report:", 51], ["", 9, "9>\tinclude beam measurement information according to the associated reportConfig as described in 5.5.5.2, where availability is considered according to the measurement configuration associated with the SCG;", 52], ["-", 1, "1>\tif the measRSSI-ReportConfig is configured within the corresponding reportConfig for this measId:", 53], ["", 2, "2>\tset the rssi-Result to the average of sample value(s) provided by lower layers in the reportInterval;", 54], ["", 2, "2>\tset the channelOccupancy to the rounded percentage of sample values which are beyond the channelOccupancyThreshold within all the sample values in the reportInterval;", 55], ["-", 1, "1>\tif there is at least one applicable neighbouring cell to report:", 56], ["-", 2, "2>\tif the reportType is set to eventTriggered or periodical:", 57], ["-", 3, "3>\tset the measResultNeighCells to include the best neighbouring cells up to maxReportCells in accordance with the following:", 58], ["-", 4, "4>\tif the reportType is set to eventTriggered:", 59], ["", 5, "5>\tinclude the cells included in the cellsTriggeredList as defined within the VarMeasReportList for this measId;", 60], ["-", 4, "4>\telse:", 61], ["", 5, "5>\tinclude the applicable cells for which the new measurement results became available since the last periodical reporting or since the measurement was initiated or reset;", 62], ["", 4, "4>\tfor each cell that is included in the measResultNeighCells, include the physCellId;", 63], ["-", 4, "4>\tif the reportType is set to eventTriggered or periodical:", 64], ["-", 5, "5>\tfor each included cell, include the layer 3 filtered measured results in accordance with the reportConfig for this measId, ordered as follows:", 65], ["-", 6, "6>\tif the measObject associated with this measId concerns NR:", 66], ["-", 7, "7>\tif rsType in the associated reportConfig is set to ssb:", 67], ["", 8, "8>\tset resultsSSB-Cell within the measResult to include the SS/PBCH block based quantity(ies) indicated in the reportQuantityCell within the concerned reportConfig, in decreasing order of the sorting quantity, determined as specified in 5.5.5.3, i.e. the best cell is included first;", 68], ["", 8, "8>\tif reportQuantityRS-Indexes and maxNrofRS-IndexesToReport are configured, include beam measurement information as described in <a href=\"#5.5.5.2\">5.5.5.2</a>;", 69], ["-", 7, "7>\telse if rsType in the associated reportConfig is set to csi-rs:", 70], ["", 8, "8>\tset resultsCSI-RS-Cell within the measResult to include the CSI-RS based quantity(ies) indicated in the reportQuantityCell within the concerned reportConfig, in decreasing order of the sorting quantity, determined as specified in 5.5.5.3, i.e. the best cell is included first;", 71], ["", 8, "8>\tif reportQuantityRS-Indexes and maxNrofRS-IndexesToReport are configured, include beam measurement information as described in <a href=\"#5.5.5.2\">5.5.5.2</a>;", 72], ["-", 6, "6>\tif the measObject associated with this measId concerns E-UTRA:", 73], ["", 7, "7>\tset the measResult to include the quantity(ies) indicated in the reportQuantity within the concerned reportConfigInterRAT in decreasing order of the sorting quantity, determined as specified in 5.5.5.3, i.e. the best cell is included first;", 74], ["-", 6, "6>\tif the measObject associated with this measId concerns UTRA-FDD and if ReportConfigInterRAT includes the reportQuantityUTRA-FDD:", 75], ["", 7, "7>\tset the measResult to include the quantity(ies) indicated in the reportQuantityUTRA-FDD within the concerned reportConfigInterRAT in decreasing order of the sorting quantity, determined as specified in 5.5.5.3, i.e. the best cell is included first;", 76], ["-", 2, "2>\telse:", 77], ["-", 3, "3>\tif the cell indicated by cellForWhichToReportCGI is an NR cell:", 78], ["-", 4, "4>\tif plmn-IdentityInfoList of the cgi-Info for the concerned cell has been obtained:", 79], ["", 5, "5>\tinclude the plmn-IdentityInfoList including plmn-IdentityList, trackingAreaCode (if available), ranac (if available), cellIdentity and cellReservedForOperatorUse for each entry of the plmn-IdentityInfoList;", 80], ["", 5, "5>\tinclude frequencyBandList if available;", 81], ["-", 4, "4>\tif npn-IdentityInfoList of the cgi-Info for the concerned cell has been obtained:", 82], ["", 5, "5>\tinclude the npn-IdentityInfoList including npn-IdentityList, trackingAreaCode (if available), ranac (if available), cellIdentity and cellReservedForOperatorUse for each entry of the npn-IdentityInfoList;", 83], ["-", 0, "Editor's Note: It is FFS if all Rel-16 are required to be able to report the npn-IdentityInfoList.", 84], ["-", 4, "4>\telse if MIB indicates the SIB1 is not broadcast:", 85], ["", 5, "5>\tinclude the noSIB1 including the ssb-SubcarrierOffset and pdcch-ConfigSIB1 obtained from MIB of the concerned cell;", 86], ["-", 3, "3>\tif the cell indicated by cellForWhichToReportCGI is an E-UTRA cell:", 87], ["-", 4, "4>\tif all mandatory fields of the cgi-Info-EPC for the concerned cell have been obtained:", 88], ["", 5, "5>\tinclude in the cgi-Info-EPC the fields broadcasted in E-UTRA SystemInformationBlockType1 associated to EPC;", 89], ["-", 4, "4>\tif the UE is E-UTRA/5GC capable and all mandatory fields of the cgi-Info-5GC for the concerned cell have been obtained:", 90], ["", 5, "5>\tinclude in the cgi-Info-5GC the fields broadcasted in E-UTRA SystemInformationBlockType1 associated to 5GC;", 91], ["-", 4, "4>\tif the mandatory present fields of the cgi-Info for the cell indicated by the cellForWhichToReportCGI in the associated measObject have been obtained:", 92], ["", 5, "5>\tinclude the freqBandIndicator;", 93], ["", 5, "5>\tif the cell broadcasts the multiBandInfoList, include the multiBandInfoList;", 94], ["", 5, "5>\tif the cell broadcasts the freqBandIndicatorPriority, include the freqBandIndicatorPriority;", 95], ["-", 1, "1>\tif the corresponding measObject concerns NR:", 96], ["-", 2, "2>\tif the reportSFTD-Meas is set to true within the corresponding reportConfigNR for this measId:", 97], ["-", 3, "3>\tset the measResultSFTD-NR in accordance with the following:", 98], ["", 4, "4>\tset sfn-OffsetResult and frameBoundaryOffsetResult to the measurement results provided by lower layers;", 99], ["-", 4, "4>\tif the reportRSRP is set to true;", 100], ["", 5, "5>\tset rsrp-Result to the RSRP of the NR PSCell derived based on SSB;", 101], ["-", 2, "2>\telse if the reportSFTD-NeighMeas is included within the corresponding reportConfigNR for this measId:", 102], ["-", 3, "3>\tfor each applicable cell which measurement results are available, include an entry in the measResultCellListSFTD-NR and set the contents as follows:", 103], ["", 4, "4>\tset physCellId to the physical cell identity of the concered NR neighbour cell.", 104], ["", 4, "4>\tset sfn-OffsetResult and frameBoundaryOffsetResult to the measurement results provided by lower layers;", 105], ["-", 4, "4>\tif the reportRSRP is set to true:", 106], ["", 5, "5>\tset rsrp-Result to the RSRP of the concerned cell derived based on SSB;", 107], ["-", 1, "1>\telse if the corresponding measObject concerns E-UTRA:", 108], ["-", 2, "2>\tif the reportSFTD-Meas is set to true within the corresponding reportConfigInterRAT for this measId:", 109], ["-", 3, "3>\tset the measResultSFTD-EUTRA in accordance with the following:", 110], ["", 4, "4>\tset sfn-OffsetResult and frameBoundaryOffsetResult to the measurement results provided by lower layers;", 111], ["-", 4, "4>\tif the reportRSRP is set to true;", 112], ["", 5, "5>\tset rsrpResult-EUTRA to the RSRP of the EUTRA PSCell;", 113], ["-", 1, "1>\tif avareage uplink PDCP delay values are available:", 114], ["", 2, "2>\tset the ul-PDCP-DelayValueResultList to include the corresponding average uplink PDCP delay values;", 115], ["-", 1, "1>\tif the includeCommonLocationInfo is configured in the corresponding reportConfig for this measId and detailed location information that has not been reported is available, set the content of commonLocationInfo of the locationInfo as follows:", 116], ["", 2, "2>\tinclude the locationTimestamp;", 117], ["", 2, "2>\tinclude the locationCoordinate, if available;", 118], ["", 2, "2>\tinclude the velocityEstimate, if available;", 119], ["", 2, "2>\tinclude the locationError, if available;", 120], ["", 2, "2>\tinclude the locationSource, if available;", 121], ["", 2, "2>\tif available, include the gnss-TOD-msec,", 122], ["-", 1, "1>\tif the includeWLAN-Meas is configured in the corresponding reportConfig for this measId, set the wlan-LocationInfo of the locationInfo in the measResults as follows:", 123], ["", 2, "2>\tif available, include the LogMeasResultWLAN, in order of decreasing RSSI for WLAN APs;", 124], ["-", 1, "1>\tif the includeBT-Meas is configured in the corresponding reportConfig for this measId, set the BT-LocationInfo of the locationInfo in the measResults as follows:", 125], ["", 2, "2>\tif available, include the LogMeasResultBT, in order of decreasing RSSI for Bluetooth beacons;", 126], ["-", 1, "1>\tif the includeSensor-Meas is configured in the corresponding reportConfig for this measId, set the sensor-LocationInfo of the locationInfo in the measResults as follows:", 127], ["", 2, "2>\tif available, include the sensor-MeasurementInformation;", 128], ["", 2, "2>\tif available, include the sensor-MotionInformation;", 129], ["-", 1, "1>\tif there is at least one applicable transmission resource pool for NR sidelink communication or V2X sidelink communication to report (for measResultSL):", 130], ["-", 2, "2>\tset the measResultsListSL to include the CBR measurement results in accordance with the following:", 131], ["-", 3, "3>\tif the reportType is set to eventTriggered:", 132], ["", 4, "4>\tinclude the transmission resource pools included in the poolsTriggeredList as defined within the VarMeasReportList for this measId;", 133], ["-", 3, "3>\telse:", 134], ["", 4, "4>\tinclude the applicable transmission resource pools for which the new measurement results became available since the last periodical reporting or since the measurement was initiated or reset;", 135], ["-", 3, "3>\tif the corresponding measObject concerns NR sidelink communication, then for each transmission resource pool to be reported:", 136], ["", 4, "4>\tset the sl-poolReportIdentity to the identity of this transmission resource pool;", 137], ["", 4, "4>\tset the sl-CBR-ResultsNR to the CBR measurement results on PSSCH and PSCCH of this transmission resource pool provided by lower layers, if available;", 138], ["-", 3, "3>\tif the corresponding measObject concerns V2X sidelink communication, then for each transmission resource pool to be reported:", 139], ["", 4, "4>\tset the sl-poolReportIdentity to the SL-ResourcePoolID-EUTRA of this transmission resource pool (as identified in the corresponding measObject);", 140], ["", 4, "4>\tset cbr-PSSCH-ResultsEUTRA and cbr-PSCCH-ResultsEUTRA (when applicable) to the CBR measurement results on PSSCH and PSCCH of this transmission resource pool provided by lower layers, as specified in subclause 5.5.5 of TS 36.331 [10];\nNOTE 1:\tThe cbr-PSSCH-ResultsEUTRA and cbr-PSCCH-ResultsEUTRA are set in the same way as cbr-PSSCH and cbr-PSCCH in subclause 5.5.5 of TS 36.331 [10], respectively.", 141], ["-", 1, "1>\tif there is at least one applicable CLI measurement resource to report:", 142], ["-", 2, "2>\tif the reportType is set to cli-EventTriggered or cli-Periodical:", 143], ["-", 3, "3>\tset the measResultCLI to include the most interfering SRS resources or most interfering CLI-RSSI resources up to maxReportCLI in accordance with the following:", 144], ["-", 4, "4>\tif the reportType is set to cli-EventTriggered:", 145], ["-", 5, "5>\tif trigger quantity is set to srs-RSRP i.e. i1-Threshold is set to srs-RSRP:", 146], ["", 6, "6>\tinclude the SRS resource included in the cli-TriggeredList as defined within the VarMeasReportList for this measId;", 147], ["-", 5, "5>\tif trigger quantity is set to cli-RSSI i.e. i1-Threshold is set to cli-RSSI:", 148], ["", 6, "6>\tinclude the CLI-RSSI resource included in the cli-TriggeredList as defined within the VarMeasReportList for this measId;", 149], ["-", 4, "4>\telse:", 150], ["-", 5, "5>\tif reportQuantityCLI is set to srs-rsrp:", 151], ["", 6, "6>\tinclude the applicable SRS resources for which the new measurement results became available since the last periodical reporting or since the measurement was initiated or reset;", 152], ["-", 5, "5>\telse:", 153], ["", 6, "6>\tinclude the applicable CLI-RSSI resources for which the new measurement results became available since the last periodical reporting or since the measurement was initiated or reset;", 154], ["-", 4, "4>\tfor each SRS resource that is included in the measResultCLI:", 155], ["", 5, "5>\tinclude the srs-ResourceId;", 156], ["", 5, "5>\tset srs-RSRP-Result to include the layer 3 filtered measured results in decreasing order, i.e. the most interfering SRS resource is included first;", 157], ["-", 4, "4>\tfor each CLI-RSSI resource that is included in the measResultCLI:", 158], ["", 5, "5>\tinclude the rssi-ResourceId;", 159], ["", 5, "5>\tset cli-RSSI-Result to include the layer 3 filtered measured results in decreasing order, i.e. the most interfering CLI-RSSI resource is included first;", 160], ["", 1, "1>\tincrement the numberOfReportsSent as defined within the VarMeasReportList for this measId by 1;", 161], ["", 1, "1>\tstop the periodical reporting timer, if running;", 162], ["-", 1, "1>\tif the numberOfReportsSent as defined within the VarMeasReportList for this measId is less than the reportAmount as defined within the corresponding reportConfig for this measId:", 163], ["", 2, "2>\tstart the periodical reporting timer with the value of reportInterval as defined within the corresponding reportConfig for this measId;", 164], ["-", 1, "1>\telse:", 165], ["-", 2, "2>\tif the reportType is set to periodical or cli-Periodical:", 166], ["", 3, "3>\tremove the entry within the VarMeasReportList for this measId;", 167], ["", 3, "3>\tremove this measId from the measIdList within VarMeasConfig;", 168], ["-", 1, "1>\tif the UE is in (NG)EN-DC:", 169], ["-", 2, "2>\tif SRB3 is configured:", 170], ["", 3, "3>\tsubmit the MeasurementReport message via SRB3 to lower layers for transmission, upon which the procedure ends;", 171], ["-", 2, "2>\telse:", 172], ["", 3, "3>\tsubmit the MeasurementReport message via E-UTRA embedded in E-UTRA RRC message ULInformationTransferMRDC as specified in TS 36.331 [10].", 173], ["-", 1, "1>\telse if the UE is in NR-DC:", 174], ["-", 2, "2>\tif the measurement configuration that triggered this measurement report is associated with the SCG:", 175], ["-", 3, "3>\tif SRB3 is configured:", 176], ["", 4, "4>\tsubmit the MeasurementReport message via SRB3 to lower layers for transmission, upon which the procedure ends;", 177], ["-", 3, "3>\telse:", 178], ["", 4, "4>\tsubmit the MeasurementReport message via SRB1 embedded in NR RRC message ULInformationTransferMRDC as specified in <a href=\"#5.7.2a.3\">5.7.2a.3</a>;", 179], ["-", 2, "2>\telse:", 180], ["", 3, "3>\tsubmit the MeasurementReport message via SRB1 to lower layers for transmission, upon which the procedure ends;", 181], ["-", 1, "1>\telse:", 182], ["", 2, "2>\tsubmit the MeasurementReport message to lower layers for transmission, upon which the procedure ends.", 183]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.5\tMeasurement reporting\n5.5.5.1\tGeneral"}, {"id": "5.5.5.2", "name": "Reporting of beam measurement information", "headline": "5.5.5.2\tReporting of beam measurement information", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.5\tMeasurement reporting\n5.5.5.2\tReporting of beam measurement information", ""], ["-", 0, "For beam measurement information to be included in a measurement report the UE shall:", 0], ["-", 1, "1>\tif reportType is set to eventTriggered:", 1], ["", 2, "2>\tconsider the trigger quantity as the sorting quantity if available, otherwise RSRP as sorting quantity if available, otherwise RSRQ as sorting quantity if available, otherwise SINR as sorting quantity;", 2], ["-", 1, "1>\tif reportType is set to periodical:", 3], ["-", 2, "2>\tif a single reporting quantity is set to true in reportQuantityRS-Indexes;", 4], ["", 3, "3>\tconsider the configured single quantity as the sorting quantity;", 5], ["-", 2, "2>\telse:", 6], ["-", 3, "3>\tif rsrp is set to true;", 7], ["", 4, "4>\tconsider RSRP as the sorting quantity;", 8], ["-", 3, "3>\telse:", 9], ["", 4, "4>\tconsider RSRQ as the sorting quantity;", 10], ["-", 1, "1>\tset rsIndexResults to include up to maxNrofRS-IndexesToReport SS/PBCH block indexes or CSI-RS indexes in order of decreasing sorting quantity as follows:", 11], ["-", 2, "2>\tif the measurement information to be included is based on SS/PBCH block:", 12], ["", 3, "3>\tinclude within resultsSSB-Indexes the index associated to the best beam for that SS/PBCH block sorting quantity and if absThreshSS-BlocksConsolidation is included in the VarMeasConfig for the measObject associated to the cell for which beams are to be reported, the remaining beams whose sorting quantity is above absThreshSS-BlocksConsolidation;", 13], ["", 3, "3>\tif includeBeamMeasurements is configured, include the SS/PBCH based measurement results for the quantities in reportQuantityRS-Indexes set to true for each SS/PBCH block index;", 14], ["-", 2, "2>\telse if the beam measurement information to be included is based on CSI-RS:", 15], ["", 3, "3>\tinclude within resultsCSI-RS-Indexes the index associated to the best beam for that CSI-RS sorting quantity and, if absThreshCSI-RS-Consolidation is included in the VarMeasConfig for the measObject associated to the cell for which beams are to be reported, the remaining beams whose sorting quantity is above absThreshCSI-RS-Consolidation;", 16], ["", 3, "3>\tif includeBeamMeasurements is configured, include the CSI-RS based measurement results for the quantities in reportQuantityRS-Indexes set to true for each CSI-RS index.", 17]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.5\tMeasurement reporting\n5.5.5.2\tReporting of beam measurement information"}, {"id": "5.5.5.3", "name": "Sorting of cell measurement results", "headline": "5.5.5.3\tSorting of cell measurement results", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.5\tMeasurement reporting\n5.5.5.3\tSorting of cell measurement results", ""], ["-", 0, "The UE shall determine the sorting quantity according to parameters of the reportConfig associated with the measId that triggered the reporting:", 0], ["-", 1, "1>\tif the reportType is set to eventTriggered:", 1], ["", 2, "2>\tfor an NR cell, consider the quantity used in the aN-Threshold (for eventA1, eventA2 and eventA4) or in the a5-Threshold2 (for eventA5) or in the aN-Offset (for eventA3 and eventA6) as the sorting quantity;", 2], ["", 2, "2>\tfor an E-UTRA cell, consider the quantity used in the bN-ThresholdEUTRA as the sorting quantity;", 3], ["", 2, "2>\tfor an UTRA-FDD cell, consider the quantity used in the bN-ThresholdUTRA-FDD as the sorting quantity;", 4], ["-", 1, "1>\tif the reportType is set to periodical:", 5], ["-", 2, "2>\tdetermine the sorting quantity according to reportQuantityCell for an NR cell, and according to reportQuantity for an E-UTRA cell, as below:", 6], ["-", 3, "3>\tif a single quantity is set to true:", 7], ["", 4, "4>\tconsider this quantity as the sorting quantity;", 8], ["-", 3, "3>\telse:", 9], ["-", 4, "4>\tif rsrp is set to true;", 10], ["", 5, "5>\tconsider RSRP as the sorting quantity;", 11], ["-", 4, "4>\telse:", 12], ["", 5, "5>\tconsider RSRQ as the sorting quantity;", 13], ["-", 2, "2>\tdetermine the sorting quantity according to reportQuantityUTRA-FDD for UTRA-FDD cell, as below:", 14], ["-", 3, "3>\tif a single quantity is set to true:", 15], ["", 4, "4>\tconsider this quantity as the sorting quantity;", 16], ["-", 3, "3>\telse:", 17], ["", 4, "4>\tconsider RSCP as the sorting quantity.", 18]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.5\tMeasurement reporting\n5.5.5.3\tSorting of cell measurement results"}, {"id": "5.5.6", "name": "Location measurement indication", "headline": "5.5.6\tLocation measurement indication", "aoa": [], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.6\tLocation measurement indication"}, {"id": "5.5.6.1", "name": "General", "headline": "5.5.6.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.6\tLocation measurement indication\n5.5.6.1\tGeneral", ""], ["", 0, "Figure 5.5.5.1-1: Location measurement indication", 0], ["", 0, "The purpose of this procedure is to indicate to the network that the UE is going to start/stop location related measurements (eutra-RSTD) which require measurement gaps or start/stop subframe and slot timing detection towards E-UTRA (eutra-FineTimingDetection) which requires measurement gaps. UE shall initiate this procedure only after successful AS security activation.\nNOTE:\tIt is a network decision to configure the measurement gap.", 1]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.6\tLocation measurement indication\n5.5.6.1\tGeneral"}, {"id": "5.5.6.2", "name": "Initiation", "headline": "5.5.6.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.6\tLocation measurement indication\n5.5.6.2\tInitiation", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif and only if upper layers indicate to start performing location measurements or start subframe and slot timing detection towards E-UTRA, and the UE requires measurement gaps for these operations while measurement gaps are either not configured or not sufficient:", 1], ["", 2, "2>\tinitiate the procedure to indicate start;\nNOTE 1:\tThe UE verifies the measurement gap situation only upon receiving the indication from upper layers. If at this point in time sufficient gaps are available, the UE does not initiate the procedure. Unless it receives a new indication from upper layers, the UE is only allowed to further repeat the procedure in the same PCell once per frequency of the target RAT if the provided measurement gaps are insufficient.", 2], ["-", 1, "1>\tif and only if upper layers indicate to stop performing location measurements or stop subframe and slot timing detection towards E-UTRA:", 3], ["", 2, "2>\tinitiate the procedure to indicate stop.\nNOTE 2:\tThe UE may initiate the procedure to indicate stop even if it did not previously initiate the procedure to indicate start.", 4]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.6\tLocation measurement indication\n5.5.6.2\tInitiation"}, {"id": "5.5.6.3", "name": "Actions related to transmission of LocationMeasurementIndication message", "headline": "5.5.6.3\tActions related to transmission of LocationMeasurementIndication message", "aoa": [["-", -1, "5\t Procedures\n5.5\tMeasurements\n5.5.6\tLocation measurement indication\n5.5.6.3\tActions related to transmission of LocationMeasurementIndication message", ""], ["-", 0, "The UE shall set the contents of LocationMeasurementIndication message as follows:", 0], ["-", 1, "1>\tif the procedure is initiated to indicate start of location related measurements:", 1], ["-", 2, "2>\tif the procedure is initiated for RSTD measurements towards E-UTRA:", 2], ["", 3, "3>\tset the measurementIndication to the eutra-RSTD according to the information received from upper layers;", 3], ["-", 1, "1>\telse if the procedure is initiated to indicate stop of location related measurements:", 4], ["", 2, "2>\tset the measurementIndication to the value release;", 5], ["-", 1, "1>\tif the procedure is initiated to indicate start of subframe and slot timing detection towards E-UTRA:", 6], ["", 2, "2>\tset the measurementIndication to the value eutra-FineTimingDetection;", 7], ["-", 1, "1>\telse if the procedure is initiated to indicate stop of subframe and slot timing detection towards E-UTRA:", 8], ["", 2, "2>\tset the measurementIndication to the value release;", 9], ["", 1, "1>\tsubmit the LocationMeasurementIndication message to lower layers for transmission, upon which the procedure ends.", 10]], "desc": "5\t Procedures\n5.5\tMeasurements\n5.5.6\tLocation measurement indication\n5.5.6.3\tActions related to transmission of LocationMeasurementIndication message"}, {"id": "5.5a", "name": "Logged Measurements", "headline": "5.5a\tLogged Measurements", "aoa": [], "desc": "5\t Procedures\n5.5a\tLogged Measurements"}, {"id": "5.5a.1", "name": "Logged Measurement Configuration", "headline": "5.5a.1\tLogged Measurement Configuration", "aoa": [], "desc": "5\t Procedures\n5.5a\tLogged Measurements\n5.5a.1\tLogged Measurement Configuration"}, {"id": "5.5a.1.1", "name": "General", "headline": "5.5a.1.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.5a\tLogged Measurements\n5.5a.1\tLogged Measurement Configuration\n5.5a.1.1\tGeneral", ""], ["", 0, "Figure 5.5a.1.1-1: Logged measurement configuration", 0], ["", 0, "The purpose of this procedure is to configure the UE to perform logging of measurement results while in RRC_IDLE and RRC_INACTIVE. The procedure applies to logged measurements capable UEs that are in RRC_CONNECTED.\nNOTE:\tNG-RAN may retrieve stored logged measurement information by means of the UE information procedure.", 1]], "desc": "5\t Procedures\n5.5a\tLogged Measurements\n5.5a.1\tLogged Measurement Configuration\n5.5a.1.1\tGeneral"}, {"id": "5.5a.1.2", "name": "Initiation", "headline": "5.5a.1.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.5a\tLogged Measurements\n5.5a.1\tLogged Measurement Configuration\n5.5a.1.2\tInitiation", ""], ["", 0, "NG-RAN initiates the logged measurement configuration procedure to UE in RRC_CONNECTED by sending the LoggedMeasurementConfiguration message.", 0]], "desc": "5\t Procedures\n5.5a\tLogged Measurements\n5.5a.1\tLogged Measurement Configuration\n5.5a.1.2\tInitiation"}, {"id": "5.5a.1.3", "name": "Reception of the LoggedMeasurementConfiguration by the UE", "headline": "5.5a.1.3\tReception of the LoggedMeasurementConfiguration by the UE", "aoa": [["-", -1, "5\t Procedures\n5.5a\tLogged Measurements\n5.5a.1\tLogged Measurement Configuration\n5.5a.1.3\tReception of the LoggedMeasurementConfiguration by the UE", ""], ["-", 0, "Upon receiving the LoggedMeasurementConfiguration message the UE shall:", 0], ["", 1, "1>\tdiscard the logged measurement configuration as well as the logged measurement information as specified in 5.5a.2;", 1], ["", 1, "1>\tstore the received loggingDuration, loggingInterval and areaConfiguration, if included, in VarLogMeasConfig;", 2], ["-", 1, "1>\tif the LoggedMeasurementConfiguration message includes plmn-IdentityList:", 3], ["", 2, "2>\tset plmn-IdentityList in VarLogMeasReport to include the RPLMN as well as the PLMNs included in plmn-IdentityList;", 4], ["-", 1, "1>\telse:", 5], ["", 2, "2>\tset plmn-IdentityList in VarLogMeasReport to include the RPLMN;", 6], ["", 1, "1>\tstore the received absoluteTimeInfo, traceReference, traceRecordingSessionRef, tce-Id and reportType in VarLogMeasReport;", 7], ["", 1, "1>\tstart timer T330 with the timer value set to the loggingDuration;", 8]], "desc": "5\t Procedures\n5.5a\tLogged Measurements\n5.5a.1\tLogged Measurement Configuration\n5.5a.1.3\tReception of the LoggedMeasurementConfiguration by the UE"}, {"id": "5.5a.1.4", "name": "T330 expiry", "headline": "5.5a.1.4\tT330 expiry", "aoa": [["-", -1, "5\t Procedures\n5.5a\tLogged Measurements\n5.5a.1\tLogged Measurement Configuration\n5.5a.1.4\tT330 expiry", ""], ["-", 0, "Upon expiry of T330 the UE shall:", 0], ["", 1, "1>\trelease VarLogMeasConfig;", 1], ["", 0, "The UE is allowed to discard stored logged measurements, i.e. to release VarLogMeasReport, 48 hours after T330 expiry.", 2]], "desc": "5\t Procedures\n5.5a\tLogged Measurements\n5.5a.1\tLogged Measurement Configuration\n5.5a.1.4\tT330 expiry"}, {"id": "5.5a.2", "name": "Release of Logged Measurement Configuration", "headline": "5.5a.2\tRelease of Logged Measurement Configuration", "aoa": [], "desc": "5\t Procedures\n5.5a\tLogged Measurements\n5.5a.2\tRelease of Logged Measurement Configuration"}, {"id": "5.5a.2.1", "name": "General", "headline": "5.5a.2.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.5a\tLogged Measurements\n5.5a.2\tRelease of Logged Measurement Configuration\n5.5a.2.1\tGeneral", ""], ["", 0, "The purpose of this procedure is to release the logged measurement configuration as well as the logged measurement information.", 0]], "desc": "5\t Procedures\n5.5a\tLogged Measurements\n5.5a.2\tRelease of Logged Measurement Configuration\n5.5a.2.1\tGeneral"}, {"id": "5.5a.2.2", "name": "Initiation", "headline": "5.5a.2.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.5a\tLogged Measurements\n5.5a.2\tRelease of Logged Measurement Configuration\n5.5a.2.2\tInitiation", ""], ["", 0, "The UE shall initiate the procedure upon receiving a logged measurement configuration in another RAT. The UE shall also initiate the procedure upon power off or detach.", 0], ["-", 0, "The UE shall:", 1], ["", 1, "1>\tstop timer T330, if running;", 2], ["", 1, "1>\tif stored, discard the logged measurement configuration as well as the logged measurement information, i.e. release the UE variables VarLogMeasConfig and VarLogMeasReport.", 3]], "desc": "5\t Procedures\n5.5a\tLogged Measurements\n5.5a.2\tRelease of Logged Measurement Configuration\n5.5a.2.2\tInitiation"}, {"id": "5.5a.3", "name": "Measurements logging", "headline": "5.5a.3\tMeasurements logging", "aoa": [], "desc": "5\t Procedures\n5.5a\tLogged Measurements\n5.5a.3\tMeasurements logging"}, {"id": "5.5a.3.1", "name": "General", "headline": "5.5a.3.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.5a\tLogged Measurements\n5.5a.3\tMeasurements logging\n5.5a.3.1\tGeneral", ""], ["", 0, "This procedure specifies the logging of available measurements by a UE in RRC_IDLE and RRC_INACTIVE that has a logged measurement configuration. The actual process of logging within the UE, takes place in RRC IDLE state could continue in RRC INACTIVE state or vice versa.", 0]], "desc": "5\t Procedures\n5.5a\tLogged Measurements\n5.5a.3\tMeasurements logging\n5.5a.3.1\tGeneral"}, {"id": "5.5a.3.2", "name": "Initiation", "headline": "5.5a.3.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.5a\tLogged Measurements\n5.5a.3\tMeasurements logging\n5.5a.3.2\tInitiation", ""], ["-", 0, "While T330 is running, the UE shall:", 0], ["-", 1, "1>\tperform the logging in accordance with the following:", 1], ["-", 2, "2>\tif the reportType is set to periodical in the VarLogMeasConfig:", 2], ["-", 3, "3>\tif the UE is camping normally on an NR cell and if the RPLMN is included in plmn-IdentityList stored in VarLogMeasReport and, if the cell is part of the area indicated by areaConfiguration if configured in VarLogMeasConfig:", 3], ["", 4, "4>\tperform the logging at regular time intervals, as defined by the loggingInterval in the LoggedEventTriggerConfig;", 4], ["-", 2, "2>\telse if the reportType is set to eventTriggered, which indicates outOfCoverage:", 5], ["", 3, "3>\tperform the logging at regular time intervals as defined by the loggingInterval in VarLogMeasConfig only when the UE is in any cell selection state;", 6], ["-", 2, "2>\telse if the reportType is set to eventType and eventL1 is indicated:", 7], ["", 3, "3>\tperform the logging at regular time intervals as defined by the loggingInterval in VarLogMeasConfig only when the conditions indicated by the eventL1 are met;", 8], ["-", 2, "2>\twhen performing the logging:", 9], ["", 3, "3>\tset the relativeTimeStamp to indicate the elapsed time since the moment at which the logged measurement configuration was received;", 10], ["-", 3, "3>\tif detailed location information became available during the last logging interval, set the content of the locationInfo as follows:", 11], ["", 4, "4>\tinclude the locationCoordinates;", 12], ["-", 3, "3>\tif WLAN-NameList is included in VarLogMeasConfig:", 13], ["-", 4, "4>\tif detailed WLAN measurements are available:", 14], ["", 5, "5>\tinclude logMeasResultListWLAN, in order of decreasing RSSI for WLAN APs;", 15], ["-", 3, "3>\tif BT-NameList is included in VarLogMeasConfig:", 16], ["-", 4, "4>\tif detailed Bluetooth measurements are available:", 17], ["", 5, "5>\tinclude logMeasResultListBT, in order of decreasing RSSI for Bluetooth beacons;", 18], ["-", 3, "3>\tif Sensor-NameList is included in VarLogMeasConfig:", 19], ["-", 4, "4>\tif detailed Sensor measurements are available:", 20], ["", 5, "5>\tinclude Sensor-LocationInfo-r16 for sensors;", 21], ["-", 3, "3>\tif the UE is in any cell seletion state (as specificed in TS 38.304 [20]):", 22], ["", 4, "4>\tset anyCellSelectionDetected to indicate the detection of no suitable or no acceptable cell found;", 23], ["", 4, "4>\tset the servCellIdentity to indicate global cell identity of the last logged cell that the UE was camping on;", 24], ["", 4, "4>\tset the measResultServCell to include the quantities of the last logged cell the UE was camping on;", 25], ["-", 3, "3>\telse:", 26], ["", 4, "4>\tset the servCellIdentity to indicate global cell identity of the cell the UE is camping on;", 27], ["", 4, "4>\tset the measResultServCell to include the quantities of the cell the UE is camping on;", 28], ["-", 4, "4>\tif available, set the measResultNeighCells, in order of decreasing ranking-criterion as used for cell re-selection, to include neighbouring cell measurements (excluding the resultsSSB-Indexes IE) that became available during the last logging interval for at most the following number of neighbouring cells: 6 intra-frequency and 3 inter-frequency neighbours per frequency as well as 3 inter-RAT neighbours, per frequency/ set of frequencies per RAT and according to the following:", 29], ["", 5, "5>\tfor each neighbour cell included, include the optional fields that are available;", 30], ["", 4, "4>\tfor the cells included according to the previous (i.e. covering previous and current serving cells as well as neighbouring NR cells) include results according to the extended RSRQ if corresponding results are available according to the associated performance requirements defined in TS 38.133 [14];\nNOTE:\tThe UE includes the latest results of the available measurements as used for cell reselection evaluation in RRC_IDLE or RRC_INACTIVE or as used for evaluation of reporting criteria or for measurement reporting according to 5.5.3 in RRC_CONNECTED, which are performed in accordance with the performance requirements as specified in TS 38.133 [14].", 31], ["", 2, "2>\twhen the memory reserved for the logged measurement information becomes full, stop timer T330 and perform the same actions as performed upon expiry of T330, as specified in 5.5a.1.4.", 32]], "desc": "5\t Procedures\n5.5a\tLogged Measurements\n5.5a.3\tMeasurements logging\n5.5a.3.2\tInitiation"}, {"id": "5.6", "name": "UE capabilities", "headline": "5.6\tUE capabilities", "aoa": [], "desc": "5\t Procedures\n5.6\tUE capabilities"}, {"id": "5.6.1", "name": "UE capability transfer", "headline": "5.6.1\tUE capability transfer", "aoa": [], "desc": "5\t Procedures\n5.6\tUE capabilities\n5.6.1\tUE capability transfer"}, {"id": "5.6.1.1", "name": "General", "headline": "5.6.1.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.6\tUE capabilities\n5.6.1\tUE capability transfer\n5.6.1.1\tGeneral", ""], ["", 0, "This clause describes how the UE compiles and transfers its UE capability information upon receiving a UECapabilityEnquiry from the network.", 0], ["", 0, "Figure 5.6.1.1-1: UE capability transfer", 1]], "desc": "5\t Procedures\n5.6\tUE capabilities\n5.6.1\tUE capability transfer\n5.6.1.1\tGeneral"}, {"id": "5.6.1.2", "name": "Initiation", "headline": "5.6.1.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.6\tUE capabilities\n5.6.1\tUE capability transfer\n5.6.1.2\tInitiation", ""], ["", 0, "The network initiates the procedure to a UE in RRC_CONNECTED when it needs (additional) UE radio access capability information. The network should retrieve UE capabilities only after AS security activation. Network does not forward UE capabilities that were retrieved before AS security activation to the CN.", 0]], "desc": "5\t Procedures\n5.6\tUE capabilities\n5.6.1\tUE capability transfer\n5.6.1.2\tInitiation"}, {"id": "5.6.1.3", "name": "Reception of the UECapabilityEnquiry by the UE", "headline": "5.6.1.3\tReception of the UECapabilityEnquiry by the UE", "aoa": [["-", -1, "5\t Procedures\n5.6\tUE capabilities\n5.6.1\tUE capability transfer\n5.6.1.3\tReception of the UECapabilityEnquiry by the UE", ""], ["-", 0, "The UE shall set the contents of UECapabilityInformation message as follows:", 0], ["-", 1, "1>\tif the ue-CapabilityRAT-RequestList contains a UE-CapabilityRAT-Request with rat-Type set to nr:", 1], ["", 2, "2>\tinclude in the ue-CapabilityRAT-ContainerList a UE-CapabilityRAT-Container of the type UE-NR-Capability and with the rat-Type set to nr;", 2], ["", 2, "2>\tinclude the supportedBandCombinationList, featureSets and featureSetCombinations as specified in clause <a href=\"#5.6.1.4\">5.6.1.4</a>;", 3], ["-", 1, "1>\tif the ue-CapabilityRAT-RequestList contains a UE-CapabilityRAT-Request with rat-Type set to eutra-nr:", 4], ["-", 2, "2> if the UE supports (NG)EN-DC or NE-DC:", 5], ["", 3, "3>\tinclude in the ue-CapabilityRAT-ContainerList a UE-CapabilityRAT-Container of the type UE-MRDC-Capability and with the rat-Type set to eutra-nr;", 6], ["", 3, "3>\tinclude the supportedBandCombinationList and featureSetCombinations as specified in clause <a href=\"#5.6.1.4\">5.6.1.4</a>;", 7], ["-", 1, "1>\tif the ue-CapabilityRAT-RequestList contains a UE-CapabilityRAT-Request with rat-Type set to eutra:", 8], ["-", 2, "2>\tif the UE supports E-UTRA:", 9], ["", 3, "3>\tinclude in the ue-CapabilityRAT-ContainerList a ue-CapabilityRAT-Container of the type UE-EUTRA-Capability and with the rat-Type set to eutra as specified in TS 36.331 [10], clause 5.6.3.3, according to the capabilityRequestFilter, if received;", 10], ["-", 1, "1>\tif the ue-CapabilityRAT-RequestList contains a UE-CapabilityRAT-Request with rat-Type set to utra-fdd:", 11], ["-", 2, "2>\tif the UE supports UTRA-FDD:", 12], ["", 3, "3>\tinclude the UE radio access capabilities for UTRA-FDD within a ue-CapabilityRAT-Container and with the rat-Type set to utra-fdd;", 13], ["-", 1, "1>\tif the RRC message segmentation is enabled based on the field rrc-SegAllowed received, and the encoded RRC message is larger than the maximum supported size of a PDCP SDU specified in TS 38.323 [5]:", 14], ["", 2, "2>\tinitiate the UL message segment transfer procedure as specified in clause 5.7.7;", 15], ["-", 1, "1>\telse:", 16], ["", 2, "2>\tsubmit the UECapabilityInformation message to lower layers for transmission, upon which the procedure ends.", 17]], "desc": "5\t Procedures\n5.6\tUE capabilities\n5.6.1\tUE capability transfer\n5.6.1.3\tReception of the UECapabilityEnquiry by the UE"}, {"id": "5.6.1.4", "name": "Setting band combinations, feature set combinations and feature sets supported by the UE", "headline": "5.6.1.4\tSetting band combinations, feature set combinations and feature sets supported by the UE", "aoa": [["-", -1, "5\t Procedures\n5.6\tUE capabilities\n5.6.1\tUE capability transfer\n5.6.1.4\tSetting band combinations, feature set combinations and feature sets supported by the UE", ""], ["", 0, "The UE invokes the procedures in this clause if the NR or E-UTRA network requests UE capabilities for nr, eutra-nr or eutra. This procedure is invoked once per requested rat-Type (see clause <a href=\"#5.6.1.3\">5.6.1.3</a> for capability enquiry by the NR network; see TS 36.331 [10], clause 5.6.3.3 for capability enquiry by the E-UTRA network). The UE shall ensure that the feature set IDs are consistent across feature sets, feature set combinations and band combinations in all three UE capability containers that the network queries with the same fields with the same values, i.e. UE-CapabilityRequestFilterNR and fields in UECapabilityEnquiry message (i.e. requestedFreqBandsNR-MRDC, requestedCapabilityNR and eutra-nr-only flag) as defined in TS 36.331, where applicable.\nNOTE 1:\tCapability enquiry without frequencyBandListFilter is not supported.\nNOTE 2:\tIn EN-DC, the gNB needs the capabilities for RAT types nr and eutra-nr and it uses the featureSets in the UE-NR-Capability together with the featureSetCombinations in the UE-MRDC-Capability to determine the NR UE capabilities for the supported MRDC band combinations. Similarly, the eNB needs the capabilities for RAT types eutra and eutra-nr and it uses the featureSetsEUTRA in the UE-EUTRA-Capability together with the featureSetCombinations in the UE-MRDC-Capability to determine the E-UTRA UE capabilities for the supported MRDC band combinations. Hence, the IDs used in the featureSets must match the IDs referred to in featureSetCombinations across all three containers. The requirement on consistency implies that there are no undefined feature sets and feature set combinations.\nNOTE 3:\tIf the UE cannot include all feature sets and feature set combinations due to message size or list size constraints, it is up to UE implementation which feature sets and feature set combinations it prioritizes.", 0], ["-", 0, "The UE shall:", 1], ["", 1, "1>\tcompile a list of \"candidate band combinations\" according to the filter criteria in capabilityRequestFilterCommon (if included), only consisting of bands included in frequencyBandListFilter, and prioritized in the order of frequencyBandListFilter (i.e. first include band combinations containing the first-listed band, then include remaining band combinations containing the second-listed band, and so on), where for each band in the band combination, the parameters of the band do not exceed maxBandwidthRequestedDL, maxBandwidthRequestedUL, maxCarriersRequestedDL, maxCarriersRequestedUL, ca-BandwidthClassDL-EUTRA or ca-BandwidthClassUL-EUTRA, whichever are received;", 2], ["-", 1, "1>\tfor each band combination included in the list of \"candidate band combinations\":", 3], ["", 2, "2>\tif the network (E-UTRA) included the eutra-nr-only field, or", 4], ["-", 2, "2>\tif the requested rat-Type is eutra:", 5], ["", 3, "3>\tremove the NR-only band combination from the list of \"candidate band combinations\";\nNOTE 4:\tThe (E-UTRA) network may request capabilities for nr but indicate with the eutra-nr-only flag that the UE shall not include any NR band combinations in the UE-NR-Capability. In this case the procedural text above removes all NR-only band combinations from the candidate list and thereby also avoids inclusion of corresponding feature set combinations and feature sets below.", 6], ["", 2, "2>\tif it is regarded as a fallback band combination with the same capabilities of another band combination included in the list of \"candidate band combinations\", and", 7], ["-", 2, "2>\tif this fallback band combination is generated by releasing at least one SCell or uplink configuration of SCell according to TS 38.306 [26]:", 8], ["", 3, "3>\tremove the band combination from the list of \"candidate band combinations\";\nNOTE 5:\tEven if the network requests (only) capabilities for nr, it may include E-UTRA band numbers in the frequencyBandListFilter to ensure that the UE includes all necessary feature sets needed for subsequently requested eutra-nr capabilities. At this point of the procedure the list of \"candidate band combinations\" contains all NR- and/or E-UTRA-NR band combinations that match the filter (frequencyBandListFilter) provided by the NW and that match the eutra-nr-only flag (if RAT-Type nr is requested by E-UTRA). In the following, this candidate list is used to derive the band combinations, feature set combinations and feature sets to be reported in the requested capability container.", 9], ["-", 1, "1>\tif the requested rat-Type is nr:", 10], ["-", 2, "2>\tinclude into supportedBandCombinationList as many NR-only band combinations as possible from the list of \"candidate band combinations\", starting from the first entry;", 11], ["-", 3, "3>\tif srs-SwitchingTimeRequest is received:", 12], ["-", 4, "4>\tif SRS carrier switching is supported;", 13], ["", 5, "5>\tinclude srs-SwitchingTimesListNR for each band combination;", 14], ["", 4, "4>\tset srs-SwitchingTimeRequested to true;", 15], ["", 2, "2>\tinclude, into featureSetCombinations, the feature set combinations referenced from the supported band combinations as included in supportedBandCombinationList according to the previous;", 16], ["", 2, "2>\tcompile a list of \"candidate feature set combinations\" referenced from the list of \"candidate band combinations\" excluding entries (rows in feature set combinations) for fallback band combinations with same or lower capabilities;\nNOTE 6:\tThis list of \"candidate feature set combinations\" contains the feature set combinations used for NR-only as well as E-UTRA-NR band combinations. It is used to derive a list of NR feature sets referred to from the feature set combinations in the UE-NR-Capability and from the feature set combinations in a UE-MRDC-Capability container.", 17], ["", 2, "2>\tinclude into featureSets the feature sets referenced from the \"candidate feature set combinations\" excluding entries (feature sets per CC) for fallback band combinations with same or lower capabilities and may exclude the feature sets with the parameters that exceed any of maxBandwidthRequestedDL, maxBandwidthRequestedUL, maxCarriersRequestedDL or maxCarriersRequestedUL, whichever are received;", 18], ["-", 1, "1>\telse, if the requested rat-Type is eutra-nr:", 19], ["-", 2, "2>\tinclude into supportedBandCombinationList and/or supportedBandCombinationListNEDC-Only as many E-UTRA-NR band combinations as possible from the list of \"candidate band combinations\", starting from the first entry;", 20], ["-", 3, "3>\tif srs-SwitchingTimeRequest is received:", 21], ["-", 4, "4>\tif SRS carrier switching is supported;", 22], ["", 5, "5>\tinclude srs-SwitchingTimesListNR and srs-SwitchingTimesListEUTRA for each band combination;", 23], ["", 4, "4>\tset srs-SwitchingTimeRequested to true;", 24], ["", 2, "2>\tinclude, into featureSetCombinations, the feature set combinations referenced from the supported band combinations as included in supportedBandCombinationList according to the previous;", 25], ["-", 1, "1>\telse (if the requested rat-Type is eutra):", 26], ["", 2, "2>\tcompile a list of \"candidate feature set combinations\" referenced from the list of \"candidate band combinations\" excluding entries (rows in feature set combinations) for fallback band combinations with same or lower capabilities;\nNOTE 7:\tThis list of \"candidate feature set combinations\" contains the feature set combinations used for E-UTRA-NR band combinations. It is used to derive a list of E-UTRA feature sets referred to from the feature set combinations in a UE-MRDC-Capability container.", 27], ["", 2, "2>\tinclude into featureSetsEUTRA (in the UE-EUTRA-Capability) the feature sets referenced from the \"candidate feature set combinations\" excluding entries (feature sets per CC) for fallback band combinations with same or lower capabilities and may exclude the feature sets with the parameters that exceed ca-BandwidthClassDL-EUTRA or ca-BandwidthClassUL-EUTRA, whichever are received;", 28], ["", 1, "1>\tinclude the received frequencyBandListFilter in the field appliedFreqBandListFilter of the requested UE capability, except if the requested rat-Type is nr and the network included the eutra-nr-only field;", 29], ["-", 1, "1>\tif the network included ue-CapabilityEnquiryExt:", 30], ["", 2, "2>\tinclude the received ue-CapabilityEnquiryExt in the field receivedFilters;", 31]], "desc": "5\t Procedures\n5.6\tUE capabilities\n5.6.1\tUE capability transfer\n5.6.1.4\tSetting band combinations, feature set combinations and feature sets supported by the UE"}, {"id": "5.6.1.5", "name": "Void", "headline": "5.6.1.5\tVoid", "aoa": [], "desc": "5\t Procedures\n5.6\tUE capabilities\n5.6.1\tUE capability transfer\n5.6.1.5\tVoid"}, {"id": "5.7", "name": "Other", "headline": "5.7\tOther", "aoa": [], "desc": "5\t Procedures\n5.7\tOther"}, {"id": "5.7.1", "name": "DL information transfer", "headline": "5.7.1\tDL information transfer", "aoa": [], "desc": "5\t Procedures\n5.7\tOther\n5.7.1\tDL information transfer"}, {"id": "5.7.1.1", "name": "General", "headline": "5.7.1.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.1\tDL information transfer\n5.7.1.1\tGeneral", ""], ["", 0, "Figure 5.7.1.1-1: DL information transfer", 0], ["", 0, "The purpose of this procedure is to transfer NAS dedicated information from NG-RAN to a UE in RRC_CONNECTED.", 1]], "desc": "5\t Procedures\n5.7\tOther\n5.7.1\tDL information transfer\n5.7.1.1\tGeneral"}, {"id": "5.7.1.2", "name": "Initiation", "headline": "5.7.1.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.1\tDL information transfer\n5.7.1.2\tInitiation", ""], ["", 0, "The network initiates the DL information transfer procedure whenever there is a need to transfer NAS dedicated information. The network initiates the DL information transfer procedure by sending the DLInformationTransfer message.", 0]], "desc": "5\t Procedures\n5.7\tOther\n5.7.1\tDL information transfer\n5.7.1.2\tInitiation"}, {"id": "5.7.1.3", "name": "Reception of the DLInformationTransfer by the UE", "headline": "5.7.1.3\tReception of the DLInformationTransfer by the UE", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.1\tDL information transfer\n5.7.1.3\tReception of the DLInformationTransfer by the UE", ""], ["-", 0, "Upon receiving DLInformationTransfer message, the UE shall:", 0], ["-", 1, "1>\tif dedicatedNAS-Message is included:", 1], ["", 2, "2>\tforward dedicatedNAS-Message to upper layers.", 2], ["-", 1, "1>\tif referenceTimeInfo is included:", 3], ["", 2, "2>\tcalculate the reference time based on the included time, timeInfoType and referenceSFN;", 4], ["", 2, "2>\tcalculate the uncertainty of the reference time based on the uncertainty, if uncertainty is included;", 5], ["", 2, "2>\tinform upper layers of the reference time and, if uncertainty is included, of the uncertainty.", 6]], "desc": "5\t Procedures\n5.7\tOther\n5.7.1\tDL information transfer\n5.7.1.3\tReception of the DLInformationTransfer by the UE"}, {"id": "5.7.1a", "name": "DL information transfer for MR-DC", "headline": "5.7.1a\tDL information transfer for MR-DC", "aoa": [], "desc": "5\t Procedures\n5.7\tOther\n5.7.1a\tDL information transfer for MR-DC"}, {"id": "5.7.1a.1", "name": "General", "headline": "5.7.1a.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.1a\tDL information transfer for MR-DC\n5.7.1a.1\tGeneral", ""], ["", 0, "Figure 5.7.1a.1-1: DL information transfer MR-DC", 0], ["", 0, "The purpose of this procedure is to transfer RRC messages from the network to the UE over SRB3 instead of SRB1 e.g. the NR or E-UTRA RRC connection reconfiguration or RRC connection release message during fast MCG link recovery.", 1]], "desc": "5\t Procedures\n5.7\tOther\n5.7.1a\tDL information transfer for MR-DC\n5.7.1a.1\tGeneral"}, {"id": "5.7.1a.2", "name": "Initiation", "headline": "5.7.1a.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.1a\tDL information transfer for MR-DC\n5.7.1a.2\tInitiation", ""], ["", 0, "The network initiates this procedure whenever there is a need to transfer an RRC message e.g. an RRC connection reconfiguration (involving NR or E-UTRA connection reconfiguration) or an NR or E-UTRA RRC connection release messages during fast MCG link recovery.", 0]], "desc": "5\t Procedures\n5.7\tOther\n5.7.1a\tDL information transfer for MR-DC\n5.7.1a.2\tInitiation"}, {"id": "5.7.1a.3", "name": "Actions related to reception of DLInformationTransferMRDC message", "headline": "5.7.1a.3\tActions related to reception of DLInformationTransferMRDC message", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.1a\tDL information transfer for MR-DC\n5.7.1a.3\tActions related to reception of DLInformationTransferMRDC message", ""], ["-", 0, "Upon receiving the DLInformationTransferMRDC, the UE shall:", 0], ["-", 1, "1>\tif the RRCReconfiguration message is included in dl-DCCH-MessageNR:", 1], ["", 2, "2>\tperform the RRC reconfiguration procedure according to <a href=\"#5.3.5.3\">5.3.5.3</a>;", 2], ["-", 1, "1>\telse if the RRCRelease message is included in dl-DCCH-MessageNR:", 3], ["", 2, "2>\tperform the RRC release procedure according to 5.3.8;", 4], ["-", 1, "1>\telse if the E-UTRA RRCConnectionReconfiguration message is included in dl-DCCH-MessageEUTRA:", 5], ["", 2, "2>\tperform the RRC connection reconfiguration procedure as specified in TS 36.331 [10], clause <a href=\"#5.3.5.3\">5.3.5.3</a>;", 6], ["-", 1, "1>\telse if the E-UTRA RRCConnectionRelease message is included in dl-DCCH-MessageEUTRA:", 7], ["", 2, "2>\tperform the RRC connection release as specified in TS 36.331 [10], clause 5.3.8;", 8]], "desc": "5\t Procedures\n5.7\tOther\n5.7.1a\tDL information transfer for MR-DC\n5.7.1a.3\tActions related to reception of DLInformationTransferMRDC message"}, {"id": "5.7.2", "name": "UL information transfer", "headline": "5.7.2\tUL information transfer", "aoa": [], "desc": "5\t Procedures\n5.7\tOther\n5.7.2\tUL information transfer"}, {"id": "5.7.2.1", "name": "General", "headline": "5.7.2.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.2\tUL information transfer\n5.7.2.1\tGeneral", ""], ["", 0, "Figure 5.7.2.1-1: UL information transfer", 0], ["", 0, "The purpose of this procedure is to transfer NAS dedicated information from the UE to the network.", 1]], "desc": "5\t Procedures\n5.7\tOther\n5.7.2\tUL information transfer\n5.7.2.1\tGeneral"}, {"id": "5.7.2.2", "name": "Initiation", "headline": "5.7.2.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.2\tUL information transfer\n5.7.2.2\tInitiation", ""], ["", 0, "A UE in RRC_CONNECTED initiates the UL information transfer procedure whenever there is a need to transfer NAS dedicated information. The UE initiates the UL information transfer procedure by sending the ULInformationTransfer message.", 0]], "desc": "5\t Procedures\n5.7\tOther\n5.7.2\tUL information transfer\n5.7.2.2\tInitiation"}, {"id": "5.7.2.3", "name": "Actions related to transmission of ULInformationTransfer message", "headline": "5.7.2.3\tActions related to transmission of ULInformationTransfer message", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.2\tUL information transfer\n5.7.2.3\tActions related to transmission of ULInformationTransfer message", ""], ["-", 0, "The UE shall set the contents of the ULInformationTransfer message as follows:", 0], ["-", 1, "1>\tif the upper layer provides NAS PDU:", 1], ["", 2, "2>\tset the dedicatedNAS-Message to include the information received from upper layers", 2], ["", 1, "1>\tsubmit the ULInformationTransfer message to lower layers for transmission, upon which the procedure ends.", 3]], "desc": "5\t Procedures\n5.7\tOther\n5.7.2\tUL information transfer\n5.7.2.3\tActions related to transmission of ULInformationTransfer message"}, {"id": "5.7.2.4", "name": "Failure to deliver ULInformationTransfer message", "headline": "5.7.2.4\tFailure to deliver ULInformationTransfer message", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.2\tUL information transfer\n5.7.2.4\tFailure to deliver ULInformationTransfer message", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tif AS security is not started and radio link failure occurs before the successful delivery of ULInformationTransfer messages has been confirmed by lower layers; or", 1], ["-", 1, "1>\tif PDCP re-establishment or release/addition (e.g due to key refresh upon PCell or PSCell change, or RRC connection re-establishment) occurs on an SRB on which ULInformationTransfer messages were submitted for transmission but successful delivery of these messages was not confirmed by lower layers:", 2], ["", 2, "2>\tinform upper layers about the possible failure to deliver the information contained in the concerned ULInformationTransfer messages.", 3]], "desc": "5\t Procedures\n5.7\tOther\n5.7.2\tUL information transfer\n5.7.2.4\tFailure to deliver ULInformationTransfer message"}, {"id": "5.7.2a", "name": "UL information transfer for MR-DC", "headline": "5.7.2a\tUL information transfer for MR-DC", "aoa": [], "desc": "5\t Procedures\n5.7\tOther\n5.7.2a\tUL information transfer for MR-DC"}, {"id": "5.7.2a.1", "name": "General", "headline": "5.7.2a.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.2a\tUL information transfer for MR-DC\n5.7.2a.1\tGeneral", ""], ["", 0, "Figure 5.7.2a.1-1: UL information transfer MR-DC", 0], ["", 0, "The purpose of this procedure is to transfer MR-DC dedicated information from the UE to the network e.g. the NR or E-UTRA RRC MeasurementReport, FailureInformation or MCGFailureInformation message.", 1]], "desc": "5\t Procedures\n5.7\tOther\n5.7.2a\tUL information transfer for MR-DC\n5.7.2a.1\tGeneral"}, {"id": "5.7.2a.2", "name": "Initiation", "headline": "5.7.2a.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.2a\tUL information transfer for MR-DC\n5.7.2a.2\tInitiation", ""], ["", 0, "A UE in RRC_CONNECTED initiates the UL information transfer for MR-DC procedure whenever there is a need to transfer MR-DC dedicated information. I.e. the procedure is not used during an RRC connection reconfiguration involving NR or E-UTRA connection reconfiguration, in which case the MR DC information is piggybacked to the RRCReconfigurationComplete message.", 0]], "desc": "5\t Procedures\n5.7\tOther\n5.7.2a\tUL information transfer for MR-DC\n5.7.2a.2\tInitiation"}, {"id": "5.7.2a.3", "name": "Actions related to transmission of ULInformationTransferMRDC message", "headline": "5.7.2a.3\tActions related to transmission of ULInformationTransferMRDC message", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.2a\tUL information transfer for MR-DC\n5.7.2a.3\tActions related to transmission of ULInformationTransferMRDC message", ""], ["-", 0, "The UE shall set the contents of the ULInformationTransferMRDC message as follows:", 0], ["-", 1, "1>\tif there is a need to transfer MR-DC dedicated information related to NR:", 1], ["", 2, "2>\tset the ul-DCCH-MessageNR to include the NR MR-DC dedicated information to be transferred (e.g., NR RRC MeasurementReport, and FailureInformation, or MCGFailureInformation message);", 2], ["-", 1, "1>\telse if there is a need to tranfer MR-DC dedicated information related to E-UTRA:", 3], ["", 2, "2>\tset the ul-DCCH-MessageEUTRA to include the E-UTRA MR-DC dedicated information to be transferred (e.g., E-UTRA RRC MeasurementReport, FailureInformation, or MCGFailureInformation message);", 4], ["", 1, "1>\tsubmit the ULInformationTransferMRDC message to lower layers for transmission, upon which the procedure ends;", 5]], "desc": "5\t Procedures\n5.7\tOther\n5.7.2a\tUL information transfer for MR-DC\n5.7.2a.3\tActions related to transmission of ULInformationTransferMRDC message"}, {"id": "5.7.3", "name": "SCG failure information", "headline": "5.7.3\tSCG failure information", "aoa": [], "desc": "5\t Procedures\n5.7\tOther\n5.7.3\tSCG failure information"}, {"id": "5.7.3.1", "name": "General", "headline": "5.7.3.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.3\tSCG failure information\n5.7.3.1\tGeneral", ""], ["", 0, "Figure 5.7.3.1-1: SCG failure information", 0], ["", 0, "The purpose of this procedure is to inform E-UTRAN or NR MN about an SCG failure the UE has experienced i.e. SCG radio link failure, failure of SCG reconfiguration with sync, SCG configuration failure for RRC message on SRB3 and SCG integrity check failure.", 1]], "desc": "5\t Procedures\n5.7\tOther\n5.7.3\tSCG failure information\n5.7.3.1\tGeneral"}, {"id": "5.7.3.2", "name": "Initiation", "headline": "5.7.3.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.3\tSCG failure information\n5.7.3.2\tInitiation", ""], ["-", 0, "A UE initiates the procedure to report SCG failures when neither MCG nor SCG transmission is suspended and when one of the following conditions is met:", 0], ["", 1, "1>\tupon detecting radio link failure for the SCG, in accordance with subclause <a href=\"#5.3.10.3\">5.3.10.3</a>;", 1], ["", 1, "1>\tupon reconfiguration with sync failure of the SCG, in accordance with subclause <a href=\"#5.3.5.8.3\">5.3.5.8.3</a>;", 2], ["", 1, "1>\tupon SCG configuration failure, in accordance with subclause <a href=\"#5.3.5.8.2\">5.3.5.8.2</a>;", 3], ["", 1, "1>\tupon integrity check failure indication from SCG lower layers concerning SRB3.", 4], ["-", 0, "Upon initiating the procedure, the UE shall:", 5], ["", 1, "1>\tsuspend SCG transmission for all SRBs and DRBs;", 6], ["", 1, "1>\treset SCG MAC;", 7], ["", 1, "1>\tstop T304 for the SCG, if running;", 8], ["-", 1, "1>\tif the UE is in (NG)EN-DC:", 9], ["", 2, "2>\tinitiate transmission of the SCGFailureInformationNR message as specified in TS 36.331 [10], clause 5.6.13a.", 10], ["-", 1, "1>\telse:", 11], ["", 2, "2>\tinitiate transmission of the SCGFailureInformation message in accordance with 5.7.3.5.", 12]], "desc": "5\t Procedures\n5.7\tOther\n5.7.3\tSCG failure information\n5.7.3.2\tInitiation"}, {"id": "5.7.3.3", "name": "Failure type determination for (NG)EN-DC", "headline": "5.7.3.3\tFailure type determination for (NG)EN-DC", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.3\tSCG failure information\n5.7.3.3\tFailure type determination for (NG)EN-DC", ""], ["-", 0, "The UE shall set the SCG failure type as follows:", 0], ["-", 1, "1>\tif the UE initiates transmission of the SCGFailureInformationNR message due to T310 expiry:", 1], ["", 2, "2>\tset the failureType as t310-Expiry;", 2], ["-", 1, "1>\telse if the UE initiates transmission of the SCGFailureInformationNR message due to T312 expiry:", 3], ["", 2, "2>\tset the failureType as t312-Expiry;", 4], ["-", 1, "1>\telse if the UE initiates transmission of the SCGFailureInformationNR message to provide reconfiguration with sync failure information for an SCG:", 5], ["", 2, "2>\tset the failureType as synchReconfigFailure-SCG;", 6], ["-", 1, "1>\telse if the UE initiates transmission of the SCGFailureInformationNR message to provide random access problem indication from SCG MAC:", 7], ["", 2, "2>\tset the failureType as randomAccessProblem;", 8], ["-", 1, "1>\telse if the UE initiates transmission of the SCGFailureInformationNR message to provide indication from SCG RLC that the maximum number of retransmissions has been reached:", 9], ["", 2, "2>\tset the failureType as rlc-MaxNumRetx;", 10], ["-", 1, "1>\telse if the UE initiates transmission of the SCGFailureInformationNR message due to SRB3 integrity check failure:", 11], ["", 2, "2>\tset the failureType as srb3-IntegrityFailure;", 12], ["-", 1, "1>\telse if the UE initiates transmission of the SCGFailureInformationNR message due to Reconfiguration failure of NR RRC reconfiguration message:", 13], ["", 2, "2>\tset the failureType as scg-reconfigFailure.", 14], ["-", 1, "1>\telse if the UE initiates transmission of the SCGFailureInformationNR message due to consistent uplink LBT failures:", 15], ["", 2, "2>\tset the failureType as scg-lbtFailure.", 16]], "desc": "5\t Procedures\n5.7\tOther\n5.7.3\tSCG failure information\n5.7.3.3\tFailure type determination for (NG)EN-DC"}, {"id": "5.7.3.4", "name": "Setting the contents of MeasResultSCG-Failure", "headline": "5.7.3.4\tSetting the contents of MeasResultSCG-Failure", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.3\tSCG failure information\n5.7.3.4\tSetting the contents of MeasResultSCG-Failure", ""], ["-", 0, "The UE shall set the contents of the MeasResultSCG-Failureas follows:", 0], ["-", 1, "1>\tfor each MeasObjectNR configured on NR SCG for which a measId is configured and measurement results are available:", 1], ["", 2, "2>\tinclude an entry in measResultPerMOList;", 2], ["-", 2, "2>\tif there is a measId configured with the MeasObjectNR and a reportConfig which has rsType set to ssb:", 3], ["", 3, "3>\tset ssbFrequency to the value indicated by ssbFrequency as included in the MeasObjectNR;", 4], ["-", 2, "2>\tif there is a measId configured with the MeasObjectNR and a reportConfig which has rsType set to csi-rs:", 5], ["", 3, "3>\tset refFreqCSI-RS to the value indicated by refFreqCSI-RS as included in the associated measurement object;", 6], ["-", 2, "2>\tif a serving cell is associated with the MeasObjectNR:", 7], ["", 3, "3>\tset measResultServingCell to include the available quantities of the concerned cell and in accordance with the performance requirements in TS 38.133 [14];", 8], ["-", 2, "2>\tset the measResultNeighCellList to include the best measured cells, ordered such that the best cell is listed first, and based on measurements collected up to the moment the UE detected the failure, and set its fields as follows;", 9], ["-", 3, "3>\tordering the cells with sorting as follows:", 10], ["", 4, "4>\tbased on SS/PBCH block if SS/PBCH block measurement results are available and otherwise based on CSI-RS;", 11], ["", 4, "4>\tusing RSRP if RSRP measurement results are available, otherwise using RSRQ if RSRQ measurement results are available, otherwise using SINR;", 12], ["-", 3, "3>\tfor each neighbour cell included:", 13], ["", 4, "4>\tinclude the optional fields that are available.\nNOTE:\tThe measured quantities are filtered by the L3 filter as configured in the mobility measurement configuration. The measurements are based on the time domain measurement resource restriction, if configured. Blacklisted cells are not required to be reported.", 14], ["-", 2, "2>\tif available, set the locationInfo as follows:", 15], ["", 3, "3>\tif available, set the commonLocationInfo to include the detailed location information;", 16], ["", 3, "3>\tif available, set the bt-LocationInfo to include the Bluetooth measurement results, in order of decreasing RSSI for Bluetooth beacons;", 17], ["", 3, "3>\tif available, set the wlan-LocationInfo to include the WLAN measurement results, in order of decreasing RSSI for WLAN APs.", 18], ["", 3, "3>\tif available, set the sensor-LocationInfo to include the sensor measurement results.", 19]], "desc": "5\t Procedures\n5.7\tOther\n5.7.3\tSCG failure information\n5.7.3.4\tSetting the contents of MeasResultSCG-Failure"}, {"id": "5.7.3.5", "name": "Actions related to transmission of SCGFailureInformation message", "headline": "5.7.3.5\tActions related to transmission of SCGFailureInformation message", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.3\tSCG failure information\n5.7.3.5\tActions related to transmission of SCGFailureInformation message", ""], ["-", 0, "The UE shall set the contents of the SCGFailureInformation message as follows:", 0], ["-", 1, "1>\tif the UE initiates transmission of the SCGFailureInformation message due to T310 expiry:", 1], ["", 2, "2>\tset the failureType as t310-Expiry;", 2], ["-", 1, "1>\telse if the UE initiates transmission of the SCGFailureInformation message due to T312 expiry:", 3], ["", 2, "2>\tset the failureType as t312-Expiry;", 4], ["-", 1, "1>\telse if the UE initiates transmission of the SCGFailureInformation message to provide reconfiguration with sync failure information for an SCG:", 5], ["", 2, "2>\tset the failureType as synchReconfigFailure-SCG;", 6], ["-", 1, "1>\telse if the UE initiates transmission of the SCGFailureInformation message to provide random access problem indication from SCG MAC:", 7], ["", 2, "2>\tset the failureType as randomAccessProblem;", 8], ["-", 1, "1>\telse if the UE initiates transmission of the SCGFailureInformation message to provide indication from SCG RLC that the maximum number of retransmissions has been reached:", 9], ["", 2, "2>\tset the failureType as rlc-MaxNumRetx;", 10], ["-", 1, "1>\telse if the UE initiates transmission of the SCGFailureInformation message due to SRB3 IP check failure:", 11], ["", 2, "2>\tset the failureType as srb3-IntegrityFailure;", 12], ["-", 1, "1>\telse if the UE initiates transmission of the SCGFailureInformation message due to Reconfiguration failure of NR RRC reconfiguration message:", 13], ["", 2, "2>\tset the failureType as scg-reconfigFailure.", 14], ["", 1, "1> include and set MeasResultSCG-Failure in accordance with <a href=\"#5.7.3.4\">5.7.3.4</a>;", 15], ["-", 1, "1>\tfor each MeasObjectNR configured by a MeasConfig associated with the MCG, and for which measurement results are available:", 16], ["", 2, "2>\tinclude an entry in measResultFreqList;", 17], ["-", 2, "2>\tif there is a measId configured with the MeasObjectNR and a reportConfig which has rsType set to ssb:", 18], ["", 3, "3>\tset ssbFrequency in measResultFreqList to the value indicated by ssbFrequency as included in the MeasObjectNR;", 19], ["-", 2, "2>\tif there is a measId configured with the MeasObjectNR and a reportConfig which has rsType set to csi-rs:", 20], ["", 3, "3>\tset refFreqCSI-RS in measResultFreqList to the value indicated by refFreqCSI-RS as included in the associated measurement object;", 21], ["-", 2, "2>\tif a serving cell is associated with the MeasObjectNR:", 22], ["", 3, "3>\tset measResultServingCell in measResultFreqList to include the available quantities of the concerned cell and in accordance with the performance requirements in TS 38.133 [14];", 23], ["-", 2, "2>\tset the measResultNeighCellList in measResultFreqList to include the best measured cells, ordered such that the best cell is listed first, and based on measurements collected up to the moment the UE detected the failure, and set its fields as follows;", 24], ["-", 3, "3>\tordering the cells with sorting as follows:", 25], ["", 4, "4>\tbased on SS/PBCH block if SS/PBCH block measurement results are available and otherwise based on CSI-RS;", 26], ["", 4, "4>\tusing RSRP if RSRP measurement results are available, otherwise using RSRQ if RSRQ measurement results are available, otherwise using SINR;", 27], ["-", 3, "3>\tfor each neighbour cell included:", 28], ["", 4, "4>\tinclude the optional fields that are available.\nNOTE 1:\tThe measured quantities are filtered by the L3 filter as configured in the mobility measurement configuration. The measurements are based on the time domain measurement resource restriction, if configured. Blacklisted cells are not required to be reported.\nNOTE 2:\tField measResultSCG-Failure is used to report available results for NR frequencies the UE is configured to measure by SCG RRC signalling.", 29], ["-", 1, "1>\tif available, set the locationInfo as follows:", 30], ["", 2, "2>\tif available, set the commonLocationInfo to include the detailed location information;", 31], ["", 2, "2>\tif available, set the bt-LocationInfo to include the Bluetooth measurement results, in order of decreasing RSSI for Bluetooth beacons;", 32], ["", 2, "2>\tif available, set the wlan-LocationInfo to include the WLAN measurement results, in order of decreasing RSSI for WLAN APs.", 33], ["", 2, "2>\tif available, set the sensor-LocationInfo to include the sensor measurement results.", 34], ["", 0, "The UE shall submit the SCGFailureInformation message to lower layers for transmission.", 35]], "desc": "5\t Procedures\n5.7\tOther\n5.7.3\tSCG failure information\n5.7.3.5\tActions related to transmission of SCGFailureInformation message"}, {"id": "5.7.3a", "name": "EUTRA SCG failure information", "headline": "5.7.3a\tEUTRA SCG failure information", "aoa": [], "desc": "5\t Procedures\n5.7\tOther\n5.7.3a\tEUTRA SCG failure information"}, {"id": "5.7.3a.1", "name": "General", "headline": "5.7.3a.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.3a\tEUTRA SCG failure information\n5.7.3a.1\tGeneral", ""], ["", 0, "Figure 5.7.3a.1-1: EUTRA SCG failure information", 0], ["", 0, "The purpose of this procedure is to inform NR MN about an SCG failure on E-UTRA SN the UE has experienced (e.g. SCG radio link failure, SCG change failure), as specified in TS 36.331 [10] clause 5.6.13.2.", 1]], "desc": "5\t Procedures\n5.7\tOther\n5.7.3a\tEUTRA SCG failure information\n5.7.3a.1\tGeneral"}, {"id": "5.7.3a.2", "name": "Initiation", "headline": "5.7.3a.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.3a\tEUTRA SCG failure information\n5.7.3a.2\tInitiation", ""], ["", 0, "A UE initiates the procedure to report EUTRA SCG failures when EUTRA SCG transmission is not suspended and in accordance with TS 36.331 [10] clause 5.6.13.2. Actions the UE shall perform upon initiating the procedure, other than related to the transmission of the SCGFailureInformationEUTRA message are specified in TS 36.331 [10] clause 5.6.13.2.", 0]], "desc": "5\t Procedures\n5.7\tOther\n5.7.3a\tEUTRA SCG failure information\n5.7.3a.2\tInitiation"}, {"id": "5.7.3a.3", "name": "Actions related to transmission of SCGFailureInformationEUTRA message", "headline": "5.7.3a.3\tActions related to transmission of SCGFailureInformationEUTRA message", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.3a\tEUTRA SCG failure information\n5.7.3a.3\tActions related to transmission of SCGFailureInformationEUTRA message", ""], ["-", 0, "The UE shall set the contents of the SCGFailureInformationEUTRA message as follows:", 0], ["", 1, "1>\tinclude failureType within failureReportSCG-EUTRA and set it to indicate the SCG failure in accordance with TS 36.331 [10] clause 5.6.13.4;", 1], ["", 1, "1>\tinclude and set measResultSCG-FailureMRDC in accordance with TS 36.331 [10] clause 5.6.13.5;", 2], ["-", 1, "1>\tfor each EUTRA frequency the UE is configured to measure by measConfig for which measurement results are available:", 3], ["", 2, "2>\tset the measResultFreqListMRDC to include the best measured cells, ordered such that the best cell is listed first using RSRP to order if RSRP measurement results are available for cells on this frequency, otherwise using RSRQ to order if RSRQ measurement results are available for cells on this frequency, otherwise using SINR to order, and based on measurements collected up to the moment the UE detected the failure, and for each cell that is included, include the optional fields that are available;\nNOTE:\tField measResultSCG-FailureMRDC is used to report available results for E-UTRAN frequencies the UE is configured to measure by E-UTRA RRC signalling.", 4], ["-", 1, "1>\tif available, set the locationInfo as follows:", 5], ["", 2, "2>\tif available, set the commonLocationInfo to include the detailed location information;", 6], ["", 2, "2>\tif available, set the bt-LocationInfo to include the Bluetooth measurement results, in order of decreasing RSSI for Bluetooth beacons;", 7], ["", 2, "2>\tif available, set the wlan-LocationInfo to include the WLAN measurement results, in order of decreasing RSSI for WLAN APs.", 8], ["", 2, "2>\tif available, set the sensor-LocationInfo to include the sensor measurement results.", 9], ["", 0, "The UE shall submit the SCGFailureInformationEUTRA message to lower layers for transmission.", 10]], "desc": "5\t Procedures\n5.7\tOther\n5.7.3a\tEUTRA SCG failure information\n5.7.3a.3\tActions related to transmission of SCGFailureInformationEUTRA message"}, {"id": "5.7.3b", "name": "MCG failure information", "headline": "5.7.3b\tMCG failure information", "aoa": [], "desc": "5\t Procedures\n5.7\tOther\n5.7.3b\tMCG failure information"}, {"id": "5.7.3b.1", "name": "General", "headline": "5.7.3b.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.3b\tMCG failure information\n5.7.3b.1\tGeneral", ""], ["", 0, "Figure 5.7.3b.1-1: MCG failure information", 0], ["", 0, "The purpose of this procedure is to inform the network about an MCG failure the UE has experienced i.e. MCG radio link failure. A UE in RRC_CONNECTED, for which AS security has been activated with SRB2 and at least one DRB setup, may initiate the fast MCG link recovery procedure in order to continue the RRC connection without re-establishment.", 1]], "desc": "5\t Procedures\n5.7\tOther\n5.7.3b\tMCG failure information\n5.7.3b.1\tGeneral"}, {"id": "5.7.3b.2", "name": "Initiation", "headline": "5.7.3b.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.3b\tMCG failure information\n5.7.3b.2\tInitiation", ""], ["-", 0, "A UE configured with split SRB1 or SRB3 initiates the procedure to report MCG failures when neither MCG nor SCG transmission is suspended, T316 is configured, and when the following condition is met:", 0], ["", 1, "1>\tupon detecting radio link failure of the MCG, in accordance with 5.3.10.3, while T316 is not running.", 1], ["-", 0, "Upon initiating the procedure, the UE shall:", 2], ["", 1, "1>\tsuspend MCG transmission for all SRBs and DRBs, except SRB0;", 3], ["", 1, "1>\treset MCG-MAC;", 4], ["", 1, "1>\tinitiate transmission of the MCGFailureInformation message in accordance with 5.7.3b.4.\nNOTE:\tThe handling of any outstanding UL RRC messages during the initiation of the fast MCG link recovery is left to UE implementation.", 5]], "desc": "5\t Procedures\n5.7\tOther\n5.7.3b\tMCG failure information\n5.7.3b.2\tInitiation"}, {"id": "5.7.3b.3", "name": "Failure type determination", "headline": "5.7.3b.3\tFailure type determination", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.3b\tMCG failure information\n5.7.3b.3\tFailure type determination", ""], ["-", 0, "The UE shall set the MCG failure type as follows:", 0], ["-", 1, "1>\tif the UE initiates transmission of the MCGFailureInformation message due to T310 expiry:", 1], ["", 2, "2>\tset the failureType as t310-Expiry;", 2], ["-", 1, "1>\telse if the UE initiates transmission of the MCGFailureInformation message to provide random access problem indication from MCG MAC:", 3], ["", 2, "2>\tset the failureType as randomAccessProblem;", 4], ["-", 1, "1>\telse if the UE initiates transmission of the MCGFailureInformation message to provide indication from MCG RLC that the maximum number of retransmissions has been reached:", 5], ["", 2, "2>\tset the failureType as rlc-MaxNumRetx.", 6]], "desc": "5\t Procedures\n5.7\tOther\n5.7.3b\tMCG failure information\n5.7.3b.3\tFailure type determination"}, {"id": "5.7.3b.4", "name": "Actions related to transmission of MCGFailureInformation message", "headline": "5.7.3b.4\tActions related to transmission of MCGFailureInformation message", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.3b\tMCG failure information\n5.7.3b.4\tActions related to transmission of MCGFailureInformation message", ""], ["-", 0, "The UE shall set the contents of the MCGFailureInformation message as follows:", 0], ["", 1, "1>\tinclude and set failureType in accordance with <a href=\"#5.7.3b.3\">5.7.3b.3</a>;", 1], ["-", 1, "1>\tfor each MeasObjectNR configured by a measConfig associated with the MCG, and for which measurement results are available:", 2], ["", 2, "2>\tinclude an entry in measResultFreqList;", 3], ["-", 2, "2>\tif there is a measId configured with the MeasObjectNR and a reportConfig which has rsType set to ssb:", 4], ["", 3, "3>\tset ssbFrequency in measResultFreqList to the value indicated by ssbFrequency as included in the MeasObjectNR;", 5], ["-", 2, "2>\tif there is a measId configured with the MeasObjectNR and a reportConfig which has rsType set to csi-rs:", 6], ["", 3, "3>\tset refFreqCSI-RS in measResultFreqList to the value indicated by refFreqCSI-RS as included in the associated measurement object;", 7], ["-", 2, "2>\tif a serving cell is associated with the MeasObjectNR:", 8], ["", 3, "3>\tset measResultServingCell in measResultFreqList to include the available quantities of the concerned cell and in accordance with the performance requirements in TS 38.133 [14];", 9], ["-", 2, "2>\tset the measResultNeighCellList in measResultFreqList to include the best measured cells, ordered such that the best cell is listed first, and based on measurements collected up to the moment the UE detected the failure, and set its fields as follows;", 10], ["-", 3, "3>\tordering the cells with sorting as follows:", 11], ["", 4, "4>\tbased on SS/PBCH block if SS/PBCH block measurement results are available and otherwise based on CSI-RS;", 12], ["", 4, "4>\tusing RSRP if RSRP measurement results are available, otherwise using RSRQ if RSRQ measurement results are available, otherwise using SINR;", 13], ["-", 3, "3>\tfor each neighbour cell included:", 14], ["", 4, "4>\tinclude the optional fields that are available.", 15], ["-", 1, "1>\tfor each EUTRA frequency the UE is configured to measure by measConfig for which measurement results are available:", 16], ["", 2, "2>\tset the measResultFreqListEUTRA to include the best measured cells, ordered such that the best cell is listed first using RSRP to order if RSRP measurement results are available for cells on this frequency, otherwise using RSRQ to order if RSRQ measurement results are available for cells on this frequency, otherwise using SINR to order, and based on measurements collected up to the moment the UE detected the failure, and for each cell that is included, include the optional fields that are available;", 17], ["-", 1, "1>\tif the UE is in NR-DC:", 18], ["", 2, "2>\tinclude and set measResultSCG in accordance with <a href=\"#5.7.3.4\">5.7.3.4</a>;", 19], ["-", 1, "1>\tif the UE is in NE-DC:", 20], ["", 2, "2>\tinclude and set measResultSCG-EUTRA in accordance with TS 36.331 [10] clause 5.6.13.5;\nNOTE 1:\tThe measured quantities are filtered by the L3 filter as configured in the mobility measurement configuration. The measurements are based on the time domain measurement resource restriction, if configured. Blacklisted cells are not required to be reported.\nNOTE 2:\tField measResultSCG-Failure is used to report available results for NR frequencies the UE is configured to measure by SCG RRC signalling.\nNOTE 3:\tField measResultSCG-EUTRA is used to report available results for E-UTRAN frequencies the UE is configured to measure by E-UTRA RRC signalling.", 21], ["-", 1, "1>\tif SRB1 is configured as split SRB and pdcp-Duplication is not configured:", 22], ["-", 2, "2>\tif primaryPath refers to the MCG:", 23], ["", 3, "3>\tset primaryPath to refer to the SCG.", 24], ["-", 0, "The UE shall:", 25], ["", 1, "1>\ts tart timer T316;", 26], ["-", 1, "1>\tif SRB1 is configured as split SRB:", 27], ["", 2, "2>\tsubmit the MCGFailureInformation message to lower layers for transmission via SRB1, upon which the procedure ends;", 28], ["-", 1, "1>\telse (i.e. SRB3 configured):", 29], ["", 2, "2>\tsubmit the MCGFailureInformation message to lower layers for transmission embedded in NR RRC message ULInformationTransferMRDC via SRB3 as specified in 5.7.2a.3.", 30]], "desc": "5\t Procedures\n5.7\tOther\n5.7.3b\tMCG failure information\n5.7.3b.4\tActions related to transmission of MCGFailureInformation message"}, {"id": "5.7.3b.5", "name": "T316 expiry", "headline": "5.7.3b.5\tT316 expiry", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.3b\tMCG failure information\n5.7.3b.5\tT316 expiry", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif T316 expires:", 1], ["", 2, "2>\tinitiate the connection re-establishment procedure as specified in 5.3.7.", 2]], "desc": "5\t Procedures\n5.7\tOther\n5.7.3b\tMCG failure information\n5.7.3b.5\tT316 expiry"}, {"id": "5.7.4", "name": "UE Assistance Information", "headline": "5.7.4\tUE Assistance Information", "aoa": [], "desc": "5\t Procedures\n5.7\tOther\n5.7.4\tUE Assistance Information"}, {"id": "5.7.4.1", "name": "General", "headline": "5.7.4.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.4\tUE Assistance Information\n5.7.4.1\tGeneral", ""], ["", 0, "Figure 5.7.4.1-1: UE Assistance Information", 0], ["", 0, "The purpose of this procedure is for the UE to inform the network of:\n-\tits delay budget report carrying desired increment/decrement in the connected mode DRX cycle length, or;\n-\tits overheating assistance information, or;\n-\tits IDC assistance information, or;\n-\tits preference on DRX parameters for power saving, or;\n-\tits preference on the maximum aggregated bandwidth for power saving, or;\n-\tits preference on the maximum number of secondary component carriers for power saving, or;\n-\tits preference on the maximum number of MIMO layers for power saving, or;\n-\tits preference on the minimum scheduling offset for cross-slot scheduling for power saving, or;\n-\tassistance information to transition out of RRC_CONNECTED state when the UE does not expect to send or receive data in the near future, or;\n-\tconfigured grant assistance for NR sidelink communication.", 1]], "desc": "5\t Procedures\n5.7\tOther\n5.7.4\tUE Assistance Information\n5.7.4.1\tGeneral"}, {"id": "5.7.4.2", "name": "Initiation", "headline": "5.7.4.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.4\tUE Assistance Information\n5.7.4.2\tInitiation", ""], ["", 0, "A UE capable of providing delay budget report in RRC_CONNECTED may initiate the procedure in several cases, including upon being configured to provide delay budget report and upon change of delay budget preference.", 0], ["", 0, "A UE capable of providing overheating assistance information in RRC_CONNECTED may initiate the procedure if it was configured to do so, upon detecting internal overheating, or upon detecting that it is no longer experiencing an overheating condition.", 1], ["", 0, "A UE capable of providing IDC assistance information in RRC_CONNECTED may initiate the procedure if it was configured to do so, upon detecting IDC problem if the UE did not transmit an IDC assistance information since it was configured to provide IDC indications, or upon change of IDC problem information.", 2], ["", 0, "A UE capable of providing its preference on DRX parameters for power saving in RRC_CONNECTED may initiate the procedure in several cases, including upon being configured to provide its preference on DRX parameters and upon change of its preference on DRX parameters.", 3], ["", 0, "A UE capable of providing its preference on the maximum aggregated bandwidth for power saving in RRC_CONNECTED may initiate the procedure in several cases, including upon being configured to provide its maximum aggregated bandwidth preference and upon change of its maximum aggregated bandwidth preference.", 4], ["", 0, "A UE capable of providing its preference on the maximum number of secondary component carriers for power saving in RRC_CONNECTED may initiate the procedure in several cases, including upon being configured to provide its maximum number of secondary component carriers preference and upon change of its maximum number of secondary component carriers preference.", 5], ["", 0, "A UE capable of providing its preference on the maximum number of MIMO layers for power saving in RRC_CONNECTED may initiate the procedure in several cases, including upon being configured to provide its maximum number of MIMO layers preference and upon change of its maximum number of MIMO layers preference.", 6], ["", 0, "A UE capable of providing its preference on the minimum scheduling offset for cross-slot scheduling for power saving in RRC_CONNECTED may initiate the procedure in several cases, including upon being configured to provide its minimum scheduling offset preference and upon change of its minimum scheduling offset preference.", 7], ["", 0, "A UE capable of providing assistance information to transition out of RRC_CONNECTED state may initiate the procedure if it was configured to do so, upon determining that it prefers to leave RRC_CONNECTED state, or upon change of its preferred RRC state.", 8], ["", 0, "A UE capable of providing configured grant assistance information for NR sidelink communication in RRC_CONNECTED may initiate the procedure in several cases, including upon being configured to provide traffic pattern information and upon change of traffic pattern.", 9], ["-", 0, "Upon initiating the procedure, the UE shall:", 10], ["-", 1, "1>\tif configured to provide delay budget report:", 11], ["", 2, "2>\tif the UE did not transmit a UEAssistanceInformation message with delayBudgetReport since it was configured to provide delay budget report; or", 12], ["-", 2, "2>\tif the current delay budget is different from the one indicated in the last transmission of the UEAssistanceInformation message including delayBudgetReport and timer T342 is not running:", 13], ["", 3, "3>\tstart or restart timer T342 with the timer value set to the delayBudgetReportingProhibitTimer;", 14], ["", 3, "3>\tinitiate transmission of the UEAssistanceInformation message in accordance with <a href=\"#5.7.4.3\">5.7.4.3</a> to provide a delay budget report;", 15], ["-", 1, "1>\tif configured to provide overheating assistance information:", 16], ["", 2, "2>\tif the overheating condition has been detected and T345 is not running; or", 17], ["-", 2, "2>\tif the current overheating assistance information is different from the one indicated in the last transmission of the UEAssistanceInformation message including overheatingAssistance and timer T345 is not running:", 18], ["", 3, "3>\tstart timer T345 with the timer value set to the overheatingIndicationProhibitTimer;", 19], ["", 3, "3>\tinitiate transmission of the UEAssistanceInformation message in accordance with <a href=\"#5.7.4.3\">5.7.4.3</a> to provide overheating assistance information;", 20], ["-", 1, "1>\tif configured to provide IDC assistance information:", 21], ["-", 2, "2>\tif the UE did not transmit a UEAssistanceInformation message with idc-Assistance since it was configured to provide IDC assistance information:", 22], ["", 3, "3>\tif on one or more frequencies included in candidateServingFreqListNR, the UE is experiencing IDC problems that it cannot solve by itself; or", 23], ["-", 3, "3>\tif on one or more supported UL CA combination comprising of carrier frequencies included in candidateServingFreqListNR, the UE is experiencing IDC problems that it cannot solve by itself:", 24], ["", 4, "4>\tinitiate transmission of the UEAssistanceInformation message in accordance with <a href=\"#5.7.4.3\">5.7.4.3</a> to provide IDC assistance information;", 25], ["-", 2, "2>\telse if the current IDC assistance information is different from the one indicated in the last transmission of the UEAssistanceInformation message:", 26], ["", 3, "3>\tinitiate transmission of the UEAssistanceInformation message in accordance with <a href=\"#5.7.4.3\">5.7.4.3</a> to provide IDC assistance information;\nNOTE 1:\tThe term \"IDC problems\" refers to interference issues applicable across several subframes/slots where not necessarily all the subframes/slots are affected.\nNOTE 2:\tFor the frequencies on which a serving cell or serving cells is configured that is activated, IDC problems consist of interference issues that the UE cannot solve by itself, during either active data exchange or upcoming data activity which is expected in up to a few hundred milliseconds.", 27], ["", 0, "For frequencies on which a SCell or SCells is configured that is deactivated, reporting IDC problems indicates an anticipation that the activation of the SCell or SCells would result in interference issues that the UE would not be able to solve by itself.", 28], ["-", 0, "For a non-serving frequency, reporting IDC problems indicates an anticipation that if the non-serving frequency or frequencies became a serving frequency or serving frequencies then this would result in interference issues that the UE would not be able to solve by itself.", 29], ["-", 1, "1>\tif configured to provide its preference on DRX parameters for power saving:", 30], ["", 2, "2>\tif the UE did not transmit a UEAssistanceInformation message with drx-Preference since it was configured to provide its preference on DRX parameters for power saving; or", 31], ["-", 2, "2>\tif the current preference on DRX parameters is different from the one indicated in the last transmission of the UEAssistanceInformation message including drx-Preference and timer T346a is not running:", 32], ["", 3, "3>\tstart timer T346a with the timer value set to the drx-PreferenceProhibitTimer;", 33], ["", 3, "3>\tinitiate transmission of the UEAssistanceInformation message in accordance with <a href=\"#5.7.4.3\">5.7.4.3</a> to provide its preference on DRX parameters for power saving;", 34], ["-", 1, "1>\tif configured to provide its preference on the maximum aggregated bandwidth for power saving:", 35], ["", 2, "2>\tif the UE did not transmit a UEAssistanceInformation message with maxBW-Preference since it was configured to provide its preference on the maximum aggregated bandwidth for power saving; or", 36], ["-", 2, "2>\tif the current preference on the maximum aggregated bandwidth is different from the one indicated in the last transmission of the UEAssistanceInformation message including maxBW-Preference and timer T346b is not running:", 37], ["", 3, "3>\tstart timer T346b with the timer value set to the maxBW-PreferenceProhibitTimer;", 38], ["", 3, "3>\tinitiate transmission of the UEAssistanceInformation message in accordance with <a href=\"#5.7.4.3\">5.7.4.3</a> to provide its preference on the maximum aggregated bandwidth for power saving;", 39], ["-", 1, "1>\tif configured to provide its preference on the maximum number of secondary component carriers for power saving:", 40], ["", 2, "2>\tif the UE did not transmit a UEAssistanceInformation message with maxCC-Preference since it was configured to provide its preference on the maximum number of secondary component carriers for power saving; or", 41], ["-", 2, "2>\tif the current preference on the maximum number of secondary component carriers is different from the one indicated in the last transmission of the UEAssistanceInformation message including maxCC-Preference and timer T346c is not running:", 42], ["", 3, "3>\tstart timer T346c with the timer value set to the maxCC-PreferenceProhibitTimer;", 43], ["", 3, "3>\tinitiate transmission of the UEAssistanceInformation message in accordance with <a href=\"#5.7.4.3\">5.7.4.3</a> to provide its preference on the maximum number of secondary component carriers for power saving;", 44], ["-", 1, "1>\tif configured to provide its preference on the maximum number of MIMO layers for power saving:", 45], ["", 2, "2>\tif the UE did not transmit a UEAssistanceInformation message with maxMIMO-LayerPreference since it was configured to provide its preference on the maximum number of MIMO layers for power saving; or", 46], ["-", 2, "2>\tif the current preference on the maximum number of MIMO layers is different from the one indicated in the last transmission of the UEAssistanceInformation message including maxMIMO-LayerPreference and timer T346d is not running:", 47], ["", 3, "3>\tstart timer T346d with the timer value set to the maxMIMO-LayerPreferenceProhibitTimer;", 48], ["", 3, "3>\tinitiate transmission of the UEAssistanceInformation message in accordance with <a href=\"#5.7.4.3\">5.7.4.3</a> to provide its preference on the maximum number of MIMO layers for power saving;", 49], ["-", 1, "1>\tif configured to provide its preference on the minimum scheduling offset for cross-slot scheduling for power saving:", 50], ["", 2, "2>\tif the UE did not transmit a UEAssistanceInformation message with minSchedulingOffsetPreference since it was configured to provide its preference on the minimum scheduling offset for cross-slot scheduling for power saving; or", 51], ["-", 2, "2>\tif the current preference on the minimum scheduling offset for cross-slot scheduling is different from the one indicated in the last transmission of the UEAssistanceInformation message including minSchedulingOffsetPreference and timer T346e is not running:", 52], ["", 3, "3>\tstart timer T346e with the timer value set to the minSchedulingOffsetPreferenceProhibitTimer;", 53], ["", 3, "3>\tinitiate transmission of the UEAssistanceInformation message in accordance with <a href=\"#5.7.4.3\">5.7.4.3</a> to provide its preference on the minimum scheduling offset for cross-slot scheduling for power saving;", 54], ["-", 1, "1>\tif configured to provide its release preference:", 55], ["", 2, "2>\tif the UE determines that it would prefer to leave RRC_CONNECTED state and the UE did not transmit a UEAssistanceInformation message with releasePreference since it was configured to provide its release preference; or", 56], ["-", 2, "2>\tif the current preferred RRC state is different from the one indicated in the last transmission of the UEAssistanceInformation message including releasePreference and timer T346f is not running:", 57], ["", 3, "3>\tstart timer T346f with the timer value set to the releasePreferenceProhibitTimer;", 58], ["", 3, "3>\tinitiate transmission of the UEAssistanceInformation message in accordance with <a href=\"#5.7.4.3\">5.7.4.3</a> to provide the release preference;", 59], ["-", 1, "1>\tif configured to provide configured grant assistance information for NR sidelink communication:", 60], ["", 2, "2>\tinitiate transmission of the UEAssistanceInformation message in accordance with <a href=\"#5.7.4.3\">5.7.4.3</a> to provide configured grant assistance information for NR sidelink communication;", 61]], "desc": "5\t Procedures\n5.7\tOther\n5.7.4\tUE Assistance Information\n5.7.4.2\tInitiation"}, {"id": "5.7.4.3", "name": "Actions related to transmission of UEAssistanceInformation message", "headline": "5.7.4.3\tActions related to transmission of UEAssistanceInformation message", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.4\tUE Assistance Information\n5.7.4.3\tActions related to transmission of UEAssistanceInformation message", ""], ["-", 0, "The UE shall set the contents of the UEAssistanceInformation message as follows:", 0], ["-", 1, "1>\tif transmission of the UEAssistanceInformation message is initiated to provide a delay budget report according to <a href=\"#5.7.4.2\">5.7.4.2</a>;", 1], ["", 2, "2>\tset delayBudgetReport to type1 according to a desired value;", 2], ["-", 1, "1>\tif transmission of the UEAssistanceInformation message is initiated to provide overheating assistance information according to <a href=\"#5.7.4.2\">5.7.4.2</a>;", 3], ["-", 2, "2>\tif the UE experiences internal overheating:", 4], ["-", 3, "3>\tif the UE prefers to temporarily reduce the number of maximum secondary component carriers:", 5], ["", 4, "4>\tinclude reducedMaxCCs in the OverheatingAssistance IE;", 6], ["", 4, "4>\tset reducedCCsDL to the number of maximum SCells the UE prefers to be temporarily configured in downlink;", 7], ["", 4, "4>\tset reducedCCsUL to the number of maximum SCells the UE prefers to be temporarily configured in uplink;", 8], ["-", 3, "3>\tif the UE prefers to temporarily reduce maximum aggregated bandwidth of FR1:", 9], ["", 4, "4>\tinclude reducedMaxBW-FR1 in the OverheatingAssistance IE;", 10], ["", 4, "4>\tset reducedBW-FR1-DL to the maximum aggregated bandwidth the UE prefers to be temporarily configured across all downlink carriers of FR1;", 11], ["", 4, "4>\tset reducedBW-FR1-UL to the maximum aggregated bandwidth the UE prefers to be temporarily configured across all uplink carriers of FR1;", 12], ["-", 3, "3>\tif the UE prefers to temporarily reduce maximum aggregated bandwidth of FR2:", 13], ["", 4, "4>\tinclude reducedMaxBW-FR2 in the OverheatingAssistance IE;", 14], ["", 4, "4>\tset reducedBW-FR2-DL to the maximum aggregated bandwidth the UE prefers to be temporarily configured across all downlink carriers of FR2;", 15], ["", 4, "4>\tset reducedBW-FR2-UL to the maximum aggregated bandwidth the UE prefers to be temporarily configured across all uplink carriers of FR2;", 16], ["-", 3, "3>\tif the UE prefers to temporarily reduce the number of maximum MIMO layers of each serving cell operating on FR1:", 17], ["", 4, "4>\tinclude reducedMaxMIMO-LayersFR1 in the OverheatingAssistance IE;", 18], ["", 4, "4>\tset reducedMIMO-LayersFR1-DL to the number of maximum MIMO layers of each serving cell operating on FR1 the UE prefers to be temporarily configured in downlink;", 19], ["", 4, "4>\tset reducedMIMO-LayersFR1-UL to the number of maximum MIMO layers of each serving cell operating on FR1 the UE prefers to be temporarily configured in uplink;", 20], ["-", 3, "3>\tif the UE prefers to temporarily reduce the number of maximum MIMO layers of each serving cell operating on FR2:", 21], ["", 4, "4>\tinclude reducedMaxMIMO-LayersFR2 in the OverheatingAssistance IE;", 22], ["", 4, "4>\tset reducedMIMO-LayersFR2-DL to the number of maximum MIMO layers of each serving cell operating on FR2 the UE prefers to be temporarily configured in downlink;", 23], ["", 4, "4>\tset reducedMIMO-LayersFR2-UL to the number of maximum MIMO layers of each serving cell operating on FR2 the UE prefers to be temporarily configured in uplink;", 24], ["-", 2, "2>\telse (if the UE no longer experiences an overheating condition):", 25], ["", 3, "3>\tdo not include reducedMaxCCs, reducedMaxBW-FR1, reducedMaxBW-FR2, reducedMaxMIMO-LayersFR1 and reducedMaxMIMO-LayersFR2 in OverheatingAssistance IE;", 26], ["-", 1, "1>\tif transmission of the UEAssistanceInformation message is initiated to provide IDC assistance information according to 5.7.4.2:", 27], ["-", 2, "2>\tif there is at least one carrier frequency included in candidateServingFreqListNR, the UE is experiencing IDC problems that it cannot solve by itself:", 28], ["", 3, "3>\tinclude the field affectedCarrierFreqList with an entry for each affected carrier frequency included in candidateServingFreqListNR;", 29], ["", 3, "3>\tfor each carrier frequency included in the field affectedCarrierFreqList, include interferenceDirection and set it accordingly;", 30], ["-", 2, "2>\tif there is at least one supported UL CA combination comprising of carrier frequencies included in candidateServingFreqListNR, the UE is experiencing IDC problems that it cannot solve by itself:", 31], ["", 3, "3>\tinclude victimSystemType for each UL CA combination included in affectedCarrierFreqCombList;", 32], ["-", 3, "3>\tif the UE sets victimSystemType to wlan or bluetooth:", 33], ["", 4, "4>\tinclude affectedCarrierFreqCombList with an entry for each supported UL CA combination comprising of carrier frequencies included in candidateServingFreqListNR, that is affected by IDC problems;", 34], ["-", 3, "3>\telse:", 35], ["", 4, "4>\toptionally include affectedCarrierFreqCombList with an entry for each supported UL CA combination comprising of carrier frequencies included in candidateServingFreqListNR, that is affected by IDC problems;\nNOTE 1:\tWhen sending an UEAssistanceInformation message to inform the IDC problems, the UE includes all IDC assistance information (rather than providing e.g. the changed part(s) of the IDC assistance information).\nNOTE 2:\tUpon not anymore experiencing a particular IDC problem that the UE previously reported, the UE provides an IDC indication with the modified contents of the UEAssistanceInformation message (e.g. by not including the IDC assistance information in the idc-Assistance field).", 36], ["-", 1, "1>\tif transmission of the UEAssistanceInformation message is initiated to provide its preference on DRX parameters for power saving according to 5.7.4.2:", 37], ["", 2, "2>\tinclude drx-Preference in the UEAssistanceInformation message;", 38], ["", 2, "2>\tset preferredDRX-LongCycle to a desired value;", 39], ["", 2, "2>\tset preferredDRX-InactivityTimer to a desired value;", 40], ["", 2, "2>\tset preferredDRX-ShortCycle to a desired value;", 41], ["", 2, "2>\tset preferredDRX-ShortCycleTimer to a desired value;", 42], ["-", 1, "1>\tif transmission of the UEAssistanceInformation message is initiated to provide its preference on the maximum aggregated bandwidth for power saving according to 5.7.4.2:", 43], ["", 2, "2>\tinclude maxBW-Preference in the UEAssistanceInformation message;", 44], ["-", 2, "2>\tif the UE prefers to reduce the maximum aggregated bandwidth of FR1:", 45], ["", 3, "3>\tinclude reducedMaxBW-FR1 in the MaxBW-Preference IE;", 46], ["", 3, "3>\tset reducedBW-FR1-DL to the maximum aggregated bandwidth the UE desires to have configured across all downlink carriers of FR1;", 47], ["", 3, "3>\tset reducedBW-FR1-UL to the maximum aggregated bandwidth the UE desires to have configured across all uplink carriers of FR1;", 48], ["-", 2, "2>\tif the UE prefers to reduce the maximum aggregated bandwidth of FR2:", 49], ["", 3, "3>\tinclude reducedMaxBW-FR2 in the MaxBW-Preference IE;", 50], ["", 3, "3>\tset reducedBW-FR2-DL to the maximum aggregated bandwidth the UE desires to have configured across all downlink carriers of FR2;", 51], ["", 3, "3>\tset reducedBW-FR2-UL to the maximum aggregated bandwidth the UE desires to have configured across all uplink carriers of FR2;", 52], ["-", 1, "1>\tif transmission of the UEAssistanceInformation message is initiated to provide its preference on the maximum number of secondary component carriers for power saving according to 5.7.4.2:", 53], ["", 2, "2>\tinclude maxCC-Preference in the UEAssistanceInformation message;", 54], ["", 2, "2>\tset reducedCCsDL to the number of maximum SCells the UE desires to have configured in downlink;", 55], ["", 2, "2>\tset reducedCCsUL to the number of maximum SCells the UE desires to have configured in uplink;", 56], ["-", 1, "1>\tif transmission of the UEAssistanceInformation message is initiated to provide its preference on the maximum number of MIMO layers for power saving according to 5.7.4.2:", 57], ["", 2, "2>\tinclude maxMIMO-LayerPreference in the UEAssistanceInformation message;", 58], ["-", 2, "2>\tif the UE prefers to reduce the number of maximum MIMO layers of each serving cell operating on FR1:", 59], ["", 3, "3>\tinclude reducedMaxMIMO-LayersFR1 in the MaxMIMO-LayerPreference IE;", 60], ["", 3, "3>\tset reducedMIMO-LayersFR1-DL to the number of maximum MIMO layers of each serving cell operating on FR1 the UE desires to have configured in downlink;", 61], ["", 3, "3>\tset reducedMIMO-LayersFR1-UL to the number of maximum MIMO layers of each serving cell operating on FR1 the UE desires to have configured in uplink;", 62], ["-", 2, "2>\tif the UE prefers to reduce the number of maximum MIMO layers of each serving cell operating on FR2:", 63], ["", 3, "3>\tinclude reducedMaxMIMO-LayersFR2 in the MaxMIMO-LayerPreference IE;", 64], ["", 3, "3>\tset reducedMIMO-LayersFR2-DL to the number of maximum MIMO layers of each serving cell operating on FR2 the UE desires to have configured in downlink;", 65], ["", 3, "3>\tset reducedMIMO-LayersFR2-UL to the number of maximum MIMO layers of each serving cell operating on FR2 the UE desires to have configured in uplink;", 66], ["-", 1, "1>\tif transmission of the UEAssistanceInformation message is initiated to provide its preference on the minimum scheduling offset for cross-slot scheduling for power saving according to 5.7.4.2:", 67], ["", 2, "2>\tinclude minSchedulingOffsetPreference in the UEAssistanceInformation message;", 68], ["", 2, "2>\tset preferredK0-SCS-15kHz to the desired value of K0 (TS 38.214 [19], clause 5.1.2.1) for cross-slot scheduling with 15 kHz SCS;", 69], ["", 2, "2>\tset preferredK0-SCS-30kHz to the desired value of K0 for cross-slot scheduling with 30 kHz SCS;", 70], ["", 2, "2>\tset preferredK0-SCS-60kHz to the desired value of K0 for cross-slot scheduling with 60 kHz SCS;", 71], ["", 2, "2>\tset preferredK0-SCS-120kHz to the desired value of K0 for cross-slot scheduling with 120 kHz SCS;", 72], ["", 2, "2>\tset preferredK2-SCS-15kHz to the desired value of K2 (TS 38.214 [19], clause 6.1.2.1) for cross-slot scheduling with 15 kHz SCS;", 73], ["", 2, "2>\tset preferredK2-SCS-30kHz to the desired value of K2 for cross-slot scheduling with 30 kHz SCS;", 74], ["", 2, "2>\tset preferredK2-SCS-60kHz to the desired value of K2 for cross-slot scheduling with 60 kHz SCS;", 75], ["", 2, "2>\tset preferredK2-SCS-120kHz to the desired value of K2 for cross-slot scheduling with 120 kHz SCS;", 76], ["-", 1, "1>\tif transmission of the UEAssistanceInformation message is initiated to provide a release preference according to 5.7.4.2:", 77], ["", 2, "2>\tinclude releasePreference in the UEAssistanceInformation message;", 78], ["-", 2, "2>\tif the UE has a preferred RRC state on transmission of the UEAssistanceInformation message:", 79], ["", 3, "3>\tinclude preferredRRC-State in the ReleasePreference IE;", 80], ["", 3, "3>\tset preferredRRC-State to the desired RRC state on transmission of the UEAssistanceInformation message.", 81], ["-", 0, "The UE shall set the contents of the UEAssistanceInformation message for configured grant assistance information for NR sidelink communication:", 82], ["-", 1, "1>\tif configured to provide configured grant assistance information for NR sidelink communication:", 83], ["", 2, "2>\tinclude the sl-UE-AssistanceInformationNR;\nNOTE 1:\tIt is up to UE implementation when and how to trigger configured grant assistance information for NR sidelink communication.", 84], ["", 0, "The UE shall submit the UEAssistanceInformation message to lower layers for transmission.", 85]], "desc": "5\t Procedures\n5.7\tOther\n5.7.4\tUE Assistance Information\n5.7.4.3\tActions related to transmission of UEAssistanceInformation message"}, {"id": "5.7.4a", "name": "UE Assistance Information for V2X sidelink communication", "headline": "5.7.4a\tUE Assistance Information for V2X sidelink communication", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.4a\tUE Assistance Information for V2X sidelink communication", ""], ["", 0, "Figure 5.7.4a-1: UE Assistance Information for V2X sidelink communication", 0], ["", 0, "The purpose of this procedure is to inform the network of the UE's SPS assistance information for V2X sidelink communication.", 1], ["", 0, "The initiation and the procedure for the transmission of UEAssistanceInformationEUTRA follow the procedure specified for V2X sidelink communication in subclause 5.6.10 of TS 36.331 [10].", 2]], "desc": "5\t Procedures\n5.7\tOther\n5.7.4a\tUE Assistance Information for V2X sidelink communication"}, {"id": "5.7.5", "name": "Failure information", "headline": "5.7.5\tFailure information", "aoa": [], "desc": "5\t Procedures\n5.7\tOther\n5.7.5\tFailure information"}, {"id": "5.7.5.1", "name": "General", "headline": "5.7.5.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.5\tFailure information\n5.7.5.1\tGeneral", ""], ["", 0, "Figure 5.7.5.1-1: Failure information", 0], ["", 0, "The purpose of this procedure is to inform the network about a failure detected by the UE.", 1]], "desc": "5\t Procedures\n5.7\tOther\n5.7.5\tFailure information\n5.7.5.1\tGeneral"}, {"id": "5.7.5.2", "name": "Initiation", "headline": "5.7.5.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.5\tFailure information\n5.7.5.2\tInitiation", ""], ["-", 0, "A UE initiates the procedure when there is a need inform the network about a failure detected by the UE. In particular, the UE initiates the procedure when the following condition is met:", 0], ["", 1, "1>\tupon detecting failure for an RLC bearer, in accordance with <a href=\"#5.3.10.3\">5.3.10.3</a>;", 1], ["", 1, "1>\tupon detecting DAPS handover failure, in accordance with <a href=\"#5.3.5.8.3\">5.3.5.8.3</a>;", 2], ["-", 0, "Upon initiating the procedure, the UE shall:", 3], ["", 1, "1>\tinitiate transmission of the FailureInformation message as specified in <a href=\"#5.7.5.3\">5.7.5.3</a>;", 4]], "desc": "5\t Procedures\n5.7\tOther\n5.7.5\tFailure information\n5.7.5.2\tInitiation"}, {"id": "5.7.5.3", "name": "Actions related to transmission of FailureInformation message", "headline": "5.7.5.3\tActions related to transmission of FailureInformation message", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.5\tFailure information\n5.7.5.3\tActions related to transmission of FailureInformation message", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif initiated to provide RLC failure information, set FailureInfoRLC-Bearer as follows:", 1], ["", 2, "2>\tset logicalChannelIdentity to the logical channel identity of the failing RLC bearer;", 2], ["", 2, "2>\tset cellGroupId to the cell group identity of the failing RLC bearer;", 3], ["", 2, "2>\tset the failureType as rlc-failure;", 4], ["-", 1, "1>\tif initiated to provide DAPS failure information, set FailureInfoDAPS as follows:", 5], ["", 2, "2>\tset the failureType as daps-failure;", 6], ["-", 1, "1>\tif used to inform the network about a failure for an MCG RLC bearer or DAPS failure information:", 7], ["", 2, "2>\tsubmit the FailureInformation message to lower layers for transmission via SRB1;", 8], ["-", 1, "1>\telse if used to inform the network about a failure for an SCG RLC bearer:", 9], ["-", 2, "2>\tif SRB3 is configured;", 10], ["", 3, "3>\tsubmit the FailureInformation message to lower layers for transmission via SRB3;", 11], ["-", 2, "2>\telse;", 12], ["-", 3, "3>\tif the UE is in (NG)EN-DC:", 13], ["", 4, "4>\tsubmit the FailureInformation message via E-UTRA embedded in E-UTRA RRC message ULInformationTransferMRDC as specified in TS 36.331 [10].", 14], ["-", 3, "3>\telse if the UE is in NR-DC:", 15], ["", 4, "4>\tsubmit the FailureInformation message via SRB1 embedded in NR RRC message ULInformationTransferMRDC as specified in clause 5.7.2a.3.", 16]], "desc": "5\t Procedures\n5.7\tOther\n5.7.5\tFailure information\n5.7.5.3\tActions related to transmission of FailureInformation message"}, {"id": "5.7.6", "name": "DL message segment transfer", "headline": "5.7.6\tDL message segment transfer", "aoa": [], "desc": "5\t Procedures\n5.7\tOther\n5.7.6\tDL message segment transfer"}, {"id": "5.7.6.1", "name": "General", "headline": "5.7.6.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.6\tDL message segment transfer\n5.7.6.1\tGeneral", ""], ["", 0, "Figure 5.7.6.1-1: DL message segment transfer", 0], ["", 0, "The purpose of this procedure is to transfer segments of DL DCCH messages from the network to the UE.\nNOTE:\tThe segmentation of DL DCCH message is only applicable to RRCReconfiguration and RRCResume messages in this release.", 1]], "desc": "5\t Procedures\n5.7\tOther\n5.7.6\tDL message segment transfer\n5.7.6.1\tGeneral"}, {"id": "5.7.6.2", "name": "Initiation", "headline": "5.7.6.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.6\tDL message segment transfer\n5.7.6.2\tInitiation", ""], ["", 0, "The network initiates the DL Dedicated Message Segment transfer procedure whenever the encoded RRC message PDU exceeds the maximum PDCP SDU size. The network initiates the DL Dedicated Message Segment transfer procedure by sending the DLDedicatedMessageSegment message.", 0]], "desc": "5\t Procedures\n5.7\tOther\n5.7.6\tDL message segment transfer\n5.7.6.2\tInitiation"}, {"id": "5.7.6.3", "name": "Reception of DLDedicatedMessageSegment by the UE", "headline": "5.7.6.3\tReception of DLDedicatedMessageSegment by the UE", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.6\tDL message segment transfer\n5.7.6.3\tReception of DLDedicatedMessageSegment by the UE", ""], ["-", 0, "Upon receiving DLDedicatedMessageSegment message, the UE shall:", 0], ["", 1, "1>\tstore the segment;", 1], ["-", 1, "1>\tif all segments of the message have been received:", 2], ["", 2, "2>\tassemble the message from the received segments and process the message according to <a href=\"#5.3.5.3\">5.3.5.3</a> for the RRCReconfiguration message or <a href=\"#5.3.13.4\">5.3.13.4</a> for the RRCResume message;", 3], ["", 2, "2>\tdiscard all segments.", 4]], "desc": "5\t Procedures\n5.7\tOther\n5.7.6\tDL message segment transfer\n5.7.6.3\tReception of DLDedicatedMessageSegment by the UE"}, {"id": "5.7.7", "name": "UL message segment transfer", "headline": "5.7.7\tUL message segment transfer", "aoa": [], "desc": "5\t Procedures\n5.7\tOther\n5.7.7\tUL message segment transfer"}, {"id": "5.7.7.1", "name": "General", "headline": "5.7.7.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.7\tUL message segment transfer\n5.7.7.1\tGeneral", ""], ["", 0, "Figure 5.7.7.1-1: UL message segment transfer", 0], ["", 0, "The purpose of this procedure is to transfer segments of UL DCCH messages from UE to a NG-RAN in RRC_CONNECTED.\nNOTE:\tThe segmentation of UL DCCH message is only applicable to UECapabilityInformation in this release.", 1]], "desc": "5\t Procedures\n5.7\tOther\n5.7.7\tUL message segment transfer\n5.7.7.1\tGeneral"}, {"id": "5.7.7.2", "name": "Initiation", "headline": "5.7.7.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.7\tUL message segment transfer\n5.7.7.2\tInitiation", ""], ["-", 0, "A UE capable of UL RRC message segmentation in RRC_CONNECTED will initiate the procedure when the following conditions are met:", 0], ["", 1, "1>\tif the RRC message segmentation is enabled based on the field rrc-SegAllowed received, and", 1], ["", 1, "1>\tif the encoded RRC message is larger than the maximum supported size of a PDCP SDU specified in TS 38.323 [5];", 2], ["-", 0, "Upon initiating the procedure, the UE shall:", 3], ["", 1, "1>\tinitiate transmission of the ULDedicatedMessageSegment message as specified in <a href=\"#5.7.7.3\">5.7.7.3</a>;", 4]], "desc": "5\t Procedures\n5.7\tOther\n5.7.7\tUL message segment transfer\n5.7.7.2\tInitiation"}, {"id": "5.7.7.3", "name": "Actions related to transmission of ULDedicatedMessageSegment message", "headline": "5.7.7.3\tActions related to transmission of ULDedicatedMessageSegment message", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.7\tUL message segment transfer\n5.7.7.3\tActions related to transmission of ULDedicatedMessageSegment message", ""], ["-", 0, "The UE shall segment the encoded RRC PDU based on the maximum supported size of a PDCP SDU specified in TS 38.323 [5]. UE shall minimize the number of segments and set the contents of the ULDedicatedMessageSegment messages as follows:", 0], ["", 1, "1>\tF or each new UL DCCH message, set the segmentNumber to 0 for the first message segment and increment the segmentNumber for each subsequent RRC message segment;", 1], ["", 1, "1>\tset rrc-MessageSegmentContainer to include the segment of the UL DCCH message corresponding to the segmentNumber;", 2], ["-", 1, "1>\tif the segment included in the rrc-MessageSegmentContainer is the last segment of the UL DCCH message:", 3], ["", 2, "2>\tinclude the segmentEndIndication and set the value to true;", 4], ["", 1, "1>\tsubmit all the ULDedicatedMessageSegment messages generated for the segmented RRC message to lower layers for transmission in ascending order based on the segmentNumber, upon which the procedure ends.", 5]], "desc": "5\t Procedures\n5.7\tOther\n5.7.7\tUL message segment transfer\n5.7.7.3\tActions related to transmission of ULDedicatedMessageSegment message"}, {"id": "5.7.8", "name": "Idle/inactive Measurements", "headline": "5.7.8\tIdle/inactive Measurements", "aoa": [], "desc": "5\t Procedures\n5.7\tOther\n5.7.8\tIdle/inactive Measurements"}, {"id": "5.7.8.1", "name": "General", "headline": "5.7.8.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.8\tIdle/inactive Measurements\n5.7.8.1\tGeneral", ""], ["", 0, "This procedure specifies the measurements done by a UE in RRC_IDLE and RRC_INACTIVE when it has an idle/inactive measurement configuration and the storage of the available measurements by a UE in RRC_IDLE and RRC_INACTIVE.", 0]], "desc": "5\t Procedures\n5.7\tOther\n5.7.8\tIdle/inactive Measurements\n5.7.8.1\tGeneral"}, {"id": "5.7.8.2", "name": "Initiation", "headline": "5.7.8.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.8\tIdle/inactive Measurements\n5.7.8.2\tInitiation", ""], ["-", 0, "While in RRC_IDLE or RRC_INACTIVE, T331 is running and the SIB1 contains idleModeMeasurements, the UE shall:", 0], ["-", 1, "1>\tif the UE is capable of idle/inactive measurements for NE-DC and VarMeasIdleConfig does not contain a measIdleCarrierListEUTRA received from the RRCRelease message:", 1], ["-", 2, "2>\tif SIB11 includes the measIdleConfigSIB and contains measIdleCarrierListEUTRA:", 2], ["", 3, "3>\tstore or replace the measIdleCarrierListEUTRA of measIdleConfigSIB of SIB11 within VarMeasIdleConfig;", 3], ["-", 2, "2>\telse:", 4], ["", 3, "3>\tremove the measIdleCarrierListEUTRA in VarMeasIdleConfig, if stored.", 5], ["-", 1, "1>\tif the UE is capble of idle/inactive measurements for CA or NR-DC and VarMeasIdleConfig does not contain a measIdleCarrierListNR received from the RRCRelease message:", 6], ["-", 2, "2>\tif SIB11 includes the measIdleConfigSIB and contains measIdleCarrierListNR:", 7], ["", 3, "3>\tstore or replace the measIdleCarrierListNR of measIdleConfigSIB of SIB11 within VarMeasIdleConfig;", 8], ["-", 2, "2>\telse:", 9], ["", 3, "3>\tremove the measIdleCarrierListNR in VarMeasIdleConfig, if stored.", 10], ["-", 1, "1>\tfor each entry in the measIdleCarrierListNR within VarMeasIdleConfig that does not contain an ssb-MeasConfig received from the RRCRelease message:", 11], ["-", 2, "2>\tif there is an entry in measIdleCarrierListNR in measIdleConfigSIB of SIB11 that has the same carrier frequency and subcarrier spacing as the entry in the measIdleCarrierListNR within VarMeasIdleConfig and that contains ssb-MeasConfig:", 12], ["", 3, "3>\tstore or replace the SSB measurement configuration from SIB11 into ssb-MeasConfig of the corresponding entry in the measIdleCarrierListNR within VarMeasIdleConfig;", 13], ["-", 2, "2>\telse if there is an entry in carrierFreqListNR of SIB4 with the same carrier frequency and subcarrier spacing as the entry in measIdleCarrierListNR within VarMeasIdleConfig:", 14], ["", 3, "3>\tstore or replace the SSB measurement configuration from SIB4 into ssb-MeasConfig of the corresponding entry in the measIdleCarrierListNR within VarMeasIdleConfig;", 15], ["-", 2, "2>\telse:", 16], ["", 3, "3>\tremove the ssb-MeasConfig of the corresponding entry in the measIdleCarrierListNR within VarMeasIdleConfig, if stored;", 17], ["-", 0, "Editor's note: FFS if one IE (idleModeMeasurements with ENUMERATED {eutra, nr, both}) or two separate IEs (i.e. one for NR, one for EUTRA) is to be used to indicate to the UE to perform EUTRA and/or NR early measurements.", 18], ["-", 1, "1>\tperform the measurements in accordance with the following:", 19], ["-", 2, "2>\tif the VarMeasIdleConfig includes the measIdleCarrierListEUTRA:", 20], ["-", 3, "3>\tfor each entry in measIdleCarrierListEUTRA within VarMeasIdleConfig:", 21], ["-", 4, "4>\tif UE supports dual connectivity between the serving carrier and the carrier frequency indicated by carrierFreqEUTRA within the corresponding entry:", 22], ["", 5, "5>\tperform measurements in the carrier frequency and bandwidth indicated by carrierFreq and allowedMeasBandwidth within the corresponding entry;", 23], ["-", 5, "5>\tif the measCellListEUTRA is included:", 24], ["", 6, "6>\tconsider the serving cell and cells identified by each entry within the measCellListEUTRA to be applicable for idle/inactive mode measurement reporting;", 25], ["-", 5, "5>\telse:", 26], ["", 6, "6>\tconsider the serving cell and up to maxCellMeasIdle strongest identified cells to be applicable for idle/inactive measurement reporting;", 27], ["-", 5, "5>\tif the reportQuantities is set to rsrq:", 28], ["", 6, "6>\tconsider RSRQ as the sorting quantity;", 29], ["-", 5, "5>\telse:", 30], ["", 6, "6>\tconsider RSRP as the sorting quantity;", 31], ["", 5, "5>\tstore measurement results as indicated by reportQuantities for cells applicable for idle/inactive measurement reporting whose RSRP/RSRQ measurement results are above the value(s) provided in qualityThreshold (if any) within the measReportIdleEUTRA in VarMeasIdleReport;", 32], ["-", 2, "2>\tif the VarMeasIdleConfig includes the measIdleCarrierListNR:", 33], ["-", 3, "3>\tfor each entry in measIdleCarrierListNR within VarMeasIdleConfig that contains ssb-MeasConfig:", 34], ["-", 4, "4>\tif UE supports carrier aggregation or dual connectivity between serving carrier and the carrier frequency and subcarrier spacing indicated by carrierFreqNR and ssbSubCarrierSpacing within the corresponding entry:", 35], ["", 5, "5>\tperform measurements in the carrier frequency and subcarrier spacing indicated by carrierFreq and ssbSubCarrierSpacing within the corresponding entry;", 36], ["-", 5, "5>\tif the measCellListNR is included:", 37], ["", 6, "6>\tconsider the serving cell and cells identified by each entry within the measCellListNR to be applicable for idle/inactive measurement reporting;", 38], ["-", 5, "5>\telse:", 39], ["", 6, "6>\tconsider the serving cell and up to maxCellMeasIdle strongest identified cells to be applicable for idle/inactive measurement reporting;", 40], ["-", 5, "5>\tif the reportQuantities is set to rsrq:", 41], ["", 6, "6>\tconsider RSRQ as the sorting quantity;", 42], ["-", 5, "5>\telse:", 43], ["", 6, "6>\tconsider RSRP as the sorting quantity;", 44], ["", 5, "5>\tstore measurement results as indicated by reportQuantities for cells applicable for idle/inactive measurement reporting whose RSRP/RSRQ measurement results are above the value(s) provided in qualityThreshold (if any) within the measReportIdleNR in VarMeasIdleReport;", 45], ["-", 5, "5>\tif the includeBeamMeasurements is included:", 46], ["-", 6, "6>\tif the reportQuantityRS-Indexes is set to rsrq:", 47], ["", 7, "7>\tconsider RSRQ as the sorting quantity;", 48], ["-", 6, "6>\telse:", 49], ["", 7, "7>\tconsider RSRP as the sorting quantity;", 50], ["", 6, "6>\tstore the beam measurement results as indicated by reportQuantityRS-Indexes within the measReportIdleNR in VarMeasIdleReport;\nNOTE 1:\tThe fields s-NonIntraSearchP and s-NonIntraSearchQ in SIB2 do not affect the idle/inactive UE measurement procedures. How the UE performs idle/inactive measurements is up to UE implementation as long as the requirements in TS 38.133 [14] are met for measurement reporting.\nNOTE 2:\tThe UE is not required to perform idle/inactive measurements on a given carrier if the SSB configuration of that carrier provided via dedicated signaling is different from the SSB configuration broadcasted in the serving cell, if any.", 51], ["-", 1, "1>\tif validityAreaList is configured in VarMeasIdleConfig:", 52], ["", 2, "2>\tif the UE reselects to a serving cell on a frequency which does not match the carrierFreq of any entry in the validityAreaList; or", 53], ["-", 2, "2>\tif the UE reselects to a serving cell on a frequency which matches the carrierFreq of any entry in the validityAreaList, the validityCellList is included for the corresponding frequency, and the physical cell identity of the serving cell does not match any entry in validityCellList:", 54], ["-", 3, "3>\tif timer T331 is running;", 55], ["", 4, "4>\tstop timer T331;", 56], ["", 4, "4>\tperform the actions as specified in 5.7.8.3.", 57]], "desc": "5\t Procedures\n5.7\tOther\n5.7.8\tIdle/inactive Measurements\n5.7.8.2\tInitiation"}, {"id": "5.7.8.3", "name": "T331 expiry or stop", "headline": "5.7.8.3\tT331 expiry or stop", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.8\tIdle/inactive Measurements\n5.7.8.3\tT331 expiry or stop", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif T331 expires or is stopped:", 1], ["", 2, "2>\trelease the VarMeasIdleConfig.\nNOTE:\tIt is up to UE implementation whether to continue idle/inactive measurements according to SIB11 configuration after T331 has expired or stopped.", 2]], "desc": "5\t Procedures\n5.7\tOther\n5.7.8\tIdle/inactive Measurements\n5.7.8.3\tT331 expiry or stop"}, {"id": "5.7.9", "name": "Mobility history information", "headline": "5.7.9\tMobility history information", "aoa": [], "desc": "5\t Procedures\n5.7\tOther\n5.7.9\tMobility history information"}, {"id": "5.7.9.1", "name": "General", "headline": "5.7.9.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.9\tMobility history information\n5.7.9.1\tGeneral", ""], ["", 0, "This procedure specifies how the mobility history information is stored by the UE, covering RRC_IDLE, RRC_INACTIVE and RRC_CONNECTED.", 0]], "desc": "5\t Procedures\n5.7\tOther\n5.7.9\tMobility history information\n5.7.9.1\tGeneral"}, {"id": "5.7.9.2", "name": "Initiation", "headline": "5.7.9.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.9\tMobility history information\n5.7.9.2\tInitiation", ""], ["-", 0, "If the UE supports storage of mobility history information, the UE shall:", 0], ["-", 1, "1>\tUpon change of cell, consisting of PCell in RRC_CONNECTED or serving cell in RRC_IDLE or RRC_INACTIVE (for NR cell), to another NR or E-UTRA cell, or when entering out of service:", 1], ["-", 2, "2>\tinclude an entry in variable VarMobilityHistoryReport possibly after removing the oldest entry, if necessary, according to following:", 2], ["-", 3, "3>\tif the global cell identity of the previous PCell/serving cell is available:", 3], ["", 4, "4>\tinclude the global cell identity of that cell in the field visitedCellId of the entry;", 4], ["-", 3, "3>\telse:", 5], ["", 4, "4>\tinclude the physical cell identity and carrier frequency of that cell in the field visitedCellId of the entry;", 6], ["", 3, "3>\tset the field timeSpent of the entry as the time spent in the previous PCell/serving cell;", 7], ["-", 1, "1>\tupon entering NR (in RRC_IDLE, RRC_INACTIVE or RRC_CONNECTED) while previously out of service:", 8], ["-", 2, "2>\tinclude an entry in variable VarMobilityHistoryReport possibly after removing the oldest entry, if necessary, according to following:", 9], ["", 3, "3>\tset the field timeSpent of the entry as the time spent outside NR.", 10]], "desc": "5\t Procedures\n5.7\tOther\n5.7.9\tMobility history information\n5.7.9.2\tInitiation"}, {"id": "5.7.10", "name": "UE Information", "headline": "5.7.10\tUE Information", "aoa": [], "desc": "5\t Procedures\n5.7\tOther\n5.7.10\tUE Information"}, {"id": "5.7.10.1", "name": "General", "headline": "5.7.10.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.10\tUE Information\n5.7.10.1\tGeneral", ""], ["", 0, "Figure 5.7.10.1-1: UE information procedure", 0], ["", 0, "The UE information procedure is used by the network to request the UE to report information.", 1]], "desc": "5\t Procedures\n5.7\tOther\n5.7.10\tUE Information\n5.7.10.1\tGeneral"}, {"id": "5.7.10.2", "name": "Initiation", "headline": "5.7.10.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.10\tUE Information\n5.7.10.2\tInitiation", ""], ["", 0, "The network initiates the procedure by sending the UEInformationRequest message. The network should initiate this procedure only after successful security activation.", 0]], "desc": "5\t Procedures\n5.7\tOther\n5.7.10\tUE Information\n5.7.10.2\tInitiation"}, {"id": "5.7.10.3", "name": "Reception of the UEInformationRequest message", "headline": "5.7.10.3\tReception of the UEInformationRequest message", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.10\tUE Information\n5.7.10.3\tReception of the UEInformationRequest message", ""], ["", 0, "Upon receiving the UEInformationRequest message, the UE shall, only after successful security activation:", 0], ["-", 0, "Editor's note: FFS if the idleModeMeasurementReq indicates all results (EUTRA and NR), or can request only E-UTRA or NR results. The procedure below assumes the former.", 1], ["-", 1, "1>\tif the idleModeMeasurementReq is included in the UEInformationRequest and the UE has stored VarMeasIdleReport:", 2], ["", 2, "2>\tset the measResultIdleEUTRA in the UEInformationResponse message to the value of measReportIdle in the VarMeasIdleReportEUTRA, if available;", 3], ["", 2, "2>\tset the measResultIdleNR in the UEInformationResponse message to the value of measReportIdleNR in the VarMeasIdleReport, if measurement information concerning cells other than the PCell is available;", 4], ["", 2, "2>\tdiscard the VarMeasIdleReport upon successful delivery of the UEInformationResponse message confirmed by lower layers;", 5], ["-", 1, "1>\tif the logMeasReportReq is present and if the RPLMN is included in plmn-IdentityList stored in VarLogMeasReport:", 6], ["-", 2, "2>\tif VarLogMeasReport includes one or more logged measurement entries, set the contents of the logMeasReport in the UEInformationResponse message as follows:", 7], ["", 3, "3>\tinclude the absoluteTimeStamp and set it to the value of absoluteTimeInfo in the VarLogMeasReport;", 8], ["", 3, "3>\tinclude the traceReference and set it to the value of traceReference in the VarLogMeasReport;", 9], ["", 3, "3>\tinclude the traceRecordingSessionRef and set it to the value of traceRecordingSessionRef in the VarLogMeasReport;", 10], ["", 3, "3>\tinclude the tce-Id and set it to the value of tce-Id in the VarLogMeasReport;", 11], ["", 3, "3>\tinclude the logMeasInfoList and set it to include one or more entries from VarLogMeasReport starting from the entries logged first;", 12], ["-", 3, "3>\tif the VarLogMeasReport includes one or more additional logged measurement entries that are not included in the logMeasInfoList within the UEInformationResponse message:", 13], ["", 4, "4>\tinclude the logMeasAvailable;", 14], ["-", 3, "3>\tif the VarLogMeasReport includes one or more additional logged Bluetooth measurement entries that are not included in the logMeasInfoList within the UEInformationResponse message:", 15], ["", 4, "4>\tinclude the logMeasAvailableBT;", 16], ["-", 3, "3>\tif the VarLogMeasReport includes one or more additional logged WLAN measurement entries that are not included in the logMeasInfoList within the UEInformationResponse message:", 17], ["", 4, "4>\tinclude the logMeasAvailableWLAN;", 18], ["-", 1, "1>\tif ra-ReportReq is set to true and the UE has random access related information available in VarRA-Report and if the RPLMN is included in plmn-IdentityList stored in VarRA-Report:", 19], ["", 2, "2>\tset the ra-Report in the UEInformationResponse message to the value of ra-Report in VarRA-Report;", 20], ["", 2, "2>\tdiscard the ra-Report from VarRA-Report upon successful delivery of the UEInformationResponse message confirmed by lower layers;", 21], ["-", 1, "1>\tif rlf-ReportReq is set to true:", 22], ["-", 2, "2>\tif the UE has radio link failure information or handover failure information available in VarRLF-Report and if the RPLMN is included in plmn-IdentityList stored in VarRLF-Report:", 23], ["", 3, "3>\tset timeSinceFailure in VarRLF-Report to the time that elapsed since the last radio link or handover failure in NR;", 24], ["", 3, "3>\tset the rlf-Report in the UEInformationResponse message to the value of rlf-Report in VarRLF-Report;", 25], ["", 3, "3>\tdiscard the rlf-Report from VarRLF-Report upon successful delivery of the UEInformationResponse message confirmed by lower layers;", 26], ["-", 2, "2>\telse if the UE has radio link failure information or handover failure information available in VarRLF-Report of TS 36.331 [10] and if the RPLMN is included in plmn-IdentityList stored in VarRLF-Report of TS 36.331 [10]:", 27], ["", 3, "3>\tset timeSinceFailure in VarRLF-Report of TS 36.331 [10] to the time that elapsed since the last radio link or handover failure in EUTRA;", 28], ["", 3, "3>\tset the rlf-Report in the UEInformationResponse message to the value of rlf-Report in VarRLF-Report;", 29], ["", 3, "3>\tdiscard the rlf-Report from VarRLF-Report upon successful delivery of the UEInformationResponse message confirmed by lower layers;", 30], ["", 3, "3>\tdiscard the rlf-Report from VarRLF-Report of TS 36.331 [10] upon successful delivery of the UEInformationResponse message confirmed by lower layers;", 31], ["-", 1, "1>\tif connEstFailReportReq is set to true and the UE has connection establishment failure information in VarConnEstFailReport and if the RPLMN is equal to plmn-Identity stored in VarConnEstFailReport:", 32], ["", 2, "2>\tset timeSinceFailure in VarConnEstFailReport to the time that elapsed since the last connection establishment failure in NR;", 33], ["", 2, "2>\tset the connEstFailReport in the UEInformationResponse message to the value of connEstFailReport in VarConnEstFailReport;", 34], ["", 2, "2>\tdiscard the connEstFailReport from VarConnEstFailReport upon successful delivery of the UEInformationResponse message confirmed by lower layers;", 35], ["-", 1, "1>\tif the mobilityHistoryReportReq is set to true:", 36], ["", 2, "2>\tinclude the mobilityHistoryReport and set it to include entries from VarMobilityHistoryReport;", 37], ["-", 2, "2>\tinclude in the mobilityHistoryReport an entry for the current cell, possibly after removing the oldest entry if required, and set its fields as follows:", 38], ["", 3, "3>\tset visitedCellId to the global cell identity of the current cell:", 39], ["", 3, "3>\tset field timeSpent to the time spent in the current cell;", 40], ["-", 1, "1>\tif the logMeasReport is included in the UEInformationResponse:", 41], ["", 2, "2>\tsubmit the UEInformationResponse message to lower layers for transmission via SRB2;", 42], ["", 2, "2>\tdiscard the logged measurement entries included in the logMeasInfoList from VarLogMeasReport upon successful delivery of the UEInformationResponse message confirmed by lower layers;", 43], ["-", 1, "1>\telse:", 44], ["", 2, "2>\tsubmit the UEInformationResponse message to lower layers for transmission via SRB1.", 45]], "desc": "5\t Procedures\n5.7\tOther\n5.7.10\tUE Information\n5.7.10.3\tReception of the UEInformationRequest message"}, {"id": "5.7.10.4", "name": "Actions upon successful completion of random-access procedure", "headline": "5.7.10.4\tActions upon successful completion of random-access procedure", "aoa": [["-", -1, "5\t Procedures\n5.7\tOther\n5.7.10\tUE Information\n5.7.10.4\tActions upon successful completion of random-access procedure", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif the number of RA-Report stored in the RA-ReportList is less than 8, then append the following contents associated to the successfully completed random-access procedure as a new entry in the VarRA-Report:", 1], ["-", 2, "2>\tif the list of EPLMNs has been stored by the UE:", 2], ["-", 3, "3>\tif the RPLMN is included in plmn-IdentityList stored in VarRA-Report:", 3], ["", 4, "4>\tset the plmn-IdentityList to include the list of EPLMNs stored by the UE (i.e. includes the RPLMN);", 4], ["-", 3, "3>\telse:", 5], ["", 4, "4>\tclear the information included in VarRA-Report;", 6], ["-", 2, "2>\telse:", 7], ["", 3, "3>\tset the plmn-Identity to the PLMN selected by upper layers from the PLMN(s) included in the plmn-IdentityList in SIB1;", 8], ["", 2, "2>\tset the cellId to the global cell identity and the tracking area code of the cell in which the random-access procedure was performed;", 9], ["", 2, "2>\tset the absoluteFrequencyPointA to indicate the absolute frequency of the reference resource block associated to the random-access resources;", 10], ["", 2, "2>\tset the locationAndBandwidth and subcarrierSpacing associated to the UL BWP of the random-access resources;", 11], ["", 2, "2>\tset the msg1-FrequencyStart, msg1-FDM and msg1-SubcarrierSpacing associated to the random-access resources;", 12], ["", 2, "2>\tset the raPurpose to include the purpose of triggering the random-access procedure;", 13], ["", 2, "2>\tset the parameters associated to individual random-access attempt in the chronological order of attmepts in the perRAInfoList as specified in 5.3.10.3:", 14], ["", 0, "The UE may discard the random access report information, i.e. release the UE variable VarRA-Report, 48 hours after the last successful random access procedure related information is added to the VarRA-Report.", 15]], "desc": "5\t Procedures\n5.7\tOther\n5.7.10\tUE Information\n5.7.10.4\tActions upon successful completion of random-access procedure"}, {"id": "5.8", "name": "Sidelink", "headline": "5.8\tSidelink", "aoa": [], "desc": "5\t Procedures\n5.8\tSidelink"}, {"id": "5.8.1", "name": "General", "headline": "5.8.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.1\tGeneral", ""], ["", 0, "NR sidelink communication consists of unicast, groupcast and broadcast. The PC5-RRC connection is a logical connection between a pair of a Source Layer-2 ID and a Destination Layer-2 ID in the AS. The PC5-RRC signalling, as specified in sub-clause 5.8.9, can be initiated after its corresponding PC5 unicast link establishment (TS 23.287 [55]). The PC5-RRC connection and the corresponding sidelink SRBs and sidelink DRBs are released when the PC5 unicast link is released as indicated by upper layers.", 0], ["", 0, "For each PC5-RRC connection of unicast, one sidelink SRB is used to transmit the PC5-S messages before the PC5-S security has been established. One sidelink SRB is used to transmit the PC5-S messages to establish the PC5-S security. One sidelink SRB is used to transmit the PC5-S messages after the PC5-S security has been established, which is protected. One sidelink SRB is used to transmit the PC5-RRC signalling, which is protected and only sent after the PC5-S security has been established.\nNOTE 1:\tIn case the configurations for NR sidelink communication are acquired via the E-UTRA, the configurations for NR sidelink communication in SIB12 and sl-ConfigDedicatedNR within RRCReconfiguration used in subclause 5.8 are provided by the configurations in SystemInformationBlockTypeXX2 and sl-ConfigDedicatedNR within RRCConnectionReconfiguration as specified in TS 36.331 [10], respectively.", 1]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.1\tGeneral"}, {"id": "5.8.2", "name": "Conditions for NR sidelink communication operation", "headline": "5.8.2\tConditions for NR sidelink communication operation", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.2\tConditions for NR sidelink communication operation", ""], ["-", 0, "When it is specified that the UE shall perform NR sidelink communication operation only if the conditions defined in this clause are met, the UE shall perform NR sidelink communication operation only in following cases:", 0], ["", 1, "1>\tif the UE's serving cell is suitable (RRC_IDLE or RRC_INACTIVE or RRC_CONNECTED); and if either the selected cell on the frequency used for NR sidelink communication operation belongs to the registered or equivalent PLMN as specified in TS 24.587 [57] or the UE is out of coverage on the frequency used for NR sidelink communication operation as defined in TS 38.304 [20] and TS 36.304 [27]; or", 1], ["", 1, "1>\tif the UE's serving cell (RRC_IDLE or RRC_CONNECTED) fulfils the conditions to support NR sidelink communication in limited service state as specified in TS 23.287 [55]; and if either the serving cell is on the frequency used for NR sidelink communication operation or the UE is out of coverage on the frequency used for NR sidelink communication operation as defined in TS 38.304 [20] and TS 36.304 [27]; or", 2], ["", 1, "1>\tif the UE has no serving cell (RRC_IDLE);", 3]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.2\tConditions for NR sidelink communication operation"}, {"id": "5.8.3", "name": "Sidelink UE information for NR sidelink communication", "headline": "5.8.3\tSidelink UE information for NR sidelink communication", "aoa": [], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.3\tSidelink UE information for NR sidelink communication"}, {"id": "5.8.3.1", "name": "General", "headline": "5.8.3.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.3\tSidelink UE information for NR sidelink communication\n5.8.3.1\tGeneral", ""], ["", 0, "Figure 5.8.3.1-1: Sidelink UE information for NR sidelink communication", 0], ["", 0, "The purpose of this procedure is to inform the network that the UE is interested or no longer interested to receive NR sidelink communication, as well as to request assignment or release of transmission resource for NR sidelink communication and to report parameters related to NR sidelink communication.", 1]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.3\tSidelink UE information for NR sidelink communication\n5.8.3.1\tGeneral"}, {"id": "5.8.3.2", "name": "Initiation", "headline": "5.8.3.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.3\tSidelink UE information for NR sidelink communication\n5.8.3.2\tInitiation", ""], ["", 0, "A UE capable of NR sidelink communication that is in RRC_CONNECTED may initiate the procedure to indicate it is (interested in) receiving NR sidelink communication in several cases including upon successful connection establishment or resuming, upon change of interest, or upon change to a PCell providing SIB12 including sl-ConfigCommonNR. A UE capable of NR sidelink communication may initiate the procedure to request assignment of dedicated resources for NR sidelink communication transmission.", 0], ["-", 0, "Upon initiating this procedure, the UE shall:", 1], ["-", 1, "1>\tif SIB12 including sl-ConfigCommonNR is provided by the PCell:", 2], ["", 2, "2>\tensure having a valid version of SIB12 for the PCell;", 3], ["-", 2, "2>\tif configured by upper layers to receive NR sidelink communication on the frequency included in sl-FreqInfoList in SIB12 of the PCell:", 4], ["", 3, "3>\tif the UE did not transmit a SidelinkUEInformationNR message since last entering RRC_CONNECTED state; or", 5], ["", 3, "3>\tif since the last time the UE transmitted a SidelinkUEInformationNR message the UE connected to a PCell not providing SIB12 including sl-ConfigCommonNR; or", 6], ["-", 3, "3>\tif the last transmission of the SidelinkUEInformationNR message did not include sl-RxInterestedFreqList; or if the frequency configured by upper layers to receive NR sidelink communication on has changed since the last transmission of the SidelinkUEInformationNR message:", 7], ["", 4, "4>\tinitiate transmission of the SidelinkUEInformationNR message to indicate the NR sidelink communication reception frequency of interest in accordance with <a href=\"#5.8.3.3\">5.8.3.3</a>;", 8], ["-", 2, "2>\telse:", 9], ["-", 3, "3>\tif the last transmission of the SidelinkUEInformationNR message included sl-RxInterestedFreqList:", 10], ["", 4, "4>\tinitiate transmission of the SidelinkUEInformationNR message to indicate it is no longer interested in NR sidelink communication reception in accordance with <a href=\"#5.8.3.3\">5.8.3.3</a>;", 11], ["-", 2, "2>\tif configured by upper layers to transmit NR sidelink communication on the frequency included in sl-FreqInfoList in SIB12 of the PCell:", 12], ["", 3, "3>\tif the UE did not transmit a SidelinkUEInformationNR message since last entering RRC_CONNECTED state; or", 13], ["", 3, "3>\tif since the last time the UE transmitted a SidelinkUEInformationNR message the UE connected to a PCell not providing SIB12 including sl-ConfigCommonNR; or", 14], ["-", 3, "3>\tif the last transmission of the SidelinkUEInformationNR message did not include sl-TxResourceReqList; or if the information carried by the sl-TxResourceReqList has changed since the last transmission of the SidelinkUEInformationNR message:", 15], ["", 4, "4>\tinitiate transmission of the SidelinkUEInformationNR message to indicate the NR sidelink communication transmission resources required by the UE in accordance with <a href=\"#5.8.3.3\">5.8.3.3</a>;", 16], ["-", 2, "2>\telse:", 17], ["-", 3, "3>\tif the last transmission of the SidelinkUEInformationNR message included sl-TxResourceReqList:", 18], ["", 4, "4>\tinitiate transmission of the SidelinkUEInformationNR message to indicate it no longer requires NR sidelink communication transmission resources in accordance with 5.8.3.3.", 19]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.3\tSidelink UE information for NR sidelink communication\n5.8.3.2\tInitiation"}, {"id": "5.8.3.3", "name": "Actions related to transmission of SidelinkUEInformationNR message", "headline": "5.8.3.3\tActions related to transmission of SidelinkUEInformationNR message", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.3\tSidelink UE information for NR sidelink communication\n5.8.3.3\tActions related to transmission of SidelinkUEInformationNR message", ""], ["-", 0, "The UE shall set the contents of the SidelinkUEInformationNR message as follows:", 0], ["-", 1, "1>\tif the UE initiates the procedure to indicate it is (no more) interested to receive NR sidelink communication or to request (configuration/ release) of NR sidelink communication transmission resources (i.e. UE includes all concerned information, irrespective of what triggered the procedure):", 1], ["-", 2, "2>\tif SIB12 including sl-ConfigCommonNR is provided by the PCell:", 2], ["-", 3, "3>\tif configured by upper layers to receive NR sidelink communication:", 3], ["", 4, "4>\tinclude sl-RxInterestedFreqList and set it to the frequency for NR sidelink communication reception;", 4], ["-", 3, "3>\tif configured by upper layers to transmit NR sidelink communication:", 5], ["-", 4, "4>\tinclude sl-TxResourceReqList and set its fields (if needed) as follows for each destination for which it requests network to assign NR sidelink communication resource:", 6], ["", 5, "5>\tset sl-DestinationIdentiy to the destination identity configured by upper layer for NR sidelink communication transmission;", 7], ["", 5, "5>\tset sl-CastType to the cast type of the associated destination identity configured by the upper layer for the NR sidelink communication transmission;", 8], ["", 5, "5>\tset sl-RLC-ModeIndication to include the RLC mode(s) and optionally QoS profile(s) of the sidelink QoS flow(s) of the associated RLC mode(s), if the associated bi-directional sidelink DRB has been established due to the configuration by RRCReconfigurationSidelink;", 9], ["", 5, "5>\tset sl-Failure as rlf for the associated destination for the NR sidelink communication transmission, if the sidelink RLF is detected;", 10], ["", 5, "5>\tset sl-Failure as configFailure for the associated destination for the NR sidelink communication transmission, if RRCReconfigurationFailureSidelink is received as sidelink RRC reconfiguration failure;", 11], ["", 5, "5>\tset sl-QoS-InfoList to include QoS profile(s) of the sidelink QoS flow(s) of the associated destination configured by the upper layer for the NR sidelink communication transmission;", 12], ["", 5, "5>\tset sl-InterestedFreqList to indicate the frequency for NR sidelink communication transmission;", 13], ["", 5, "5>\tset sl-TypeTxSyncList to the current synchronization reference type used on the associated sl-InterestedFreqList for NR sidelink communication transmission.", 14], ["", 1, "1>\tThe UE shall submit the SidelinkUEInformationNR message to lower layers for transmission.", 15]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.3\tSidelink UE information for NR sidelink communication\n5.8.3.3\tActions related to transmission of SidelinkUEInformationNR message"}, {"id": "5.8.4", "name": "Sidelink UE information for V2X sidelink communication", "headline": "5.8.4\tSidelink UE information for V2X sidelink communication", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.4\tSidelink UE information for V2X sidelink communication", ""], ["", 0, "Figure 5.8.4-1: Sidelink UE information for V2X sidelink communication", 0], ["", 0, "The purpose of this procedure is to inform the network that the UE is interested or no longer interested to receive V2X sidelink communication, as well as to request assignment or release of transmission resource for V2X sidelink communication and to report parameters related to V2X sidelink communication.", 1], ["", 0, "The initiation and the procedure for the transmission of SidelinkUEInformationEUTRA follow the procedure specified for V2X sidelink communication in subclause 5.3.5.4, 5.10.2 of TS 36.331 [10].\nNOTE 1:\tWhen applying the procedure in this subclause, SIB13 and SIB14 correspond to SystemInformationBlockType21 and SystemInformationBlockType26 specified in TS 36.331 [10] respectively.", 2]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.4\tSidelink UE information for V2X sidelink communication"}, {"id": "5.8.5", "name": "Sidelink synchronisation information transmission for NR sidelink communication", "headline": "5.8.5\tSidelink synchronisation information transmission for NR sidelink communication", "aoa": [], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.5\tSidelink synchronisation information transmission for NR sidelink communication"}, {"id": "5.8.5.1", "name": "General", "headline": "5.8.5.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.5\tSidelink synchronisation information transmission for NR sidelink communication\n5.8.5.1\tGeneral", ""], ["", 0, "Figure 5.8.5.1-1: Synchronisation information transmission for NR sidelink communication, in (partial) coverage", 0], ["", 0, "Figure 5.8.5.1-2: Synchronisation information transmission for NR sidelink communication, out of coverage", 1], ["", 0, "The purpose of this procedure is to provide synchronisation information to a UE.", 2]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.5\tSidelink synchronisation information transmission for NR sidelink communication\n5.8.5.1\tGeneral"}, {"id": "5.8.5.2", "name": "Initiation", "headline": "5.8.5.2\tInitiation", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.5\tSidelink synchronisation information transmission for NR sidelink communication\n5.8.5.2\tInitiation", ""], ["-", 0, "A UE capable of NR sidelink communication and SLSS/PSBCH transmission shall, when transmitting NR sidelink communication, and if the conditions for NR sidelink communication operation are met and when the following conditions are met:", 0], ["", 1, "1>\tif in coverage on the frequency used for NR sidelink communication, as defined in TS 38.304 [20]; and has selected GNSS or the cell as synchronization reference as defined in <a href=\"#5.8.6.3\">5.8.6.3</a>; or", 1], ["-", 1, "1>\tif out of coverage on the frequency used for NR sidelink communication, and the frequency used to transmit NR sidelink communication is included in sl-FreqInfoToAddModList in sl-ConfigDedicatedNR within RRCReconfiguration message or included in sl-FreqInfoList within SIB12; and has selected GNSS or the cell as synchronization reference as defined in 5.8.6.3:", 2], ["", 2, "2>\tif in RRC_CONNECTED; and if networkControlledSyncTx is configured and set to on: or", 3], ["-", 2, "2>\tif networkControlledSyncTx is not configured; and for the concerned frequency syncTxThreshIC is configured; and the RSRP measurement of the reference cell, selected as defined in 5.8.6.3, for NR sidelink communication transmission is below the value of syncTxThreshIC:", 4], ["", 3, "3>\ttransmit sidelink SSB on the frequency used for NR sidelink communication in accordance with <a href=\"#5.8.5.3\">5.8.5.3</a> and TS 38.211 [16], including the transmission of SLSS as specified in <a href=\"#5.8.5.3\">5.8.5.3</a> and transmission of MasterInformationBlockSidelink as specified in5.8.9.4.3;", 5], ["-", 1, "1>\telse:", 6], ["", 2, "2>\tfor the frequency used for NR sidelink communication, if syncTxThreshOoC is included in SL-PreconfigurationNR; and the UE is not directly synchronized to GNSS, and the UE has no selected SyncRef UE or the S-RSRP measurement result of the selected SyncRef UE is below the value of syncTxThreshOoC; or", 7], ["-", 2, "2>\tfor the frequency used for NR sidelink communication, if the UE selects GNSS as the synchronization reference source:", 8], ["", 3, "3>\ttransmit sidelink SSB on the frequency used for NR sidelink communication in accordance with TS 38.211 [16] , including the transmission of SLSS as specified in <a href=\"#5.8.5.3\">5.8.5.3</a> and transmission of MasterInformationBlockSidelink as specified in <a href=\"#5.8.9.4.3\">5.8.9.4.3</a>;", 9]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.5\tSidelink synchronisation information transmission for NR sidelink communication\n5.8.5.2\tInitiation"}, {"id": "5.8.5.3", "name": "Transmission of SLSS", "headline": "5.8.5.3\tTransmission of SLSS", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.5\tSidelink synchronisation information transmission for NR sidelink communication\n5.8.5.3\tTransmission of SLSS", ""], ["-", 0, "The UE shall select the SLSSID and the slot in which to transmit SLSS as follows:", 0], ["", 1, "1>\tif triggered by NR sidelink communication and in coverage on the frequency used for NR sidelink communication, as defined in TS 38.304 [20]; or", 1], ["-", 1, "1>\tif triggered by NR sidelink communication, and out of coverage on the frequency used for NR sidelink communication, and the concerned frequency is included in sl-FreqInfoToAddModList in sl-ConfigDedicatedNR within RRCReconfiguration message or included in sl-FreqInfoList within SIB12:", 2], ["-", 2, "2>\tif the UE has selected GNSS as synchronization reference in accordance with 5.8.6.2:", 3], ["", 3, "3>\tselect SLSSID 0;", 4], ["", 3, "3>\tuse sl-SSB-TimeAllocation1 included in the entry of configured sl-SyncConfigList corresponding to the concerned frequency, that includes txParameters and gnss-Sync;", 5], ["", 3, "3>\tselect the slot(s) indicated by sl-SSB-TimeAllocation1;", 6], ["-", 2, "2>\tif the UE has selected a cell as synchronization reference in accordance with 5.8.6.2:", 7], ["", 3, "3>\tselect the SLSSID included in the entry of configured sl-SyncConfigList corresponding to the concerned frequency, that includes txParameters and does not include gnss-Sync;", 8], ["", 3, "3>\tselect the slot(s) indicated by sl-SSB-TimeAllocation1;", 9], ["-", 1, "1>\telse if triggered by NR sidelink communication and the UE has GNSS as the synchronization reference:", 10], ["", 2, "2>\tselect SLSSID 0;", 11], ["", 2, "2>\tselect the slot(s) indicated by sl-SSB-TimeAllocation1 in SL-PreconfigurationNR;", 12], ["-", 1, "1>\telse:", 13], ["", 2, "2>\tselect the synchronisation reference UE (i.e. SyncRef UE) as defined in 5.8.6;", 14], ["", 2, "2>\tif the UE has a selected SyncRef UE and inCoverage in the MasterInformationBlockSidelink message received from this UE is set to true; or", 15], ["-", 2, "2>\tif the UE has a selected SyncRef UE and inCoverage in the MasterInformationBlockSidelink message received from this UE is set to false while the SLSS from this UE is part of the set defined for out of coverage, see TS 38.211 [16]:", 16], ["", 3, "3>\tselect the same SLSSID as the SLSSID of the selected SyncRef UE;", 17], ["", 3, "3>\tselect the slot in which to transmit the SLSS according to the sl-SSB-TimeAllocation1 or sl-SSB-TimeAllocation2 included in the preconfigured sidelink parameters corresponding to the concerned frequency, such that the timing is different from the SLSS of the selected SyncRef UE;", 18], ["-", 2, "2>\telse if the UE has a selected SyncRef UE:", 19], ["", 3, "3>\tselect the SLSSID from the set defined for out of coverage having an index that is 336 more than the index of the SLSSID of the selected SyncRef UE, see TS 38.211 [16];", 20], ["", 3, "3>\tselect the slot in which to transmit the SLSS according to sl-SSB-TimeAllocation1 or sl-SSB-TimeAllocation2 included in the preconfigured sidelink parameters corresponding to the concerned frequency, such that the timing is different from the SLSS of the selected SyncRef UE;", 21], ["-", 2, "2>\telse (i.e. no SyncRef UE selected):", 22], ["", 3, "3>\trandomly select, using a uniform distribution, an SLSSID from the set of sequences defined for out of coverage except SLSSID 336, see TS 38.211 [16];", 23], ["", 3, "3>\tselect the slot in which to transmit the SLSS according to the sl-SSB-TimeAllocation1 or sl-SSB-TimeAllocation2 (arbitrary selection between these) included in the preconfigured sidelink parameters in SL-PreconfigurationNR corresponding to the concerned frequency;", 24]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.5\tSidelink synchronisation information transmission for NR sidelink communication\n5.8.5.3\tTransmission of SLSS"}, {"id": "5.8.5a", "name": "Sidelink synchronisation information transmission for V2X sidelink communication", "headline": "5.8.5a\tSidelink synchronisation information transmission for V2X sidelink communication", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.5a\tSidelink synchronisation information transmission for V2X sidelink communication", ""], ["", 0, "Figure 5.8.5a-1: Synchronisation information transmission for V2X sidelink communication, in (partial) coverage", 0], ["", 0, "Figure 5.8.5a-2: Synchronisation information transmission for V2X sidelink communication, out of coverage", 1], ["", 0, "The purpose of this procedure is to provide synchronisation information to a UE.", 2], ["", 0, "The initiation and the procedure for the transmission of SLSS and MasterInformationBlock-SL-V2X follow the procedure specified for V2X sidelink communication in subclause 5.10.7 of TS 36.331 [10].\nNOTE 1: When applying the procedure in this subclause, SIB13 and SIB14 correspond to SystemInformationBlockType21 and SystemInformationBlockType26 specified in TS 36.331 [10] respectively", 3]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.5a\tSidelink synchronisation information transmission for V2X sidelink communication"}, {"id": "5.8.6", "name": "Sidelink synchronisation reference", "headline": "5.8.6\tSidelink synchronisation reference", "aoa": [], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.6\tSidelink synchronisation reference"}, {"id": "5.8.6.1", "name": "General", "headline": "5.8.6.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.6\tSidelink synchronisation reference\n5.8.6.1\tGeneral", ""], ["", 0, "The purpose of this procedure is to select a synchronisation reference and used when transmitting NR sidelink communication.", 0]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.6\tSidelink synchronisation reference\n5.8.6.1\tGeneral"}, {"id": "5.8.6.2", "name": "Selection and reselection of synchronisation reference", "headline": "5.8.6.2\tSelection and reselection of synchronisation reference", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.6\tSidelink synchronisation reference\n5.8.6.2\tSelection and reselection of synchronisation reference", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif the frequency used for NR sidelink communication is included in sl-FreqInfoToAddModList in sl-ConfigDedicatedNR within RRCReconfiguration message or included in sl-ConfigCommonNR within SIB12, and sl-SyncPriority is configured for the concerned frequency and set to gnbEnb:", 1], ["", 2, "2>\tselect a cell as the synchronization reference source as defined in 5.8.6.3:", 2], ["-", 1, "1>\telse if the frequency used for NR sidelink communication is included in sl-FreqInfoToAddModList in sl-ConfigDedicatedNR within RRCReconfiguration message or included in sl-ConfigCommonNR within SIB12, and sl-SyncPriority for the concerned frequency is not configured or is set to gnss, and GNSS is reliable in accordance with TS 38.101-1 [15] and TS 38.133 [14]:", 3], ["", 2, "2>\tselect GNSS as the synchronization reference source;", 4], ["-", 1, "1>\telse if the frequency used for NR sidelink communication is included in PreconfigurationNR, and sl-SyncPriority in SL-PreconfigurationNR is set to gnss and GNSS is reliable in accordance with TS 38.101-1 [15] and TS 38.133 [14]:", 5], ["", 2, "2>\tselect GNSS as the synchronization reference source;", 6], ["-", 1, "1>\telse:", 7], ["", 2, "2>\tperform a full search (i.e. covering all subframes and all possible SLSSIDs) to detect candidate SLSS, in accordance with TS 38.133 [14]", 8], ["", 2, "2>\twhen evaluating the one or more detected SLSSIDs, apply layer 3 filtering as specified in <a href=\"#5.5.3.2\">5.5.3.2</a> using the preconfigured sl-filterCoefficient, before using the S-RSRP measurement results;", 9], ["-", 2, "2>\tif the UE has selected a SyncRef UE:", 10], ["", 3, "3>\tif the S-RSRP of the strongest candidate SyncRef UE exceeds the minimum requirement TS 38.133 [14] by sl-SyncRefMinHyst and the strongest candidate SyncRef UE belongs to the same priority group as the current SyncRef UE and the S-RSRP of the strongest candidate SyncRef UE exceeds the S-RSRP of the current SyncRef UE by syncRefDiffHyst; or", 11], ["", 3, "3>\tif the S-RSRP of the candidate SyncRef UE exceeds the minimum requirement TS 38.133 [14] by sl-SyncRefMinHyst and the candidate SyncRef UE belongs to a higher priority group than the current SyncRef UE; or", 12], ["", 3, "3>\tif GNSS becomes reliable in accordance with TS 38.101-1 [15] and TS 38.133 [14], and GNSS belongs to a higher priority group than the current SyncRef UE; or", 13], ["", 3, "3>\tif a cell is detected and gNB/eNB (if sl-NbAsSync is set to true) belongs to a higher priority group than the current SyncRef UE; or", 14], ["-", 3, "3>\tif the S-RSRP of the current SyncRef UE is less than the minimum requirement defined in TS 38.133 [14]:", 15], ["", 4, "4>\tconsider no SyncRef UE to be selected;", 16], ["-", 2, "2>\tif the UE has selected GNSS as the synchronization reference for NR sidelink communication:", 17], ["", 3, "3>\tif the S-RSRP of the candidate SyncRef UE exceeds the minimum requirement defined in TS 38.133 [14] by sl-SyncRefMinHyst and the candidate SyncRef UE belongs to a higher priority group than GNSS; or", 18], ["-", 3, "3>\tif GNSS becomes not reliable in accordance with TS 38.101-1 [15] and TS 38.133 [14]:", 19], ["", 4, "4>\tconsider GNSS not to be selected;", 20], ["-", 2, "2>\tif the UE has selected cell as the synchronization reference for NR sidelink communication:", 21], ["", 3, "3>\tif the S-RSRP of the candidate SyncRef UE exceeds the minimum requirement defined in TS 38.133 [14] by sl-SyncRefMinHyst and the candidate SyncRef UE belongs to a higher priority group than gNB/eNB; or", 22], ["-", 3, "3>\tif the selected cell is not detected:", 23], ["", 4, "4>\tconsider the cell not to be selected;", 24], ["-", 2, "2>\tif the UE has not selected any synchronization reference:", 25], ["-", 3, "3>\tif the UE detects one or more SLSSIDs for which the S-RSRP exceeds the minimum requirement defined in TS 38.133 [14] by sl-SyncRefMinHyst and for which the UE received the corresponding MasterInformationBlockSidelink message (candidate SyncRef UEs), or if the UE detects GNSS that is reliable in accordance with TS 38.101-1 [15] and TS 38.133 [14], or if the UE detects a cell, select a synchronization reference according to the following priority group order:", 26], ["-", 4, "4>\tif sl-SyncPriority corresponding to the concerned frequency is set to gnbEnb:", 27], ["", 5, "5>\tUEs of which SLSSID is part of the set defined for in coverage, and inCoverage, included in the MasterInformationBlockSidelink message received from this UE, is set to true, starting with the UE with the highest S-RSRP result (priority group 1);", 28], ["", 5, "5>\tUE of which SLSSID is part of the set defined for in coverage, and inCoverage, included in the MasterInformationBlockSidelink message received from this UE, is set to false, starting with the UE with the highest S-RSRP result (priority group 2);", 29], ["", 5, "5>\tGNSS that is reliable in accordance with TS 38.101-1 [15] and TS 38.133 [14] (priority group 3);", 30], ["", 5, "5>\tUEs of which SLSSID is 0, and inCoverage, included in the MasterInformationBlockSidelink message received from this UE, is set to true,starting with the UE with the highest S-RSRP result (priority group 4);", 31], ["", 5, "5>\tUEs of which SLSSID is 0 and inCoverage, included in the MasterInformationBlockSidelink message received from this UE, is set to false, starting with the UE with the highest S-RSRP result (priority group 5);", 32], ["", 5, "5>\tOther UEs, starting with the UE with the highest S-RSRP result (priority group 6);", 33], ["-", 4, "4>\tif sl-SyncPriority corresponding to the concerned frequency is set to gnss, and sl-NbAsSync is set to true:", 34], ["", 5, "5>\tUEs of which SLSSID is 0, and inCoverage, included in the MasterInformationBlockSidelink message received from this UE, is set to true, starting with the UE with the highest S-RSRP result (priority group 1);", 35], ["", 5, "5>\tUEs of which SLSSID is 0 and inCoverage, included in the MasterInformationBlockSidelink message received from this UE, is set to false, starting with the UE with the highest S-RSRP result (priority group 2);", 36], ["", 5, "5>\tthe cell detecteted by the UE as defined in <a href=\"#5.8.6.3\">5.8.6.3</a> (priority group 3);", 37], ["", 5, "5>\tUEs of which SLSSID is part of the set defined for in coverage, and inCoverage, included in the MasterInformationBlockSidelink message received from this UE, is set to true, starting with the UE with the highest S-RSRP result (priority group 4);", 38], ["", 5, "5>\tUE of which SLSSID is part of the set defined for in coverage, and inCoverage, included in the MasterInformationBlockSidelink message received from this UE, is set to false, starting with the UE with the highest S-RSRP result (priority group 5);5>\tOther UEs, starting with theUE with the highest S-RSRP result (priority group 6);", 39], ["-", 4, "4>\tif sl-SyncPriority corresponding to the concerned frequency is set to gnss, and sl-NbAsSync is set to false:", 40], ["", 5, "5>\tUEs of which SLSSID is 0, and inCoverage, included in the MasterInformationBlockSidelink message received from this UE, is set to true, starting with the UE with the highest S-RSRP result (priority group 1);", 41], ["", 5, "5>\tUEs of which SLSSID is 0 and inCoverage, included in the MasterInformationBlockSidelink message received from this UE, is set to false, starting with the UE with the highest S-RSRP result (priority group 2);", 42], ["", 5, "5>\tOther UEs, starting with the UE with the highest S-RSRP result (priority group 3);", 43]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.6\tSidelink synchronisation reference\n5.8.6.2\tSelection and reselection of synchronisation reference"}, {"id": "5.8.6.3", "name": "Sidelink communication transmission reference cell selection", "headline": "5.8.6.3\tSidelink communication transmission reference cell selection", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.6\tSidelink synchronisation reference\n5.8.6.3\tSidelink communication transmission reference cell selection", ""], ["-", 0, "A UE capable of NR sidelink communication that is configured by upper layers to transmit NR sidelink communication shall:", 0], ["-", 1, "1>\tfor the frequency used to transmit NR sidelink communication, select a cell to be used as reference for synchronization in accordance with the following:", 1], ["-", 2, "2>\tif the frequency concerns the primary frequency:", 2], ["", 3, "3>\tuse the PCell or the serving cell as reference;", 3], ["-", 2, "2>\telse if the frequency concerns a secondary frequency:", 4], ["", 3, "3>\tuse the concerned SCell as reference;", 5], ["-", 2, "2>\telse if the UE is in coverage of the concerned frequency:", 6], ["", 3, "3>\tuse the DL frequency paired with the one used to transmit NR sidelink communication as reference;", 7], ["-", 2, "2>\telse (i.e., out of coverage on the concerned frequency):", 8], ["", 3, "3>\tuse the PCell or the serving cell as reference, if needed;", 9]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.6\tSidelink synchronisation reference\n5.8.6.3\tSidelink communication transmission reference cell selection"}, {"id": "5.8.7", "name": "Sidelink communication reception", "headline": "5.8.7\tSidelink communication reception", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.7\tSidelink communication reception", ""], ["-", 0, "A UE capable of NR sidelink communication that is configured by upper layers to receive NR sidelink communication shall:", 0], ["-", 1, "1>\tif the conditions for NR sidelink communication operation as defined in <a href=\"#5.8.2\">5.8.2</a> are met:", 1], ["-", 2, "2>\tif the frequency used for NR sidelink communication is included in sl-FreqInfoToAddModList in RRCReconfiguration message or sl-FreqInfoList included in SIB12:", 2], ["-", 3, "3>\tif the UE is configured with sl-RxPool included in RRCReconfiguration message with reconfigwithSync (i.e. handover):", 3], ["", 4, "4>\tconfigure lower layers to monitor sidelink control information and the corresponding data using the pool of resources indicated by sl-RxPool;", 4], ["-", 3, "3>\telse if the cell chosen for NR sidelink communication transmission provides SIB12:", 5], ["", 4, "4>\tconfigure lower layers to monitor sidelink control information and the corresponding data using the pool of resources indicated by sl-RxPool in SIB12;", 6], ["-", 2, "2>\telse:", 7], ["", 3, "3>\tconfigure lower layers to monitor sidelink control information and the corresponding data using the pool of resources that were preconfigured by sl-RxPool in SL-PreconfigurationNR, as defined in sub-clause 9.3;", 8]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.7\tSidelink communication reception"}, {"id": "5.8.8", "name": "Sidelink communication transmission", "headline": "5.8.8\tSidelink communication transmission", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.8\tSidelink communication transmission", ""], ["-", 0, "A UE capable of NR sidelink communication that is configured by upper layers to transmit NR sidelink communication and has related data to be transmitted shall:", 0], ["-", 1, "1>\tif the conditions for NR sidelink communication operation as defined in <a href=\"#5.8.2\">5.8.2</a> are met:", 1], ["-", 2, "2>\tif the frequency used for NR sidelink communication is included in sl-FreqInfoToAddModList in sl-ConfigDedicatedNR within RRCReconfiguration message or included in sl-ConfigCommonNR within SIB12:", 2], ["-", 3, "3>\tif the UE is in RRC_CONNECTED and uses the frequency included in sl-ConfigDedicatedNR within RRCReconfiguration message:", 3], ["-", 4, "4>\tif the UE is configured with sl-ScheduledConfig:", 4], ["", 5, "5>\tif T310 for MCG or T311 is running; and if sl-TxPoolExceptional is included in sl-FreqInfoList for the concerned frequency in SIB12 or included in in RRCReconfiguration; or", 5], ["", 5, "5>\tif T301 is running and the cell on which the UE initiated RRC connection re-establishment provides SIB12 including sl-TxPoolExceptional for the concerned frequency; or", 6], ["-", 5, "5>\tif T304 for MCG is running and the UE is configured with sl-TxPoolExceptional included in sl-ConfigDedicatedNR for the concerned frequency in RRCReconfiguration:", 7], ["", 6, "6>\tconfigure lower layers to transmit the sidelink control information and the corresponding data based on random selection using the pool of resources indicated sl-TxPoolExceptional as defined in TS 38.321 [3];", 8], ["-", 5, "5>\telse:", 9], ["", 6, "6>\tconfigure lower layers to request the network to assign transmission resources for NR sidelink communication;", 10], ["", 5, "5>\tif T310 for MCG expires, configure the lower layers to release the resources indicated by rrc-ConfiguredSidelinkGrant (if any);", 11], ["-", 4, "4>\tif the UE is configured with sl-UE-SelectedConfig:", 12], ["-", 5, "5>\tif a result of sensing on the resources configured in sl-TxPoolSelectedNormal for the concerned frequency included in sl-ConfigDedicatedNR within RRCReconfiguration is not available in accordance with TS 38.213 [13];", 13], ["", 6, "6>\tif sl-TxPoolExceptional for the concerned frequency is included in RRCReconfiguration; or", 14], ["-", 6, "6>\tif the PCell provides SIB12 including sl-TxPoolExceptional in for the concerned frequency:", 15], ["", 7, "7>\tconfigure lower layers to transmit the sidelink control information and the corresponding data based on random selection using the pool of resources indicated by sl-TxPoolExceptional as defined in TS 38.321 [3];", 16], ["-", 5, "5>\telse, if the sl-TxPoolSelectedNormal for the concerned frequency is included in the sl-ConfigDedicatedNR within RRCReconfiguration:", 17], ["", 6, "6>\tconfigure lower layers to transmit the sidelink control information and the corresponding data based on sensing (as defined in TS 38.321 [3] and TS 38.213 [13]) using the resource pools indicated by sl-TxPoolSelectedNormal for the concerned frequency;", 18], ["-", 3, "3>\telse:", 19], ["-", 4, "4>\tif the cell chosen for NR sidelink communication transmission provides SIB12:", 20], ["-", 5, "5>\tif SIB12 includes sl-TxPoolSelectedNormal for the concerned frequency, and a result of sensing on the resources configured in the sl-TxPoolSelectedNormal is available in accordance with TS 38.213 [13]", 21], ["", 6, "6>\tconfigure lower layers to transmit the sidelink control information and the corresponding data based on sensing using the pool of resources indicated by sl-TxPoolSelectedNormal for the concerned frequency as defined in TS 38.321 [3];", 22], ["-", 5, "5>\telse if SIB12 includes sl-TxPoolExceptional for the concerned frequency:", 23], ["", 6, "6>\tfrom the moment the UE initiates connection establishment or connection resume, until receiving an RRCReconfiguration including sl-ConfigDedicatedNR, or receiving an RRCRelease or an RRCReject; or", 24], ["-", 6, "6>\tif a result of sensing on the resources configured in sl-TxPoolSelectedNormal for the concerned frequency in SIB12 is not available in accordance with TS 38.213 [13]:", 25], ["", 7, "7>\tconfigure lower layers to transmit the sidelink control information and the corresponding data based on random selection (as defined in TS 38.321 [3] and TS 38.213 [13]) using one of the resource pools indicated by sl-TxPoolExceptional for the concerned frequency;", 26], ["-", 2, "2>\telse:", 27], ["", 3, "3>\tconfigure lower layers to transmit the sidelink control information and the corresponding data based on sensing (as defined in TS 38.321 [3] and TS 38.213 [13]) using the resource pool indicated by sl-TxPoolSelectedNormal in sl-PreconfigurationNR for the concerned frequency.", 28]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.8\tSidelink communication transmission"}, {"id": "5.8.9", "name": "Sidelink RRC procedure", "headline": "5.8.9\tSidelink RRC procedure", "aoa": [], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure"}, {"id": "5.8.9.1", "name": "Sidelink RRC reconfiguration", "headline": "5.8.9.1\tSidelink RRC reconfiguration", "aoa": [], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration"}, {"id": "5.8.9.1.1", "name": "General", "headline": "5.8.9.1.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.1\tGeneral", ""], ["", 0, "Figure 5.8.9.1.1-1: Sidelink RRC reconfiguration, successful", 0], ["", 0, "Figure 5.8.9.1.1-2: Sidelink RRC reconfiguration, failure", 1], ["", 0, "The purpose of this procedure is to establish/modify/release sidelink DRBs or configure NR sidelink measurement and report for a PC5-RRC connection.", 2], ["", 0, "The UE may initiate the sidelink RRC reconfiguration procedure and perform the operation in sub-clause <a href=\"#5.8.9.1.2\">5.8.9.1.2</a> to its peer UE in following cases:\n-\tthe release of sidelink DRBs associated with the peer UE, as specified in sub-clause 5.8.9.1.4;\n-\tthe establishment of sidelink DRBs associated with the peer UE, as specified in sub-clause <a href=\"#5.8.9.1.5\">5.8.9.1.5</a>;\n-\tthe modification for the parameters included in SLRB-Config of sidelink DRBs associated with the peer UE, as specified in sub-clause <a href=\"#5.8.9.1.5\">5.8.9.1.5</a>;\n-\tthe configuration of the peer UE to peform NR sidelink measurement and report.", 3]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.1\tGeneral"}, {"id": "5.8.9.1.2", "name": "Actions related to transmission of RRCReconfigurationSidelink message", "headline": "5.8.9.1.2\tActions related to transmission of RRCReconfigurationSidelink message", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.2\tActions related to transmission of RRCReconfigurationSidelink message", ""], ["-", 0, "The UE shall set the contents of RRCReconfigurationSidelink message as follows:", 0], ["-", 1, "1>\tfor each sidelink DRB that is to be released, according to sub-clause 5.8.9.1.4.1, due to configuration by sl-ConfigDedicatedNR, SIB12, SidelinkPreconfigNR or by upper layers:", 1], ["", 2, "2>\tset the slrb-PC5-ConfigIndex included in the slrb-ConfigToReleaseList corresponding to the sidelink DRB;", 2], ["-", 1, "1>\tfor each sidelink DRB that is to be established or modified, according to sub-clause 5.8.9.1.5.1, due to receiving sl-ConfigDedicatedNR, SIB12, SidelinkPreconfigNR:", 3], ["", 2, "2>\tset the SLRB-Config included in the slrb-ConfigToAddModList, according to the received sl-RadioBearerConfig and sl-RLC-BearerConfig corresponding to the sidelink DRB;", 4], ["-", 1, "1>\tfor each NR sidelink measurement and report that is to be configured:", 5], ["", 2, "2>\tset the sl-MeasConfig according to the stored NR sidelink measurement configuration information;", 6], ["", 1, "1>\tstart timer T400 for the destination associated with the sidelink DRB;", 7], ["", 0, "The UE shall submit the RRCReconfigurationSidelink message to lower layers for transmission.", 8]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.2\tActions related to transmission of RRCReconfigurationSidelink message"}, {"id": "5.8.9.1.3", "name": "Reception of an RRCReconfigurationSidelink by the UE", "headline": "5.8.9.1.3\tReception of an RRCReconfigurationSidelink by the UE", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.3\tReception of an RRCReconfigurationSidelink by the UE", ""], ["-", 0, "The UE shall perform the following actions upon reception of the RRCReconfigurationSidelink:", 0], ["-", 1, "1>\tif the RRCReconfigurationSidelink includes the slrb-ConfigToReleaseList:", 1], ["-", 2, "2>\tfor each slrb-PC5-ConfigIndex value included in the slrb-ConfigToReleaseList that is part of the current UE sidelink configuration;", 2], ["", 3, "3>\tperform the sidelink DRB release procedure, according to sub-clause 5.8.9.1.4;", 3], ["-", 1, "1>\tif the RRCReconfigurationSidelink includes the slrb-ConfigToAddModList:", 4], ["-", 2, "2>\tfor each slrb-PC5-ConfigIndex value included in the slrb-ConfigToAddModList that is not part of the current UE sidelink configuration:", 5], ["", 3, "3>\tapply the sl-MappedQoS-FlowsToAddList, if included;", 6], ["", 3, "3>\tperform the sidelink DRB addition procedure, according to sub-clause <a href=\"#5.8.9.1.5\">5.8.9.1.5</a>;", 7], ["-", 2, "2>\tfor each slrb-PC5-ConfigIndex value included in the slrb-ConfigToAddModList that is part of the current UE sidelink configuration:", 8], ["", 3, "3>\tapply the sl-MappedQoS-FlowsToAddList and sl-MappedQoS-FlowsToReleaseList, if included;", 9], ["", 3, "3>\tperform the sidelink DRB release or modification procedure, according to sub-clause 5.8.9.1.4 and 5.8.9.1.5.", 10], ["-", 1, "1>\tif the UE is unable to comply with (part of) the configuration included in the RRCReconfigurationSidelink (i.e. sidelink RRC reconfiguration failure):", 11], ["", 2, "2>\tcontinue using the configuration used prior to the reception of the RRCReconfigurationSidelink message;", 12], ["-", 2, "2>\tset the content of the RRCReconfigurationFailureSidelink message;", 13], ["", 3, "3>\tsubmit the RRCReconfigurationFailureSidelink message to lower layers for transmission;", 14], ["-", 1, "1>\telse:", 15], ["-", 2, "2>\tset the content of the RRCReconfigurationCompleteSidelink message;", 16], ["", 3, "3>\tsubmit the RRCReconfigurationCompleteSidelink message to lower layers for transmission;\nNOTE 1:\tWhen the same logical channel is configured with different RLC mode by another UE, the UE handles the case as sidelink RRC reconfiguration failure.", 17]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.3\tReception of an RRCReconfigurationSidelink by the UE"}, {"id": "5.8.9.1.4", "name": "Sidelink DRB release", "headline": "5.8.9.1.4\tSidelink DRB release", "aoa": [], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.4\tSidelink DRB release"}, {"id": "5.8.9.1.4.1", "name": "Sidelink DRB release conditions", "headline": "5.8.9.1.4.1\tSidelink DRB release conditions", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.4\tSidelink DRB release\n5.8.9.1.4.1\tSidelink DRB release conditions", ""], ["-", 0, "For NR sidelink communication, a sidelink DRB release is initiated only in the following cases:", 0], ["", 1, "1>\tfor the slrb-Uu-ConfigIndex (if any) of the sidelink DRB, if slrb-Uu-ConfigIndex is included in sl-RadioBearerToReleaseList in sl-ConfigDedicatedNR, or if no sidelink QoS flow with data indicated by upper layers is mapped to the sidelink DRB for transmission, which is (re)configured by receiving SIB12 or SidelinkPreconfigNR; and", 1], ["", 1, "1>\tfor the slrb-PC5-ConfigIndex (if any) of the sidelink DRB, if slrb-PC5-ConfigIndex is included in slrb-ConfigToReleaseList in RRCReconfigurationSidelink, or if the sidelink QoS flow mapped to the sidelink DRB, which is (re)configured by receiving RRCReconfigurationSidelink, has no data;", 2]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.4\tSidelink DRB release\n5.8.9.1.4.1\tSidelink DRB release conditions"}, {"id": "5.8.9.1.4.2", "name": "Sidelink DRB release operations", "headline": "5.8.9.1.4.2\tSidelink DRB release operations", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.4\tSidelink DRB release\n5.8.9.1.4.2\tSidelink DRB release operations", ""], ["-", 0, "For each sidelink DRB, whose sidelink DRB release conditions are met as in sub-clause 5.8.9.1.4.1, the UE capable of NR sidelink communication that is configured by upper layers to perform NR sidelink communication shall:", 0], ["", 1, "1>\tfor groupcast and broadcast, or", 1], ["-", 1, "1>\tfor unicast, after receiving RRCReconfigurationSidelink message (in case the release is due to the configuration by RRCReconfigurationSidelink), or after receiving the RRCReconfigurationCompleteSidelink message(in case the release is due to the configuration by sl-ConfigDedicatedNR, SIB12, SidelinkPreconfigNR or indicated by upper layers)", 2], ["", 2, "2>\trelease the PDCP entity for NR sidelink communication associated with the sidelink DRB;", 3], ["-", 2, "2>\tif SDAP entity for NR sidelink communication associated with this sidelink DRB is configured:", 4], ["", 3, "3>\tindicate the release of the sidelink DRB to the SDAP entity associated with this sidelink DRB (TS 37.324 [24], clause 5.3.3);", 5], ["", 2, "2>\trelease the RLC entity and the corresponding logical channel for NR sidelink communication associated with the sidelink DRB.", 6], ["", 1, "1>\trelease SDAP entities for NR sidelink communication, if any, that have no associated sidelink DRB as specified in TS 37.324 [24] clause 5.1.2, and indicate the release to upper layers.", 7], ["-", 1, "1>\tfor each sl-RLC-BearerConfigIndex included in the received sl-RLC-BearerToReleaseList that is part of the current UE sidelink configuration:", 8], ["", 2, "2>\trelease the RLC entity for NR sidelink communication and the corresponding logical channel for NR sidelink communication, associated with the sl-RLC-BearerConfigIndex.", 9], ["-", 2, "2>\tif the RRCReconfigurationSidelink is received:", 10], ["", 3, "3> perform the sidelink UE information procedure in sub-caluse 5.8.3 for unicast if need;", 11]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.4\tSidelink DRB release\n5.8.9.1.4.2\tSidelink DRB release operations"}, {"id": "5.8.9.1.5", "name": "Sidelink DRB addition/modification", "headline": "5.8.9.1.5\tSidelink DRB addition/modification", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.5\tSidelink DRB addition/modification", ""], ["", 0, "In RRC_CONNECTED, the UE applies the NR sidelink communications parameters provided in RRCReconfiguration (if any). In RRC_IDLE or RRC_INACTIVE, the UE applies the NR sidelink communications parameters provided in system information (if any). For other cases, UEs apply the NR sidelink communications parameters provided in SidelinkPreconfigNR (if any). When UE performs state transition between above three cases, the UE applies the NR sidelink communications parameters provided in the new state, after acquisition of the new configurations. Before acquisition of the new configurations, UE continues applying the NR sidelink communications parameters provided in the old state.", 0]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.5\tSidelink DRB addition/modification"}, {"id": "5.8.9.1.5.1", "name": "Sidelink DRB addition/modification conditions", "headline": "5.8.9.1.5.1\tSidelink DRB addition/modification conditions", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.5\tSidelink DRB addition/modification\n5.8.9.1.5.1\tSidelink DRB addition/modification conditions", ""], ["-", 0, "For NR sidelink communication, a sidelink DRB addition is initiated only in the following cases:", 0], ["", 1, "1>\tif any sidelink QoS flow is (re)configured by sl-ConfigDedicatedNR, SIB12, SidelinkPreconfigNR and is to be mapped to one sidelink DRB, which is not established; or", 1], ["", 1, "1>\tif any sidelink QoS flow is (re)configured by RRCReconfigurationSidelink and is to be mapped to a sidelink DRB, which is not established;", 2], ["-", 0, "For NR sidelink communication, a sidelink DRB modification is initiated only in the following cases:", 3], ["", 1, "1>\tif any of the sidelink DRB related  parameters is changed by sl-ConfigDedicatedNR, SIB12, SidelinkPreconfigNR or RRCReconfigurationSidelink for one sidelink DRB, which is established;", 4]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.5\tSidelink DRB addition/modification\n5.8.9.1.5.1\tSidelink DRB addition/modification conditions"}, {"id": "5.8.9.1.5.2", "name": "Sidelink DRB addition/modification operations", "headline": "5.8.9.1.5.2\tSidelink DRB addition/modification operations", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.5\tSidelink DRB addition/modification\n5.8.9.1.5.2\tSidelink DRB addition/modification operations", ""], ["-", 0, "For the sidelink DRB, whose sidelink DRB addition conditions are met as in sub-clause 5.8.9.1.5.1, the UE capable of NR sidelink communication that is configured by upper layers to perform NR sidelink communication shall:", 0], ["", 1, "1>\tfor groupcast and broadcast, or", 1], ["-", 1, "1>\tfor unicast, after receiving RRCReconfigurationSidelink message (in case the addition is due to the configuration by RRCReconfigurationSidelink), or after receiving the RRCReconfigurationCompleteSidelink message (in case the addition is due to the configuration by sl-ConfigDedicatedNR, SIB12, SidelinkPreconfigNR or indicated by upper layers):", 2], ["-", 2, "2>\tif an SDAP entity for NR sidelink communication accoicated with the desination and the cast type of the sidelink DRB does not exist:", 3], ["", 3, "3>\testablish an SDAP entity for NR sidelink communication as specified in TS 37.324 [24] clause <a href=\"#5.1.1\">5.1.1</a>;", 4], ["", 3, "3>\tconfigure the SDAP entity in accordance with the sl-SDAP-ConfigPC5 received in the RRCReconfigurationSidelink or sl-SDAP-Config received in sl-ConfigDedicatedNR, SIB12, SidelinkPreconfigNR, associated with the sidelink DRB;", 5], ["", 2, "2>\testablish a PDCP entity for NR sidelink communication and configure it in accordance with the sl-PDCP-ConfigPC5 received in the RRCReconfigurationSidelink or sl-PDCP-Config received in sl-ConfigDedicatedNR, SIB12, SidelinkPreconfigNR, associated with the sidelink DRB;", 6], ["", 2, "2>\testablish a RLC entity for NR sidelink communication and configure it in accordance with the sl-RLC-ConfigPC5 received in the RRCReconfigurationSidelink or sl-RLC-Config received in sl-ConfigDedicatedNR, SIB12, SidelinkPreconfigNR, associated with sidelink DRB;", 7], ["-", 2, "2>\tif the RRCReconfigurationSidelink is received:", 8], ["", 3, "3>\tconfigure the MAC entity with a logical channel in accordance with the sl-MAC-LogicalChannelConfigPC5 received in the RRCReconfigurationSidelink associated with the sidelink DRB, and perform the sidelink UE information procedure in sub-caluse 5.8.3 for unicast if need;", 9], ["-", 2, "2>\telse:", 10], ["", 3, "3>\tconfigure the MAC entity with a logical channel associated with the sidelink DRB, by assigning a new logical channel identity, in accordance with the sl-MAC-LogicalChannelConfig received in the sl-ConfigDedicatedNR, SIB12, SidelinkPreconfigNR.\nNOTE 1:\tWhen a sidelink DRB addition is due to the configuration by RRCReconfigurationSidelink, it is up to UE implementation to select the sidelink DRB configuration as necessary transmitting parameters for the sidelink DRB, from the received sl-ConfigDedicatedNR (if in RRC_CONNECTED), SIB12 (if in RRC_IDLE/INACTIVE), SidelinkPreconfigNR (if out of coverage) with the same RLC mode as the one configured in RRCReconfigurationSidelink.", 11], ["-", 0, "For the sidelink DRB, whose sidelink DRB modification conditions are met as in sub-clause 5.8.9.1.5.1, the UE capable of NR sidelink communication that is configured by upper layers to perform NR sidelink communication shall:", 12], ["", 1, "1>\tfor groupcast and broadcast, or", 13], ["-", 1, "1>\tfor unicast, after receiving RRCReconfigurationSidelink message (in case the modification is due to the configuration by RRCReconfigurationSidelink), or after receiving the RRCReconfigurationCompleteSidelink message (in case the modification is due to the configuration by sl-ConfigDedicatedNR, SIB12 or SidelinkPreconfigNR):", 14], ["", 2, "2>\treconfigure the SDAP entity of the sidelink DRB, in accordance with the sl-SDAP-ConfigPC5 received in the RRCReconfigurationSidelink or sl-SDAP-Config received in sl-ConfigDedicatedNR, SIB12, SidelinkPreconfigNR, if included;", 15], ["", 2, "2>\treconfigure the PDCP entity of the sidelink DRB, in accordance with the sl-PDCP-ConfigPC5 received in the RRCReconfigurationSidelink or sl-PDCP-Config received in sl-ConfigDedicatedNR, SIB12, SidelinkPreconfigNR, if included;", 16], ["", 2, "2>\treconfigure the RLC entity of the sidelink DRB, in accordance with the sl-RLC-ConfigPC5 received in the RRCReconfigurationSidelink or sl-RLC-Config received in sl-ConfigDedicatedNR, SIB12, SidelinkPreconfigNR, if included;", 17], ["", 2, "2>\treconfigure the logical channel of the sidelink DRB, in accordance with the sl-MAC-LogicalChannelConfigPC5 received in the RRCReconfigurationSidelink or sl-MAC-LogicalChannelConfig received in sl-ConfigDedicatedNR, SIB12, SidelinkPreconfigNR, if included.", 18]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.5\tSidelink DRB addition/modification\n5.8.9.1.5.2\tSidelink DRB addition/modification operations"}, {"id": "5.8.9.1.6", "name": "Sidelink SRB addition", "headline": "5.8.9.1.6\tSidelink SRB addition", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.6\tSidelink SRB addition", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif transmission of sidelink SRB for PC5-S message for a specific destination is requested by upper layers:", 1], ["", 2, "2>\testablish PDCP entity, RLC entity and the logical channel of a sidelink SRB for PC5-S message, as specified in sub-clause 9.1.1.4;", 2], ["-", 1, "1>\tif a PC5-RRC connection establishment for a specific destination is indicated by upper layers:", 3], ["", 2, "2>\testablish PDCP entity, RLC entity and the logical channel of a sidelink SRB for PC5-RRC message of the specific destination, as specified in sub-clause 9.1.1.4;", 4], ["", 2, "2>\tconsider the PC5-RRC connection is established for the destination.", 5]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.6\tSidelink SRB addition"}, {"id": "5.8.9.1.7", "name": "Sidelink SRB release", "headline": "5.8.9.1.7\tSidelink SRB release", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.7\tSidelink SRB release", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tif a PC5-RRC connection release for a specific destination is requested by upper layers; or", 1], ["-", 1, "1>\tif the sidelink radio link failure is detected for a specific destination:", 2], ["", 2, "2>\trelease the PDCP entity, RLC entity and the logical channel of the sidelink SRB for PC5-RRC message of the specific destination;", 3], ["", 2, "2>\tconsider the PC5-RRC connection is released for the destination.", 4], ["-", 1, "1>\tif a PC5-S transmission release for a specific destination is requested by upper layers:", 5], ["", 2, "2>\trelease the PDCP entity, RLC entity and the logical channel of the sidelink SRB(s) for PC5-S message of the specific destination;", 6]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.7\tSidelink SRB release"}, {"id": "5.8.9.1.8", "name": "Sidelink RRC reconfiguration failure", "headline": "5.8.9.1.8\tSidelink RRC reconfiguration failure", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.8\tSidelink RRC reconfiguration failure", ""], ["-", 0, "The UE shall perform the following actions upon reception of the RRCReconfigurationFailureSidelink:", 0], ["-", 1, "1>\tstop timer T400, if running;", 1], ["", 2, "2>\tcontinue using the configuration used prior to corresponding RRCReconfigurationSidelink message;", 2], ["-", 1, "1>\tif UE is in RRC_CONNECTED:", 3], ["", 2, "2>\tperform the sidelink UE information for NR sidelink communication procedure, as specified in <a href=\"#5.8.3.3\">5.8.3.3</a> or sub-clause 5.10.X in TS 36.331 [10];", 4], ["", 0, "Editor Notes: FFS on the need of further UE behaviors upon PC5 AS configuration failure.", 5]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.8\tSidelink RRC reconfiguration failure"}, {"id": "5.8.9.1.9", "name": "Reception of an RRCReconfigurationCompleteSidelink by the UE", "headline": "5.8.9.1.9\tReception of an RRCReconfigurationCompleteSidelink by the UE", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.9\tReception of an RRCReconfigurationCompleteSidelink by the UE", ""], ["-", 0, "The UE shall perform the following actions upon reception of the RRCReconfigurationCompleteSidelink:", 0], ["", 1, "1>\tstop timer T400, if running;", 1]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.1\tSidelink RRC reconfiguration\n5.8.9.1.9\tReception of an RRCReconfigurationCompleteSidelink by the UE"}, {"id": "5.8.9.2", "name": "Sidelink UE capablities", "headline": "5.8.9.2\tSidelink UE capablities", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.2\tSidelink UE capablities", ""], ["", 0, "Editor Notes: The details on the procedure of Sidelink UE Capablities to be captured after the clear agreement.", 0]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.2\tSidelink UE capablities"}, {"id": "5.8.9.3", "name": "Sidelink radio link failure related actions", "headline": "5.8.9.3\tSidelink radio link failure related actions", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.3\tSidelink radio link failure related actions", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tupon indication from sidelink RLC entity that the maximum number of retransmissions for a specific destination has been reached; or", 1], ["-", 1, "1>\tupon T400 expiry:", 2], ["", 2, "2>\tconsider sidelink radio link failure to be detected for this destination;", 3], ["", 2, "2>\trelease the DRBs of this destination, in according to sub-clause 5.8.9.1.4;", 4], ["", 2, "2>\trelease the SRBs of this destination, in according to sub-clause <a href=\"#5.8.9.1.7\">5.8.9.1.7</a>;", 5], ["", 2, "2>\tdiscard the NR sidelink communication related configuration of this destination;", 6], ["", 2, "2>\tconsider the PC5-RRC connection is released for the destination;", 7], ["", 2, "2>\tindicate the release of the PC5-RRC connection to the upper layers for this destination (i.e. PC5 is unavailable);", 8], ["-", 2, "2>\tif UE is in RRC_CONNECTED:", 9], ["", 3, "3>\tperform the sidelink UE information for NR sidelink communication procedure, as specified in <a href=\"#5.8.3.3\">5.8.3.3</a> or sub-clause 5.10.X in TS 36.331 [10];", 10]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.3\tSidelink radio link failure related actions"}, {"id": "5.8.9.4", "name": "Sidelink common control information", "headline": "5.8.9.4\tSidelink common control information", "aoa": [], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.4\tSidelink common control information"}, {"id": "5.8.9.4.1", "name": "General", "headline": "5.8.9.4.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.4\tSidelink common control information\n5.8.9.4.1\tGeneral", ""], ["", 0, "The sidelink common control information is carried by MasterInformationBlockSidelink. The sidelink common control information may change at any transmission i.e. neither a modification period nor a change notification mechanism is used.", 0], ["-", 0, "A UE configured to receive or transmit NR sidelink communication shall:", 1], ["-", 1, "1>\tif the UE has a selected SyncRef UE, as specified in 5.8.6:", 2], ["", 2, "2>\tensure having a valid version of the MasterInformationBlockSidelink message of that SyncRef UE;", 3]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.4\tSidelink common control information\n5.8.9.4.1\tGeneral"}, {"id": "5.8.9.4.2", "name": "Actions related to reception of MasterInformationBlockSidelink message", "headline": "5.8.9.4.2\tActions related to reception of MasterInformationBlockSidelink message", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.4\tSidelink common control information\n5.8.9.4.2\tActions related to reception of MasterInformationBlockSidelink message", ""], ["-", 0, "Upon receiving MasterInformationBlockSidelink, the UE shall:", 0], ["", 1, "1>\tapply the values included in the received MasterInformationBlockSidelink message.", 1]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.4\tSidelink common control information\n5.8.9.4.2\tActions related to reception of MasterInformationBlockSidelink message"}, {"id": "5.8.9.4.3", "name": "Transmission of MasterInformationBlockSidelink message", "headline": "5.8.9.4.3\tTransmission of MasterInformationBlockSidelink message", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.4\tSidelink common control information\n5.8.9.4.3\tTransmission of MasterInformationBlockSidelink message", ""], ["-", 0, "The UE shall set the contents of the MasterInformationBlockSidelink message as follows:", 0], ["-", 1, "1>\tif in coverage on the frequency used for the NR sidelink communication as defined in TS 38.304 [20].", 1], ["", 2, "2>\tset inCoverage to true;", 2], ["-", 2, "2>\tif tdd-UL-DL-ConfigurationCommon is included in the received SIB1:", 3], ["", 3, "3>\tset sl-TDD-Config to the value representing the same meaning as that is included in tdd-UL-DL-ConfigurationCommon;", 4], ["-", 2, "2>\telse:", 5], ["", 3, "3>\tset sl-TDD-Config to none;", 6], ["-", 2, "2>\tif syncInfoReserved is included in an entry of configured sl-SyncConfigList corresponding to the concerned frequency from the received SIB12:", 7], ["", 3, "3>\tset reservedBits to the value of syncInfoReserved in the received SIB12;", 8], ["-", 2, "2>\telse:", 9], ["", 3, "3>\tset all bits in reservedBits to 0;", 10], ["-", 1, "1>\telse if out of coverage on the frequency used for NR sidelink communication as defined in TS 38.304 [20]; and the concerned frequency is included in sl-FreqInfoToAddModList in RRCReconfiguration or in sl-FreqInfoList within SIB12, or the UE selects GNSS timing as the synchronization reference source:", 11], ["", 2, "2>\tset inCoverage to true;", 12], ["", 2, "2>\tset sl-TDD-Config and reservedBits to the value of the corresponding field included in the preconfigured sidelink parameters (i.e. sl-PreconfigGeneral in SL-PreconfigurationNR defined in 9.3);", 13], ["-", 1, "1>\telse if the UE has a selected SyncRef UE (as defined in 5.8.6):", 14], ["", 2, "2>\tset inCoverage to false;", 15], ["", 2, "2>\tset sl-TDD-Config and reservedBits to the value of the corresponding field included in the received MasterInformationBlockSidelink;", 16], ["-", 1, "1>\telse:", 17], ["", 2, "2>\tset inCoverage to false;", 18], ["", 2, "2>\tset sl-TDD-Config and reservedBits to the value of the corresponding field included in the preconfigured sidelink parameters (i.e. sl-PreconfigGeneral in SL-PreconfigurationNR defined in 9.3);", 19], ["", 1, "1>\tset directFrameNumber and slotIndex according to the slot used to transmit the SLSS, as specified in <a href=\"#5.8.5.3\">5.8.5.3</a>;", 20], ["", 1, "1>\tsubmit the MasterInformationBlockSidelink to lower layers for transmission upon which the procedure ends;", 21]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.9\tSidelink RRC procedure\n5.8.9.4\tSidelink common control information\n5.8.9.4.3\tTransmission of MasterInformationBlockSidelink message"}, {"id": "5.8.10", "name": "Sidelink measurement", "headline": "5.8.10\tSidelink measurement", "aoa": [], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement"}, {"id": "5.8.10.1", "name": "Introduction", "headline": "5.8.10.1\tIntroduction", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.1\tIntroduction", ""], ["", 0, "The UE may configure the associated peer UE to peform NR sidelink measurement and report in accordance with the NR sidelink measurement configuration for unicast by RRCReconfigurationSidelink message.", 0], ["", 0, "The NR sidelink measurement configuration includes the following parameters for a PC5-RRC connection:\n1.\tNR sidelink measurement objects: Object(s) on which the associated peer UE shall perform the NR sidelink measurements.\n-\tFor NR sidelink measurement, a NR sidelink measurement object indicates the NR sidelink frequency of reference signals to be measured.\n2.\tNR sidelink reporting configurations: NR sidelink measurement reporting configuration(s) where there can be one or multiple NR sidelink reporting configurations per NR sidelink measurement object. Each NR sidelink reporting configuration consists of the following:\n-\tReporting criterion: The criterion that triggers the UE to send a NR sidelink measurement report. This can either be periodical or a single event description.\n-\tRS type: The RS that the UE uses for NR sidelink measurement results. In this release, only DMRS is supported for NR sidelink measurement.\n-\tReporting format: The quantities that the UE includes in the measurement report. In this release, only RSRP measurement is supported.\n3.\tNR sidelink measurement identities: A list of NR sidelink measurement identities where each NR sidelink measurement identity links one NR sidelink measurement object with one NR sidelink reporting configuration. By configuring multiple NR sidelink measurement identities, it is possible to link more than one NR sidelink measurement object to the same NR sidelink reporting configuration, as well as to link more than one NR sidelink reporting configuration to the same NR sidelink measurement object. The NR sidelink measurement identity is also included in the NR sidelink measurement report that triggered the reporting, serving as a reference to the network.\n4.\tNR sidelink quantity configurations: The NR sidelink quantity configuration defines the NR sidelink measurement filtering configuration used for all event evaluation and related reporting, and for periodical reporting of that NR sidelink measurement. In each configuration, different filter coefficients can be configured for different NR sidelink measurement quantities.", 1], ["", 0, "Both UEs of the PC5-RRC connection maintains a NR sidelink measurement object list, a NR sidelink reporting configuration list, and a NR sidelink measurement identities list according to signalling and procedures in this specification.", 2]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.1\tIntroduction"}, {"id": "5.8.10.2", "name": "Sidelink measurement configuration", "headline": "5.8.10.2\tSidelink measurement configuration", "aoa": [], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.2\tSidelink measurement configuration"}, {"id": "5.8.10.2.1", "name": "General", "headline": "5.8.10.2.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.2\tSidelink measurement configuration\n5.8.10.2.1\tGeneral", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tif the received sl-MeasConfig includes the sl-MeasObjectToRemoveList in the RRCReconfigurationSidelink:", 1], ["", 2, "2>\tperform the sidelink measurement object removal procedure as specified in <a href=\"#5.8.10.2.4\">5.8.10.2.4</a>;", 2], ["-", 1, "1>\tif the received sl-MeasConfig includes the sl-MeasObjectToAddModList in the RRCReconfigurationSidelink:", 3], ["", 2, "2>\tperform the sidelink measurement object addition/modification procedure as specified in <a href=\"#5.8.10.2.5\">5.8.10.2.5</a>;", 4], ["-", 1, "1>\tif the received sl-MeasConfig includes the sl-ReportConfigToRemoveList in the RRCReconfigurationSidelink:", 5], ["", 2, "2>\tperform the sidelink reporting configuration removal procedure as specified in <a href=\"#5.8.10.2.6\">5.8.10.2.6</a>;", 6], ["-", 1, "1>\tif the received sl-MeasConfig includes the sl-ReportConfigToAddModList in the RRCReconfigurationSidelink:", 7], ["", 2, "2>\tperform the sidelink reporting configuration addition/modification procedure as specified in <a href=\"#5.8.10.2.7\">5.8.10.2.7</a>;", 8], ["-", 1, "1>\tif the received sl-MeasConfig includes the sl-QuantityConfig in the RRCReconfigurationSidelink:", 9], ["", 2, "2>\tperform the sidelink quantity configuration procedure as specified in <a href=\"#5.8.10.2.8\">5.8.10.2.8</a>;", 10], ["-", 1, "1>\tif the received sl-MeasConfig includes the sl-MeasIdToRemoveList in the RRCReconfigurationSidelink:", 11], ["", 2, "2>\tperform the sidelink measurement identity removal procedure as specified in <a href=\"#5.8.10.2.2\">5.8.10.2.2</a>;", 12], ["-", 1, "1>\tif the received sl-MeasConfig includes the sl-MeasIdToAddModList in the RRCReconfigurationSidelink:", 13], ["", 2, "2>\tperform the sidelink measurement identity addition/modification procedure as specified in <a href=\"#5.8.10.2.3\">5.8.10.2.3</a>;", 14]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.2\tSidelink measurement configuration\n5.8.10.2.1\tGeneral"}, {"id": "5.8.10.2.2", "name": "Sidelink measurement identity removal", "headline": "5.8.10.2.2\tSidelink measurement identity removal", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.2\tSidelink measurement configuration\n5.8.10.2.2\tSidelink measurement identity removal", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tfor each sl-MeasId included in the received sl-MeasIdToRemoveList that is part of the current UE configuration in VarMeasConfigSL:", 1], ["", 2, "2>\tremove the entry with the matching sl-MeasId from the sl-MeasIdList within the VarMeasConfigSL;", 2], ["", 2, "2>\tremove the NR sidelink measurement reporting entry for this sl-MeasId from the VarMeasReportListSL, if included;", 3], ["", 2, "2>\tstop the periodical reporting timer and reset the associated information (e.g. sl-TimeToTrigger) for this sl-MeasId.\nNOTE:\tThe UE does not consider the message as erroneous if the sl-MeasIdToRemoveList includes any sl-MeasId value that is not part of the current UE configuration.", 4]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.2\tSidelink measurement configuration\n5.8.10.2.2\tSidelink measurement identity removal"}, {"id": "5.8.10.2.3", "name": "Sidelink measurement identity addition/modification", "headline": "5.8.10.2.3\tSidelink measurement identity addition/modification", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.2\tSidelink measurement configuration\n5.8.10.2.3\tSidelink measurement identity addition/modification", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tfor each sl-MeasId included in the received sl-MeasIdToAddModList:", 1], ["-", 2, "2>\tif an entry with the matching sl-MeasId exists in the sl-MeasIdList within the VarMeasConfigSL:", 2], ["", 3, "3>\treplace the entry with the value received for this sl-MeasId;", 3], ["-", 2, "2>\telse:", 4], ["", 3, "3>\tadd a new entry for this sl-MeasId within the VarMeasConfigSL;", 5], ["", 2, "2>\tremove the measurement reporting entry for this sl-MeasId from the VarMeasReportListSL, if included;", 6], ["", 2, "2>\tstop the periodical reporting timer and reset the associated information (e.g. sl-TimeToTrigger) for this sl-MeasId;", 7]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.2\tSidelink measurement configuration\n5.8.10.2.3\tSidelink measurement identity addition/modification"}, {"id": "5.8.10.2.4", "name": "Sidelink measurement object removal", "headline": "5.8.10.2.4\tSidelink measurement object removal", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.2\tSidelink measurement configuration\n5.8.10.2.4\tSidelink measurement object removal", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tfor each sl-MeasObjectId included in the received sl-MeasObjectToRemoveList that is part of sl-MeasObjectList in VarMeasConfigSL:", 1], ["", 2, "2>\tremove the entry with the matching sl-MeasObjectId from the sl-MeasObjectList within the VarMeasConfigSL;", 2], ["", 2, "2>\tremove all sl-MeasId associated with this sl-MeasObjectId from the sl-MeasIdList within the VarMeasConfigSL, if any;", 3], ["-", 2, "2>\tif a sl-MeasId is removed from the sl-MeasIdList:", 4], ["", 3, "3>\tremove the measurement reporting entry for this sl-MeasId from the VarMeasReportListSL, if included;", 5], ["", 3, "3>\tstop the periodical reporting timer and reset the associated information (e.g. sl-TimeToTrigger) for this sl-MeasId.\nNOTE:\tThe UE does not consider the message as erroneous if the sl-MeasObjectToRemoveList includes any sl-MeasObjectId value that is not part of the current UE configuration.", 6]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.2\tSidelink measurement configuration\n5.8.10.2.4\tSidelink measurement object removal"}, {"id": "5.8.10.2.5", "name": "Sidelink measurement object addition/modification", "headline": "5.8.10.2.5\tSidelink measurement object addition/modification", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.2\tSidelink measurement configuration\n5.8.10.2.5\tSidelink measurement object addition/modification", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tfor each sl-MeasObjectId included in the received sl-MeasObjectToAddModList:", 1], ["-", 2, "2>\tif an entry with the matching sl-MeasObjectId exists in the sl-MeasObjectList within the VarMeasConfigSL, for this entry:", 2], ["", 3, "3>\treconfigure the entry with the value received for this sl-MeasObject;", 3], ["-", 2, "2>\telse:", 4], ["", 3, "3>\tadd a new entry for the received sl-MeasObject to the sl-MeasObjectList within VarMeasConfigSL.", 5]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.2\tSidelink measurement configuration\n5.8.10.2.5\tSidelink measurement object addition/modification"}, {"id": "5.8.10.2.6", "name": "Sidelink reporting configuration removal", "headline": "5.8.10.2.6\tSidelink reporting configuration removal", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.2\tSidelink measurement configuration\n5.8.10.2.6\tSidelink reporting configuration removal", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tfor each sl-ReportConfigId included in the received sl-ReportConfigToRemoveList that is part of the current UE configuration in VarMeasConfigSL:", 1], ["", 2, "2>\tremove the entry with the matching sl-ReportConfigId from the sl-ReportConfigList within the VarMeasConfigSL;", 2], ["", 2, "2>\tremove all sl-MeasId associated with the sl-ReportConfigId from the sl-MeasIdList within the VarMeasConfigSL, if any;", 3], ["-", 2, "2>\tif a sl-MeasId is removed from the sl-MeasIdList:", 4], ["", 3, "3>\tremove the measurement reporting entry for this sl-MeasId from the VarMeasReportListSL, if included;", 5], ["", 3, "3>\tstop the periodical reporting timer and reset the associated information (e.g. sl-TimeToTrigger) for this sl-MeasId.\nNOTE:\tThe UE does not consider the message as erroneous if the sl-ReportConfigToRemoveList includes any sl-ReportConfigId value that is not part of the current UE configuration.", 6]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.2\tSidelink measurement configuration\n5.8.10.2.6\tSidelink reporting configuration removal"}, {"id": "5.8.10.2.7", "name": "Sidelink reporting configuration addition/modification", "headline": "5.8.10.2.7\tSidelink reporting configuration addition/modification", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.2\tSidelink measurement configuration\n5.8.10.2.7\tSidelink reporting configuration addition/modification", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tfor each sl-ReportConfigId included in the received sl-ReportConfigToAddModList:", 1], ["-", 2, "2>\tif an entry with the matching sl-ReportConfigId exists in the sl-ReportConfigList within the VarMeasConfigSL, for this entry:", 2], ["", 3, "3>\treconfigure the entry with the value received for this sl-ReportConfig;", 3], ["-", 3, "3>\tfor each sl-MeasId associated with this sl-ReportConfigId included in the sl-MeasIdList within the VarMeasConfigSL, if any:", 4], ["", 4, "4>\tremove the measurement reporting entry for this sl-MeasId from the VarMeasReportListSL, if included;", 5], ["", 4, "4>\tstop the periodical reporting timer and reset the associated information (e.g. sl-TimeToTrigger) for this sl-MeasId;", 6], ["-", 2, "2>\telse:", 7], ["", 3, "3>\tadd a new entry for the received sl-ReportConfig to the sl-ReportConfigList within the VarMeasConfigSL.", 8]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.2\tSidelink measurement configuration\n5.8.10.2.7\tSidelink reporting configuration addition/modification"}, {"id": "5.8.10.2.8", "name": "Sidelink quantity configuration", "headline": "5.8.10.2.8\tSidelink quantity configuration", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.2\tSidelink measurement configuration\n5.8.10.2.8\tSidelink quantity configuration", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tfor each received sl-QuantityConfig:", 1], ["", 2, "2>\tset the corresponding parameter(s) in sl-QuantityConfig within VarMeasConfigSL to the value of the received sl-QuantityConfig parameter(s);", 2], ["-", 1, "1>\tfor each sl-MeasId included in the sl-MeasIdList within VarMeasConfigSL:", 3], ["", 2, "2>\tremove the measurement reporting entry for this sl-MeasId from the VarMeasReportListSL, if included;", 4], ["", 2, "2>\tstop the periodical reporting timer and reset the associated information (e.g. sl-TimeToTrigger) for this sl-MeasId.", 5]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.2\tSidelink measurement configuration\n5.8.10.2.8\tSidelink quantity configuration"}, {"id": "5.8.10.3", "name": "Performing NR sidelink measurements", "headline": "5.8.10.3\tPerforming NR sidelink measurements", "aoa": [], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.3\tPerforming NR sidelink measurements"}, {"id": "5.8.10.3.1", "name": "General", "headline": "5.8.10.3.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.3\tPerforming NR sidelink measurements\n5.8.10.3.1\tGeneral", ""], ["", 0, "A UE shall derive NR sidelink measurement results by measuring one or multiple DMRS associated per PC5-RRC connection as configured by the peer UE associated, as described in 5.8.10.3.2. For all NR sidelink measurement results the UE applies the layer 3 filtering as specified in sub-clause 5.5.3.2, before using the measured results for evaluation of reporting criteria and measurement reporting. In this release, only NR sidelink RSRP can be configured as trigger quantity and reporting quantity.", 0], ["-", 0, "The UE shall:", 1], ["-", 1, "1>\tfor each sl-MeasId included in the sl-MeasIdList within VarMeasConfigSL:", 2], ["-", 2, "2>\tif the sl-MeasObject is associated to NR sidelink and the sl-RS-Type is set to dmrs:", 3], ["", 3, "3>\tderive the layer 3 filtered NR sidelink measurement result based on DMRS for the trigger quantity and each measurement quantity indicated in sl-ReportQuantity using parameters from the associated sl-MeasObject, as described in 5.8.10.3.2", 4], ["", 2, "2>\tperform the evaluation of reporting criteria as specified in 5.8.10.4.", 5]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.3\tPerforming NR sidelink measurements\n5.8.10.3.1\tGeneral"}, {"id": "5.8.10.3.2", "name": "Derivation of NR sidelink measurement results", "headline": "5.8.10.3.2\tDerivation of NR sidelink measurement results", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.3\tPerforming NR sidelink measurements\n5.8.10.3.2\tDerivation of NR sidelink measurement results", ""], ["", 0, "The UE may be configured by the peer UE associated to derive NR sidelink RSRP measurement results per PC5-RRC connection associated to the NR sidelink measurement objects based on parameters configured in the sl-MeasObject and in the sl-ReportConfig.", 0], ["-", 0, "The UE shall:", 1], ["-", 1, "1>\tfor each NR sidelink measurement quantity to be derived based on NR sidelink DMRS:", 2], ["", 2, "2>\tderive the corresponding measurement of NR sidelink frequency indicated quantity based on DMRS as described in TS 38.215 [9] in the concerned sl-MeasObject;", 3], ["", 2, "2>\tapply layer 3 filtering as described in <a href=\"#5.5.3.2\">5.5.3.2</a>;", 4]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.3\tPerforming NR sidelink measurements\n5.8.10.3.2\tDerivation of NR sidelink measurement results"}, {"id": "5.8.10.4", "name": "Sidelink measurement report triggering", "headline": "5.8.10.4\tSidelink measurement report triggering", "aoa": [], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.4\tSidelink measurement report triggering"}, {"id": "5.8.10.4.1", "name": "General", "headline": "5.8.10.4.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.4\tSidelink measurement report triggering\n5.8.10.4.1\tGeneral", ""], ["-", 0, "The UE shall:", 0], ["-", 1, "1>\tfor each sl-MeasId included in the sl-MeasIdList within VarMeasConfigSL:", 1], ["-", 2, "2>\tif the sl-ReportType is set to sl-EventTriggered and if the entry condition applicable for this event, i.e. the event corresponding with the sl-EventId of the corresponding sl-ReportConfig within VarMeasConfigSL, is fulfilled for NR sidelink frequency for all NR sidelink measurements after layer 3 filtering taken during sl-TimeToTrigger defined for this event within the VarMeasConfigSL, while the VarMeasReportListSL does not include a NR sidelink measurement reporting entry for this sl-MeasId (a first NR sidelink frequency triggers the event):", 2], ["", 3, "3>\tinclude a NR sidelink measurement reporting entry within the VarMeasReportListSL for this sl-MeasId;", 3], ["", 3, "3>\tset the sl-NumberOfReportsSent defined within the VarMeasReportListSL for this sl-MeasId to 0;", 4], ["", 3, "3>\tinclude the concerned NR sidelink frequency in the sl-FrequencyTriggeredList defined within the VarMeasReportListSL for this sl-MeasId;", 5], ["", 3, "3>\tinitiate the NR sidelink measurement reporting procedure, as specified in 5.8.10.5;", 6], ["-", 2, "2>\telse if the sl-ReportType is set to sl-EventTriggered and if the entry condition applicable for this event, i.e. the event corresponding with the sl-EventId of the corresponding sl-ReportConfig within VarMeasConfigSL, is fulfilled for NR sidelink frequency not included in the sl-FrequencyTriggeredList for all NR sidelink measurements after layer 3 filtering taken during sl-TimeToTrigger defined for this event within the VarMeasConfigSL (a subsequent NR sidelink frequency triggers the event):", 7], ["", 3, "3>\tset the sl-NumberOfReportsSent defined within the VarMeasReportListSL for this sl-MeasId to 0;", 8], ["", 3, "3>\tinclude the concerned NR sidelink frequency in the sl-FrequencyTriggeredList defined within the VarMeasReportListSL for this sl-MeasId;", 9], ["", 3, "3>\tinitiate the NR sidelink measurement reporting procedure, as specified in 5.8.10.5;", 10], ["-", 2, "2>\telse if the sl-ReportType is set to sl-EventTriggered and if the leaving condition applicable for this event is fulfilled for NR sidelink frequency included in the sl-FrequencyTriggeredList defined within the VarMeasReportListSL for this sl-MeasId for all NR sidelink measurements after layer 3 filtering taken during sl-TimeToTrigger defined within the VarMeasConfigSL for this event:", 11], ["", 3, "3>\tremove the concerned NR sidelink frequency in the sl-FrequencyTriggeredList defined within the VarMeasReportListSL for this sl-MeasId;", 12], ["-", 3, "3>\tif sl-ReportOnLeave is set to true for the corresponding reporting configuration:", 13], ["", 4, "4>\tinitiate the NR sidelink measurement reporting procedure, as specified in 5.8.10.5;", 14], ["-", 3, "3>\tif the sl-FrequencyTriggeredList defined within the VarMeasReportListSL for this sl-MeasId is empty:", 15], ["", 4, "4>\tremove the NR sidelink measurement reporting entry within the VarMeasReportListSL for this sl-MeasId;", 16], ["", 4, "4>\tstop the periodical reporting timer for this sl-MeasId, if running;", 17], ["-", 2, "2>\tif sl-ReportType is set to sl-Periodical and if a (first) NR sidelink measurement result is available:", 18], ["", 3, "3>\tinclude a NR sidelink measurement reporting entry within the VarMeasReportListSL for this sl-MeasId;", 19], ["", 3, "3>\tset the sl-NumberOfReportsSent defined within the VarMeasReportListSL for this sl-MeasId to 0;", 20], ["", 3, "3>\tinitiate the NR sidelink measurement reporting procedure, as specified in 5.8.10.5, immediately after the quantity to be reported becomes available for the NR sidelink frequency:", 21], ["-", 2, "2>\tupon expiry of the periodical reporting timer for this sl-MeasId:", 22], ["", 3, "3>\tinitiate the NR sidelink measurement reporting procedure, as specified in 5.8.10.5.", 23]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.4\tSidelink measurement report triggering\n5.8.10.4.1\tGeneral"}, {"id": "5.8.10.4.2", "name": "Event S1 (Serving becomes better than threshold)", "headline": "5.8.10.4.2\tEvent S1 (Serving becomes better than threshold)", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.4\tSidelink measurement report triggering\n5.8.10.4.2\tEvent S1 (Serving becomes better than threshold)", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tconsider the entering condition for this event to be satisfied when condition S1-1, as specified below, is fulfilled;", 1], ["", 1, "1>\tconsider the leaving condition for this event to be satisfied when condition S1-2, as specified below, is fulfilled;", 2], ["", 1, "1>\tfor this NR sidelink measurement, consider the NR sidelink frequency corresponding to the associated sl-MeasObject associated with this event.", 3], ["", 0, "Inequality S1-1 (Entering condition)", 4], ["", 0, "Ms - Hys > Thresh", 5], ["", 0, "Inequality S1-2 (Leaving condition)", 6], ["", 0, "Ms + Hys < Thresh", 7], ["", 0, "The variables in the formula are defined as follows:", 8], ["", 0, "Ms is the NR sidelink measurement result of the NR sidelink frequency, not taking into account any offsets.", 9], ["", 0, "Hys is the hysteresis parameter for this event (i.e. sl-Hysteresis as defined within sl-ReportConfig for this event).", 10], ["", 0, "Thresh is the threshold parameter for this event (i.e. s1-Threshold as defined within sl-ReportConfig for this event).", 11], ["", 0, "Ms is expressed in dBm in case of RSRP.", 12], ["", 0, "Hys is expressed in dB.", 13], ["", 0, "Thresh is expressed in the same unit as Ms.", 14]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.4\tSidelink measurement report triggering\n5.8.10.4.2\tEvent S1 (Serving becomes better than threshold)"}, {"id": "5.8.10.4.3", "name": "Event S2 (Serving becomes worse than threshold)", "headline": "5.8.10.4.3\tEvent S2 (Serving becomes worse than threshold)", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.4\tSidelink measurement report triggering\n5.8.10.4.3\tEvent S2 (Serving becomes worse than threshold)", ""], ["-", 0, "The UE shall:", 0], ["", 1, "1>\tconsider the entering condition for this event to be satisfied when condition S2-1, as specified below, is fulfilled;", 1], ["", 1, "1>\tconsider the leaving condition for this event to be satisfied when condition S2-2, as specified below, is fulfilled;", 2], ["", 1, "1>\tfor this NR sidelink measurement, consider the NR sidelink frequency indicated by the sl-MeasObject associated to this event.", 3], ["", 0, "Inequality S2-1 (Entering condition)", 4], ["", 0, "Ms + Hys < Thresh", 5], ["", 0, "Inequality S2-2 (Leaving condition)", 6], ["", 0, "Ms - Hys > Thresh", 7], ["", 0, "The variables in the formula are defined as follows:", 8], ["", 0, "Ms is the NR sidelink measurement result of the NR sidelink frequency, not taking into account any offsets.", 9], ["", 0, "Hys is the hysteresis parameter for this event (i.e. sl-Hysteresis as defined within sl-ReportConfig for this event).", 10], ["", 0, "Thresh is the threshold parameter for this event (i.e. s2-Threshold as defined within sl-ReportConfig for this event).", 11], ["", 0, "Ms is expressed in dBm in case of RSRP.", 12], ["", 0, "Hys is expressed in dB.", 13], ["", 0, "Thresh is expressed in the same unit as Ms.", 14]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.4\tSidelink measurement report triggering\n5.8.10.4.3\tEvent S2 (Serving becomes worse than threshold)"}, {"id": "5.8.10.5", "name": "Sidelink measurement reporting", "headline": "5.8.10.5\tSidelink measurement reporting", "aoa": [], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.5\tSidelink measurement reporting"}, {"id": "5.8.10.5.1", "name": "General", "headline": "5.8.10.5.1\tGeneral", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.5\tSidelink measurement reporting\n5.8.10.5.1\tGeneral", ""], ["", 0, "Figure 5.8.10.5.1-1: NR sidelink measurement reporting", 0], ["", 0, "The purpose of this procedure is to transfer measurement results from the UE to the peer UE associated.", 1], ["-", 0, "For the sl-MeasId for which the NR sidelink measurement reporting procedure was triggered, the UE shall set the sl-MeasResults within the MeasurementReportSidelink message as follows:", 2], ["", 1, "1>\tset the sl-MeasId to the measurement identity that triggered the NR sidelink measurement reporting;", 3], ["-", 1, "1>\tif the sl-ReportConfig associated with the sl-MeasId that triggered the NR sidelink measurement reporting is set to sl-EventTriggered or sl-Periodical:", 4], ["", 2, "2>\tset sl-ResultDMRS within sl-MeasResult to include the NR sidelink DMRS based quantity indicated in the sl-ReportQuantity within the concerned sl-ReportConfig;", 5], ["", 1, "1>\tincrement the sl-NumberOfReportsSent as defined within the VarMeasReportListSSL for this sl-MeasId by 1;", 6], ["", 1, "1>\tstop the periodical reporting timer, if running;", 7], ["-", 1, "1>\tif the sl-NumberOfReportsSent as defined within the VarMeasReportListSL for this sl-MeasId is less than the sl-ReportAmount as defined within the corresponding sl-ReportConfig for this sl-MeasId:", 8], ["", 2, "2>\tstart the periodical reporting timer with the value of sl-ReportInterval as defined within the corresponding sl-ReportConfig for this sl-MeasId;", 9], ["-", 1, "1>\telse:", 10], ["-", 2, "2>\tif the sl-ReportType is set to sl-Periodical:", 11], ["", 3, "3>\tremove the entry within the VarMeasReportListSL for this sl-MeasId;", 12], ["", 3, "3>\tremove this sl-MeasId from the sl-MeasIdList within VarMeasConfigSL;", 13], ["", 1, "1>\tsubmit the MeasurementReportSidelink message to lower layers for transmission, upon which the procedure ends.", 14]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.10\tSidelink measurement\n5.8.10.5\tSidelink measurement reporting\n5.8.10.5.1\tGeneral"}, {"id": "5.8.11", "name": "Zone identity calculation", "headline": "5.8.11\tZone identity calculation", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.11\tZone identity calculation", ""], ["", 0, "The UE shall determine an identity of the zone (i.e. Zone_id) in which it is located using the following formulae, if sl-ZoneConfig is configured:\nx1= Floor (x / L) Mod 64;\ny1= Floor (y / W) Mod 64;", 0], ["", 0, "Zone_id = y1 * 64 + x1.", 1], ["", 0, "The parameters in the formulae are defined as follows:", 2], ["", 0, "L and Ware the same value of sl-ZoneLength included in sl-ZoneConfig;\nx is the geodesic distance in longitude between UE's current location and geographical coordinates (0, 0) according to WGS84 model [58] and it is expressed in meters;\ny is the geodesic distance in latitude between UE's current location and geographical coordinates (0, 0) according to WGS84 model [58] and it is expressed in meters.", 3]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.11\tZone identity calculation"}, {"id": "5.8.12", "name": "DFN derivation from GNSS", "headline": "5.8.12\tDFN derivation from GNSS", "aoa": [["-", -1, "5\t Procedures\n5.8\tSidelink\n5.8.12\tDFN derivation from GNSS", ""], ["", 0, "When the UE selects GNSS as the synchronization reference source, the DFN used for NR sidelink communication is derived from the current UTC time, by the following formulae:", 0], ["", 0, "DFN= Floor (0.1*(Tcurrent -Tref-offsetDFN)) mod 1024", 1], ["", 0, "SubframeNumber= Floor (Tcurrent -Tref-offsetDFN) mod 10", 2], ["", 0, "Where:", 3], ["", 0, "Tcurrent is the current UTC time that obtained from GNSS. This value is expressed in milliseconds;", 4], ["", 0, "Tref is the reference UTC time 00:00:00 on Gregorian calendar date 1 January, 1900 (midnight between Thursday, December 31, 1899 and Friday, January 1, 1900). This value is expressed in milliseconds;", 5], ["", 0, "OffsetDFN is the value sl-OffsetDFN if configured, otherwise it is zero. This value is expressed in milliseconds.\nNOTE 1:\tIn case of leap second change event, how UE obtains the scheduled time of leap second change to adjust Tcurrent correspondingly is left to UE implementation. How UE handles the sudden discontinuity of DFN is left to UE implementation.\nNOTE 2:\tThe slot level calculation is defined in subclause 8.2.3.2 in TS 38.211 [16].", 6]], "desc": "5\t Procedures\n5.8\tSidelink\n5.8.12\tDFN derivation from GNSS"}]}